(()=>{var exports={};exports.id=912,exports.ids=[912],exports.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},96206:e=>{"use strict";e.exports=require("console")},6113:e=>{"use strict";e.exports=require("crypto")},67643:e=>{"use strict";e.exports=require("diagnostics_channel")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},15673:e=>{"use strict";e.exports=require("node:events")},84492:e=>{"use strict";e.exports=require("node:stream")},47261:e=>{"use strict";e.exports=require("node:util")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},77282:e=>{"use strict";e.exports=require("process")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},35356:e=>{"use strict";e.exports=require("stream/web")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},29830:e=>{"use strict";e.exports=require("util/types")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},22079:(e,t,r)=>{"use strict";let n,i;r.r(t),r.d(t,{headerHooks:()=>vR,originalPathname:()=>v_,patchFetch:()=>vT,requestAsyncStorage:()=>vb,routeModule:()=>vw,serverHooks:()=>vk,staticGenerationAsyncStorage:()=>vS,staticGenerationBailout:()=>vD});var s,o,a,A,l,c,u={};r.r(u),r.d(u,{GET:()=>vQ,POST:()=>vQ});var h=r(95419),d=r(69108),g=r(99678);let f=require("firebase-admin/app"),p=require("firebase-admin/firestore");function E(e){let{db:t,namingStrategy:r="default"}=e instanceof p.Firestore?{db:e}:{...e,db:e?.firestore??S(e)},n="snake_case"===r,i=b(t,n),s=I(n);return{async createUser(e){let{id:t}=await i.users.add(e),r=await w(i.users.doc(t));if(!r)throw Error("[createUser] Failed to fetch created user");return r},getUser:async e=>await w(i.users.doc(e)),getUserByEmail:async e=>await Q(i.users.where("email","==",e)),async getUserByAccount({provider:e,providerAccountId:t}){let r=await Q(i.accounts.where("provider","==",e).where(s.toDb("providerAccountId"),"==",t));return r?await w(i.users.doc(r.userId)):null},async updateUser(e){if(!e.id)throw Error("[updateUser] Missing id");let t=i.users.doc(e.id);await t.set(e,{merge:!0});let r=await w(t);if(!r)throw Error("[updateUser] Failed to fetch updated user");return r},async deleteUser(e){await t.runTransaction(async t=>{let r=await i.accounts.where(s.toDb("userId"),"==",e).get(),n=await i.sessions.where(s.toDb("userId"),"==",e).get();t.delete(i.users.doc(e)),r.forEach(e=>t.delete(e.ref)),n.forEach(e=>t.delete(e.ref))})},async linkAccount(e){let t=await i.accounts.add(e);return await t.get().then(e=>e.data())??null},async unlinkAccount({provider:e,providerAccountId:t}){await v(i.accounts.where("provider","==",e).where(s.toDb("providerAccountId"),"==",t).limit(1))},async createSession(e){let t=await i.sessions.add(e),r=await t.get().then(e=>e.data());if(r)return r??null;throw Error("[createSession] Failed to fetch created session")},async getSessionAndUser(e){let t=await Q(i.sessions.where(s.toDb("sessionToken"),"==",e));if(!t)return null;let r=await w(i.users.doc(t.userId));return r?{session:t,user:r}:null},async updateSession(e){let r=await t.runTransaction(async t=>{let r=(await t.get(i.sessions.where(s.toDb("sessionToken"),"==",e.sessionToken).limit(1))).docs[0];return r?.exists?(t.set(r.ref,e,{merge:!0}),r.id):null});if(!r)return null;let n=await w(i.sessions.doc(r));if(n)return n;throw Error("[updateSession] Failed to fetch updated session")},async deleteSession(e){await v(i.sessions.where(s.toDb("sessionToken"),"==",e).limit(1))},createVerificationToken:async e=>(await i.verification_tokens.add(e),e),async useVerificationToken({identifier:e,token:t}){let r=(await i.verification_tokens.where("identifier","==",e).where("token","==",t).limit(1).get()).docs[0];if(!r)return null;let n=r.data();return await r.ref.delete(),n}}}let m={userId:"user_id",sessionToken:"session_token",providerAccountId:"provider_account_id",emailVerified:"email_verified"},C={};for(let e in m)C[m[e]]=e;let y=e=>e;function I(e){return e?{toDb:e=>m[e]??e,fromDb:e=>C[e]??e}:{toDb:y,fromDb:y}}function B(e){let t=I(e?.preferSnakeCase??!1);return{toFirestore(e){let r={};for(let n in e){if("id"===n)continue;let i=e[n];void 0!==i?r[t.toDb(n)]=i:console.warn(`FirebaseAdapter: value for key "${n}" is undefined`)}return r},fromFirestore(r){let n=r.data(),i={};for(let s in e?.excludeId||(i.id=r.id),n){let e=n[s];e instanceof p.Timestamp&&(e=e.toDate()),i[t.fromDb(s)]=e}return i}}}async function Q(e){let t=await e.limit(1).get();return t.docs[0]?.data()??null}async function v(e){for(let t of(await e.get()).docs)await t.ref.delete()}async function w(e){return(await e.get()).data()??null}function b(e,t=!1){return{users:e.collection("users").withConverter(B({preferSnakeCase:t})),sessions:e.collection("sessions").withConverter(B({preferSnakeCase:t})),accounts:e.collection("accounts").withConverter(B({preferSnakeCase:t})),verification_tokens:e.collection(t?"verification_tokens":"verificationTokens").withConverter(B({preferSnakeCase:t,excludeId:!0}))}}function S(e={}){let t=(0,f.getApps)(),r=e.name?t.find(t=>t.name===e.name):t[0];return r?(0,p.getFirestore)(r):(0,p.initializeFirestore)((0,f.initializeApp)(e,e.name))}var k=r(81355),R=r.n(k),D=r(69568);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _={NODE_CLIENT:!1,SDK_VERSION:"${JSCORE_VERSION}"},T=function(e){let t=[],r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},N=function(e){let t=[],r=0,n=0;for(;r<e.length;){let i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=((7&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else{let s=e[r++],o=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")},F={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,A=a?e[t+2]:0,l=i>>2,c=(3&i)<<4|o>>4,u=(15&o)<<2|A>>6,h=63&A;a||(h=64,s||(u=64)),n.push(r[l],r[c],r[u],r[h])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(T(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):N(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){let i=r[e.charAt(t++)],s=t<e.length?r[e.charAt(t)]:0,o=++t<e.length?r[e.charAt(t)]:64,a=++t<e.length?r[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw new M;let A=i<<2|s>>4;if(n.push(A),64!==o){let e=s<<4&240|o>>2;if(n.push(e),64!==a){let e=o<<6&192|a;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class M extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let L=function(e){let t=T(e);return F.encodeByteArray(t,!0)},O=function(e){return L(e).replace(/\./g,"")},x=function(e){try{return F.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(){if("undefined"!=typeof self)return self;if("undefined"!=typeof global)return global;throw Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P=()=>U().__FIREBASE_DEFAULTS__,J=()=>{if("undefined"==typeof process||void 0===process.env)return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},V=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&x(e[1]);return t&&JSON.parse(t)},H=()=>{try{return P()||J()||V()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},G=e=>{var t,r;return null===(r=null===(t=H())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},j=e=>{let t=G(e);if(!t)return;let r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]},Y=()=>{var e;return null===(e=H())||void 0===e?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[O(JSON.stringify(r)),O(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function z(){return!1}function $(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function X(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Z(){try{return"object"==typeof indexedDB}catch(e){return!1}}function ee(){return new Promise((e,t)=>{try{let r=!0,n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let et="FirebaseError";class er extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=et,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,en.prototype.create)}}class en{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},n=`${this.service}/${e}`,i=this.errors[e],s=i?ei(i,r):"Error",o=`${this.serviceName}: ${s} (${n}).`;return new er(n,o,r)}}function ei(e,t){return e.replace(es,(e,r)=>{let n=t[r];return null!=n?String(n):`<${r}?>`})}let es=/\{\$([^}]+)}/g;function eo(e,t){if(e===t)return!0;let r=Object.keys(e),n=Object.keys(t);for(let i of r){if(!n.includes(i))return!1;let r=e[i],s=t[i];if(ea(r)&&ea(s)){if(!eo(r,s))return!1}else if(r!==s)return!1}for(let e of n)if(!r.includes(e))return!1;return!0}function ea(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(e){let t=[];for(let[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function el(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[r,n]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(n)}}),t}function ec(e){let t=e.indexOf("?");if(!t)return"";let r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function eu(e,t){let r=new eh(e,t);return r.subscribe.bind(r)}class eh{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw Error("Missing Observer.");void 0===(n=ed(e,["next","error","complete"])?e:{next:e,error:t,complete:r}).next&&(n.next=eg),void 0===n.error&&(n.error=eg),void 0===n.complete&&(n.complete=eg);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ed(e,t){if("object"!=typeof e||null===e)return!1;for(let r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(e){return e&&e._delegate?e._delegate:e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_.NODE_CLIENT=!0;class ep{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eE="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new W;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(ey(e))try{this.getOrInitializeService({instanceIdentifier:eE})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=eE){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=eE){return this.instances.has(e)}getOptions(e=eE){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[e,t]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(e)&&t.resolve(n);return n}onInit(e,t){var r;let n=this.normalizeInstanceIdentifier(t),i=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;i.add(e),this.onInitCallbacks.set(n,i);let s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let n of r)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}return r||null}normalizeInstanceIdentifier(e=eE){return this.component?this.component.multipleInstances?e:eE:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function eC(e){return e===eE?void 0:e}function ey(e){return"EAGER"===e.instantiationMode}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new em(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eB=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ty||(ty={}));let eQ={debug:ty.DEBUG,verbose:ty.VERBOSE,info:ty.INFO,warn:ty.WARN,error:ty.ERROR,silent:ty.SILENT},ev=ty.INFO,ew={[ty.DEBUG]:"log",[ty.VERBOSE]:"log",[ty.INFO]:"info",[ty.WARN]:"warn",[ty.ERROR]:"error"},eb=(e,t,...r)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),i=ew[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class eS{constructor(e){this.name=e,this._logLevel=ev,this._logHandler=eb,this._userLogHandler=null,eB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ty))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?eQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ty.DEBUG,...e),this._logHandler(this,ty.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ty.VERBOSE,...e),this._logHandler(this,ty.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ty.INFO,...e),this._logHandler(this,ty.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ty.WARN,...e),this._logHandler(this,ty.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ty.ERROR,...e),this._logHandler(this,ty.ERROR,...e)}}let ek=(e,t)=>t.some(t=>e instanceof t);function eR(){return n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eD(){return i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}let e_=new WeakMap,eT=new WeakMap,eN=new WeakMap,eF=new WeakMap,eM=new WeakMap;function eL(e){let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(eV(e.result)),n()},s=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&e_.set(t,e)}).catch(()=>{}),eM.set(t,e),t}function eO(e){if(eT.has(e))return;let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),n()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});eT.set(e,t)}let ex={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return eT.get(e);if("objectStoreNames"===t)return e.objectStoreNames||eN.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return eV(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function eU(e){ex=e(ex)}function eP(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?eD().includes(e)?function(...t){return e.apply(eH(this),t),eV(e_.get(this))}:function(...t){return eV(e.apply(eH(this),t))}:function(t,...r){let n=e.call(eH(this),t,...r);return eN.set(n,t.sort?t.sort():[t]),eV(n)}}function eJ(e){return"function"==typeof e?eP(e):(e instanceof IDBTransaction&&eO(e),ek(e,eR()))?new Proxy(e,ex):e}function eV(e){if(e instanceof IDBRequest)return eL(e);if(eF.has(e))return eF.get(e);let t=eJ(e);return t!==e&&(eF.set(e,t),eM.set(t,e)),t}let eH=e=>eM.get(e);function eG(e,t,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){let o=indexedDB.open(e,t),a=eV(o);return n&&o.addEventListener("upgradeneeded",e=>{n(eV(o.result),e.oldVersion,e.newVersion,eV(o.transaction),e)}),r&&o.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}let ej=["get","getKey","getAll","getAllKeys","count"],eY=["put","add","delete","clear"],eW=new Map;function eq(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(eW.get(t))return eW.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=eY.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||ej.includes(r)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),o=s.store;return n&&(o=o.index(t.shift())),(await Promise.all([o[r](...t),i&&s.done]))[0]};return eW.set(t,s),s}eU(e=>({...e,get:(t,r,n)=>eq(t,r)||e.get(t,r,n),has:(t,r)=>!!eq(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!ez(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}function ez(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}let e$="@firebase/app",eX="0.9.28",eZ=new eS("@firebase/app"),e0="10.8.1",e1="[DEFAULT]",e2={[e$]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},e4=new Map,e5=new Map;function e3(e,t){try{e.container.addComponent(t)}catch(r){eZ.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function e9(e){let t=e.name;if(e5.has(t))return eZ.debug(`There were multiple attempts to register component ${t}.`),!1;for(let r of(e5.set(t,e),e4.values()))e3(r,e);return!0}function e8(e,t){let r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}let e6=new en("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ep("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw e6.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let te=e0;function tt(e,t={}){let r=e;"object"!=typeof t&&(t={name:t});let n=Object.assign({name:e1,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!=typeof i||!i)throw e6.create("bad-app-name",{appName:String(i)});if(r||(r=Y()),!r)throw e6.create("no-options");let s=e4.get(i);if(s){if(eo(r,s.options)&&eo(n,s.config))return s;throw e6.create("duplicate-app",{appName:i})}let o=new eI(i);for(let e of e5.values())o.addComponent(e);let a=new e7(r,n,o);return e4.set(i,a),a}function tr(e=e1){let t=e4.get(e);if(!t&&e===e1&&Y())return tt();if(!t)throw e6.create("no-app",{appName:e});return t}function tn(){return Array.from(e4.values())}function ti(e,t,r){var n;let i=null!==(n=e2[e])&&void 0!==n?n:e;r&&(i+=`-${r}`);let s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let e=[`Unable to register library "${i}" with version "${t}":`];s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),eZ.warn(e.join(" "));return}e9(new ep(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ts="firebase-heartbeat-database",to=1,ta="firebase-heartbeat-store",tA=null;function tl(){return tA||(tA=eG(ts,to,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ta)}catch(e){console.warn(e)}}}).catch(e=>{throw e6.create("idb-open",{originalErrorMessage:e.message})})),tA}async function tc(e){try{let t=(await tl()).transaction(ta),r=await t.objectStore(ta).get(th(e));return await t.done,r}catch(e){if(e instanceof er)eZ.warn(e.message);else{let t=e6.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});eZ.warn(t.message)}}}async function tu(e,t){try{let r=(await tl()).transaction(ta,"readwrite"),n=r.objectStore(ta);await n.put(t,th(e)),await r.done}catch(e){if(e instanceof er)eZ.warn(e.message);else{let t=e6.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});eZ.warn(t.message)}}}function th(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td=1024,tg=2592e6;class tf{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new tm(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=tp();return(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)?void 0:this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n)?void 0:(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=tg}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=tp(),{heartbeatsToSend:r,unsentEntries:n}=tE(this._heartbeatsCache.heartbeats),i=O(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function tp(){return new Date().toISOString().substring(0,10)}function tE(e,t=td){let r=[],n=e.slice();for(let i of e){let e=r.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),tC(r)>t){e.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),tC(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class tm{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Z()&&ee().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await tc(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return tu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return tu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function tC(e){return O(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e9(new ep("platform-logger",e=>new eK(e),"PRIVATE")),e9(new ep("heartbeat",e=>new tf(e),"PRIVATE")),ti(e$,eX,""),ti(e$,eX,"esm2017"),ti("fire-js","")})(0),/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti("firebase","10.8.1","app");var ty,tI,tB=r(73837),tQ=r(6113),tv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},tw={},tb=tb||{},tS=tv||self;function tk(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function tR(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function tD(e){return Object.prototype.hasOwnProperty.call(e,t_)&&e[t_]||(e[t_]=++tT)}var t_="closure_uid_"+(1e9*Math.random()>>>0),tT=0;function tN(e,t,r){return e.call.apply(e.bind,arguments)}function tF(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function tM(e,t,r){return(tM=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tN:tF).apply(null,arguments)}function tL(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function tO(e,t){function r(){}r.prototype=t.prototype,e.$=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.ac=function(e,r,n){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[r].apply(e,i)}}function tx(){this.s=this.s,this.o=this.o}var tU=0;tx.prototype.s=!1,tx.prototype.sa=function(){this.s||(this.s=!0,this.N(),0==tU)||tD(this)},tx.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};let tP=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let r=0;r<e.length;r++)if(r in e&&e[r]===t)return r;return -1};function tJ(e){let t=e.length;if(0<t){let r=Array(t);for(let n=0;n<t;n++)r[n]=e[n];return r}return[]}function tV(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];if(tk(r)){let t=e.length||0,n=r.length||0;e.length=t+n;for(let i=0;i<n;i++)e[t+i]=r[i]}else e.push(r)}}function tH(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}tH.prototype.h=function(){this.defaultPrevented=!0};var tG=function(){if(!tS.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};tS.addEventListener("test",e,t),tS.removeEventListener("test",e,t)}catch(e){}return e}();function tj(e){return/^[\s\xa0]*$/.test(e)}function tY(){var e=tS.navigator;return e&&(e=e.userAgent)?e:""}function tW(e){return -1!=tY().indexOf(e)}function tq(e){return tq[" "](e),e}function tK(e,t){var r=i2;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}tq[" "]=function(){};var tz=tW("Opera"),t$=tW("Trident")||tW("MSIE"),tX=tW("Edge"),tZ=tX||t$,t0=tW("Gecko")&&!(-1!=tY().toLowerCase().indexOf("webkit")&&!tW("Edge"))&&!(tW("Trident")||tW("MSIE"))&&!tW("Edge"),t1=-1!=tY().toLowerCase().indexOf("webkit")&&!tW("Edge");function t2(){var e=tS.document;return e?e.documentMode:void 0}e:{var t4="",t5=function(){var e=tY();return t0?/rv:([^\);]+)(\)|;)/.exec(e):tX?/Edge\/([\d\.]+)/.exec(e):t$?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):t1?/WebKit\/(\S+)/.exec(e):tz?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(t5&&(t4=t5?t5[1]:""),t$){var t3=t2();if(null!=t3&&t3>parseFloat(t4)){s=String(t3);break e}}s=t4}var t9=o=tS.document&&t$&&(t2()||parseInt(s,10))||void 0;function t8(e,t){if(tH.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(t0){e:{try{tq(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:t6[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&t8.$.h.call(this)}}tO(t8,tH);var t6={2:"touch",3:"pen",4:"mouse"};t8.prototype.h=function(){t8.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var t7="closure_listenable_"+(1e6*Math.random()|0),re=0;function rt(e,t,r,n,i){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.la=i,this.key=++re,this.fa=this.ia=!1}function rr(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function rn(e,t,r){for(let n in e)t.call(r,e[n],n,e)}function ri(e,t){for(let r in e)t.call(void 0,e[r],r,e)}function rs(e){let t={};for(let r in e)t[r]=e[r];return t}let ro="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ra(e,t){let r,n;for(let t=1;t<arguments.length;t++){for(r in n=arguments[t])e[r]=n[r];for(let t=0;t<ro.length;t++)r=ro[t],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function rA(e){this.src=e,this.g={},this.h=0}function rl(e,t){var r=t.type;if(r in e.g){var n,i=e.g[r],s=tP(i,t);(n=0<=s)&&Array.prototype.splice.call(i,s,1),n&&(rr(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function rc(e,t,r,n){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&!!r==s.capture&&s.la==n)return i}return -1}rA.prototype.add=function(e,t,r,n,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=rc(e,t,n,i);return -1<o?(t=e[o],r||(t.ia=!1)):((t=new rt(t,this.src,s,!!n,i)).ia=r,e.push(t)),t};var ru="closure_lm_"+(1e6*Math.random()|0),rh={};function rd(e,t,r,n,i){if(n&&n.once)return rp(e,t,r,n,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)rd(e,t[s],r,n,i);return null}return r=rQ(r),e&&e[t7]?e.O(t,r,tR(n)?!!n.capture:!!n,i):rg(e,t,r,!1,n,i)}function rg(e,t,r,n,i,s){if(!t)throw Error("Invalid event type");var o=tR(i)?!!i.capture:!!i,a=rI(e);if(a||(e[ru]=a=new rA(e)),(r=a.add(t,r,n,o,s)).proxy)return r;if(n=rf(),r.proxy=n,n.src=e,n.listener=r,e.addEventListener)tG||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),n,i);else if(e.attachEvent)e.attachEvent(rC(t.toString()),n);else if(e.addListener&&e.removeListener)e.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return r}function rf(){function e(r){return t.call(e.src,e.listener,r)}let t=ry;return e}function rp(e,t,r,n,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)rp(e,t[s],r,n,i);return null}return r=rQ(r),e&&e[t7]?e.P(t,r,tR(n)?!!n.capture:!!n,i):rg(e,t,r,!0,n,i)}function rE(e,t,r,n,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)rE(e,t[s],r,n,i);else(n=tR(n)?!!n.capture:!!n,r=rQ(r),e&&e[t7])?(e=e.i,(t=String(t).toString())in e.g&&-1<(r=rc(s=e.g[t],r,n,i))&&(rr(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=rI(e))&&(t=e.g[t.toString()],e=-1,t&&(e=rc(t,r,n,i)),(r=-1<e?t[e]:null)&&rm(r))}function rm(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[t7])rl(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(rC(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=rI(t))?(rl(r,e),0==r.h&&(r.src=null,t[ru]=null)):rr(e)}}}function rC(e){return e in rh?rh[e]:rh[e]="on"+e}function ry(e,t){if(e.fa)e=!0;else{t=new t8(t,this);var r=e.listener,n=e.la||e.src;e.ia&&rm(e),e=r.call(n,t)}return e}function rI(e){return(e=e[ru])instanceof rA?e:null}var rB="__closure_events_fn_"+(1e9*Math.random()>>>0);function rQ(e){return"function"==typeof e?e:(e[rB]||(e[rB]=function(t){return e.handleEvent(t)}),e[rB])}function rv(){tx.call(this),this.i=new rA(this),this.S=this,this.J=null}function rw(e,t){var r,n=e.J;if(n)for(r=[];n;n=n.J)r.push(n);if(e=e.S,n=t.type||t,"string"==typeof t)t=new tH(t,e);else if(t instanceof tH)t.target=t.target||e;else{var i=t;ra(t=new tH(n,e),i)}if(i=!0,r)for(var s=r.length-1;0<=s;s--){var o=t.g=r[s];i=rb(o,n,!0,t)&&i}if(i=rb(o=t.g=e,n,!0,t)&&i,i=rb(o,n,!1,t)&&i,r)for(s=0;s<r.length;s++)i=rb(o=t.g=r[s],n,!1,t)&&i}function rb(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==r){var a=o.listener,A=o.la||o.src;o.ia&&rl(e.i,o),i=!1!==a.call(A,n)&&i}}return i&&!n.defaultPrevented}tO(rv,tx),rv.prototype[t7]=!0,rv.prototype.removeEventListener=function(e,t,r,n){rE(this,e,t,r,n)},rv.prototype.N=function(){if(rv.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)rr(r[n]);delete t.g[e],t.h--}}this.J=null},rv.prototype.O=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},rv.prototype.P=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};var rS=tS.JSON.stringify;class rk{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function rR(){var e=rO;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class rD{constructor(){this.h=this.g=null}add(e,t){let r=r_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var r_=new rk(()=>new rT,e=>e.reset());class rT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rN(e){var t=1;e=e.split(":");let r=[];for(;0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}function rF(e){tS.setTimeout(()=>{throw e},0)}let rM,rL=!1,rO=new rD,rx=()=>{let e=tS.Promise.resolve(void 0);rM=()=>{e.then(rU)}};var rU=()=>{for(var e;e=rR();){try{e.h.call(e.g)}catch(e){rF(e)}var t=r_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}rL=!1};function rP(e,t){rv.call(this),this.h=e||1,this.g=t||tS,this.j=tM(this.qb,this),this.l=Date.now()}function rJ(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function rV(e,t,r){if("function"==typeof e)r&&(e=tM(e,r));else if(e&&"function"==typeof e.handleEvent)e=tM(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:tS.setTimeout(e,t||0)}function rH(e){e.g=rV(()=>{e.g=null,e.i&&(e.i=!1,rH(e))},e.j);let t=e.h;e.h=null,e.m.apply(null,t)}tO(rP,rv),(tI=rP.prototype).ga=!1,tI.T=null,tI.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rw(this,"tick"),this.ga&&(rJ(this),this.start()))}},tI.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tI.N=function(){rP.$.N.call(this),rJ(this),delete this.g};class rG extends tx{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rH(this)}N(){super.N(),this.g&&(tS.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rj(e){tx.call(this),this.h=e,this.g={}}tO(rj,tx);var rY=[];function rW(e,t,r,n){Array.isArray(r)||(r&&(rY[0]=r.toString()),r=rY);for(var i=0;i<r.length;i++){var s=rd(t,r[i],n||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function rq(e){rn(e.g,function(e,t){this.g.hasOwnProperty(t)&&rm(e)},e),e.g={}}function rK(){this.g=!0}function rz(e,t,r,n,i,s){e.info(function(){if(e.g){if(s)for(var o="",a=s.split("&"),A=0;A<a.length;A++){var l=a[A].split("=");if(1<l.length){var c=l[0];l=l[1];var u=c.split("_");o=2<=u.length&&"type"==u[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null}else o=s;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+t+"\n"+r+"\n"+o})}function r$(e,t,r,n,i,s,o){e.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+t+"\n"+r+"\n"+s+" "+o})}function rX(e,t,r,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+r0(e,r)+(n?" "+n:"")})}function rZ(e,t){e.info(function(){return"TIMEOUT: "+t})}function r0(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r){for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var n=r[e];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}}return rS(r)}catch(e){return t}}rj.prototype.N=function(){rj.$.N.call(this),rq(this)},rj.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rK.prototype.Ea=function(){this.g=!1},rK.prototype.info=function(){};var r1={},r2=null;function r4(){return r2=r2||new rv}function r5(e){tH.call(this,r1.Ta,e)}function r3(e){let t=r4();rw(t,new r5(t))}function r9(e,t){tH.call(this,r1.STAT_EVENT,e),this.stat=t}function r8(e){let t=r4();rw(t,new r9(t,e))}function r6(e,t){tH.call(this,r1.Ua,e),this.size=t}function r7(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return tS.setTimeout(function(){e()},t)}r1.Ta="serverreachability",tO(r5,tH),r1.STAT_EVENT="statevent",tO(r9,tH),r1.Ua="timingevent",tO(r6,tH);var ne={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nt={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function nr(){}function nn(e){return e.h||(e.h=e.i())}function ni(){}nr.prototype.h=null;var ns={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function no(){tH.call(this,"d")}function na(){tH.call(this,"c")}function nA(){}function nl(e,t,r,n){this.l=e,this.j=t,this.m=r,this.W=n||1,this.U=new rj(this),this.P=nu,e=tZ?125:void 0,this.V=new rP(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new nc}function nc(){this.i=null,this.g="",this.h=!1}tO(no,tH),tO(na,tH),tO(nA,nr),nA.prototype.g=function(){return new XMLHttpRequest},nA.prototype.i=function(){return{}},a=new nA;var nu=45e3,nh={},nd={};function ng(e,t,r){e.L=1,e.A=nL(n_(t)),e.u=r,e.S=!0,nf(e,null)}function nf(e,t){e.G=Date.now(),nC(e),e.B=n_(e.A);var r=e.B,n=e.W;Array.isArray(n)||(n=[String(n)]),nK(r.i,"t",n),e.o=0,r=e.l.J,e.h=new nc,e.g=iY(e.l,r?t:null,!e.u),0<e.O&&(e.M=new rG(tM(e.Pa,e,e.g),e.O)),rW(e.U,e.g,"readystatechange",e.nb),t=e.I?rs(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),r3(),rz(e.j,e.v,e.B,e.m,e.W,e.u)}function np(e){return!!e.g&&"GET"==e.v&&2!=e.L&&e.l.Ha}function nE(e,t,r){let n=!0,i;for(;!e.J&&e.o<r.length;)if((i=nm(e,r))==nd){4==t&&(e.s=4,r8(14),n=!1),rX(e.j,e.m,null,"[Incomplete Response]");break}else if(i==nh){e.s=4,r8(15),rX(e.j,e.m,r,"[Invalid Chunk]"),n=!1;break}else rX(e.j,e.m,i,null),nv(e,i);np(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=r.length||e.h.h||(e.s=1,r8(16),n=!1),e.i=e.i&&n,n?0<r.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),ix(t),t.M=!0,r8(11))):(rX(e.j,e.m,r,"[Invalid Chunked Response]"),nQ(e),nB(e))}function nm(e,t){var r=e.o,n=t.indexOf("\n",r);return -1==n?nd:isNaN(r=Number(t.substring(r,n)))?nh:(n+=1)+r>t.length?nd:(t=t.slice(n,n+r),e.o=n+r,t)}function nC(e){e.Y=Date.now()+e.P,ny(e,e.P)}function ny(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=r7(tM(e.lb,e),t)}function nI(e){e.C&&(tS.clearTimeout(e.C),e.C=null)}function nB(e){0==e.l.H||e.J||iJ(e.l,e)}function nQ(e){nI(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,rJ(e.V),rq(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function nv(e,t){try{var r=e.l;if(0!=r.H&&(r.g==e||n4(r.i,e))){if(!e.K&&n4(r.i,e)&&3==r.H){try{var n=r.Ja.g.parse(t)}catch(e){n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){e:if(!r.u){if(r.g){if(r.g.G+3e3<e.G)iP(r),iR(r);else break e}iO(r),r8(18)}}else r.Fa=i[1],0<r.Fa-r.V&&37500>i[2]&&r.G&&0==r.A&&!r.v&&(r.v=r7(tM(r.ib,r),6e3));if(1>=n2(r.i)&&r.oa){try{r.oa()}catch(e){}r.oa=void 0}}else iH(r,11)}else if((e.K||r.g==e)&&iP(r),!tj(t))for(i=r.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(r.V=l[0],l=l[1],2==r.H){if("c"==l[0]){r.K=l[1],r.pa=l[2];let t=l[3];null!=t&&(r.ra=t,r.l.info("VER="+r.ra));let i=l[4];null!=i&&(r.Ga=i,r.l.info("SVER="+r.Ga));let c=l[5];null!=c&&"number"==typeof c&&0<c&&(n=1.5*c,r.L=n,r.l.info("backChannelRequestTimeoutMs_="+n)),n=r;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=n.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(n5(s,s.h),s.h=null))}if(n.F){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.Da=e,nM(n.I,n.F,e))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-e.G,r.l.info("Handshake RTT: "+r.S+"ms")),n=r;var o=e;if(n.wa=ij(n,n.J?n.pa:null,n.Y),o.K){n3(n.i,o);var a=o,A=n.L;A&&a.setTimeout(A),a.C&&(nI(a),nC(a)),n.g=o}else iL(n);0<r.j.length&&i_(r)}else"stop"!=l[0]&&"close"!=l[0]||iH(r,7)}else 3==r.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?iH(r,7):ik(r):"noop"!=l[0]&&r.h&&r.h.Aa(l),r.A=0)}}r3(4)}catch(e){}}function nw(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(tk(e)){for(var t=[],r=e.length,n=0;n<r;n++)t.push(e[n]);return t}for(n in t=[],r=0,e)t[r++]=e[n];return t}function nb(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(tk(e)||"string"==typeof e){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}for(let n in t=[],r=0,e)t[r++]=n;return t}}}function nS(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(tk(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var r=nb(e),n=nw(e),i=n.length,s=0;s<i;s++)t.call(void 0,n[s],r&&r[s],e)}(tI=nl.prototype).setTimeout=function(e){this.P=e},tI.nb=function(e){e=e.target;let t=this.M;t&&3==iI(e)?t.l():this.Pa(e)},tI.Pa=function(e){try{if(e==this.g)e:{let c=iI(this.g);var t=this.g.Ia();let u=this.g.da();if(!(3>c)&&(3!=c||tZ||this.g&&(this.h.h||this.g.ja()||iB(this.g)))){this.J||4!=c||7==t||(8==t||0>=u?r3(3):r3(2)),nI(this);var r=this.g.da();this.ca=r;t:if(np(this)){var n=iB(this.g);e="";var i=n.length,s=4==iI(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){nQ(this),nB(this);var o="";break t}this.h.i=new tS.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:s&&t==i-1});n.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==r,r$(this.j,this.v,this.B,this.m,this.W,c,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,A=this.g;if((a=A.g?A.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tj(a)){var l=a;break t}}l=null}if(r=l)rX(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nv(this,r);else{this.i=!1,this.s=3,r8(12),nQ(this),nB(this);break e}}this.S?(nE(this,c,o),tZ&&this.i&&3==c&&(rW(this.U,this.V,"tick",this.mb),this.V.start())):(rX(this.j,this.m,o,null),nv(this,o)),4==c&&nQ(this),this.i&&!this.J&&(4==c?iJ(this.l,this):(this.i=!1,nC(this)))}else iQ(this.g),400==r&&0<o.indexOf("Unknown SID")?(this.s=3,r8(12)):(this.s=0,r8(13)),nQ(this),nB(this)}}}catch(e){}finally{}},tI.mb=function(){if(this.g){var e=iI(this.g),t=this.g.ja();this.o<t.length&&(nI(this),nE(this,e,t),this.i&&4!=e&&nC(this))}},tI.cancel=function(){this.J=!0,nQ(this)},tI.lb=function(){this.C=null;let e=Date.now();0<=e-this.Y?(rZ(this.j,this.B),2!=this.L&&(r3(),r8(17)),nQ(this),this.s=2,nB(this)):ny(this,this.Y-e)};var nk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nR(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var n=e[r].indexOf("="),i=null;if(0<=n){var s=e[r].substring(0,n);i=e[r].substring(n+1)}else s=e[r];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function nD(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof nD){this.h=e.h,nT(this,e.j),this.s=e.s,this.g=e.g,nN(this,e.m),this.l=e.l;var t=e.i,r=new nj;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),nF(this,r),this.o=e.o}else e&&(t=String(e).match(nk))?(this.h=!1,nT(this,t[1]||"",!0),this.s=nO(t[2]||""),this.g=nO(t[3]||"",!0),nN(this,t[4]),this.l=nO(t[5]||"",!0),nF(this,t[6]||"",!0),this.o=nO(t[7]||"")):(this.h=!1,this.i=new nj(null,this.h))}function n_(e){return new nD(e)}function nT(e,t,r){e.j=r?nO(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nN(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nF(e,t,r){t instanceof nj?(e.i=t,n$(e.i,e.h)):(r||(t=nx(t,nH)),e.i=new nj(t,e.h))}function nM(e,t,r){e.i.set(t,r)}function nL(e){return nM(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nO(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function nx(e,t,r){return"string"==typeof e?(e=encodeURI(e).replace(t,nU),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function nU(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}nD.prototype.toString=function(){var e=[],t=this.j;t&&e.push(nx(t,nP,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(nx(t,nP,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&e.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(nx(r,"/"==r.charAt(0)?nV:nJ,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.o)&&e.push("#",nx(r,nG)),e.join("")};var nP=/[#\/\?@]/g,nJ=/[#\?:]/g,nV=/[#\?]/g,nH=/[#\?@]/g,nG=/#/g;function nj(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nY(e){e.g||(e.g=new Map,e.h=0,e.i&&nR(e.i,function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}function nW(e,t){nY(e),t=nz(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function nq(e,t){return nY(e),t=nz(e,t),e.g.has(t)}function nK(e,t,r){nW(e,t),0<r.length&&(e.i=null,e.g.set(nz(e,t),tJ(r)),e.h+=r.length)}function nz(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function n$(e,t){t&&!e.j&&(nY(e),e.i=null,e.g.forEach(function(e,t){var r=t.toLowerCase();t!=r&&(nW(this,t),nK(this,r,e))},e)),e.j=t}(tI=nj.prototype).add=function(e,t){nY(this),this.i=null,e=nz(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},tI.forEach=function(e,t){nY(this),this.g.forEach(function(r,n){r.forEach(function(r){e.call(t,r,n,this)},this)},this)},tI.ta=function(){nY(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let n=0;n<t.length;n++){let i=e[n];for(let e=0;e<i.length;e++)r.push(t[n])}return r},tI.Z=function(e){nY(this);let t=[];if("string"==typeof e)nq(this,e)&&(t=t.concat(this.g.get(nz(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)t=t.concat(e[r])}return t},tI.set=function(e,t){return nY(this),this.i=null,nq(this,e=nz(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},tI.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},tI.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var n=t[r];let s=encodeURIComponent(String(n)),o=this.Z(n);for(n=0;n<o.length;n++){var i=s;""!==o[n]&&(i+="="+encodeURIComponent(String(o[n]))),e.push(i)}}return this.i=e.join("&")};var nX=class{constructor(e,t){this.g=e,this.map=t}};function nZ(e){this.l=e||n0,e=tS.PerformanceNavigationTiming?0<(e=tS.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(tS.g&&tS.g.Ka&&tS.g.Ka()&&tS.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var n0=10;function n1(e){return!!e.h||!!e.g&&e.g.size>=e.j}function n2(e){return e.h?1:e.g?e.g.size:0}function n4(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function n5(e,t){e.g?e.g.add(t):e.h=t}function n3(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function n9(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let r of e.g.values())t=t.concat(r.F);return t}return tJ(e.i)}nZ.prototype.cancel=function(){if(this.i=n9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var n8=class{stringify(e){return tS.JSON.stringify(e,void 0)}parse(e){return tS.JSON.parse(e,void 0)}};function n6(){this.g=new n8}function n7(e,t,r){let n=r||"";try{nS(e,function(e,r){let i=e;tR(e)&&(i=rS(e)),t.push(n+r+"="+encodeURIComponent(i))})}catch(e){throw t.push(n+"type="+encodeURIComponent("_badmap")),e}}function ie(e,t){let r=new rK;if(tS.Image){let n=new Image;n.onload=tL(it,r,n,"TestLoadImage: loaded",!0,t),n.onerror=tL(it,r,n,"TestLoadImage: error",!1,t),n.onabort=tL(it,r,n,"TestLoadImage: abort",!1,t),n.ontimeout=tL(it,r,n,"TestLoadImage: timeout",!1,t),tS.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}function it(e,t,r,n,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(n)}catch(e){}}function ir(e){this.l=e.ec||null,this.j=e.ob||!1}function ii(e,t){rv.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=is,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tO(ir,nr),ir.prototype.g=function(){return new ii(this.l,this.j)},ir.prototype.i=function(e){return function(){return e}}({}),tO(ii,rv);var is=0;function io(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ia(e){e.readyState=4,e.l=null,e.j=null,e.A=null,iA(e)}function iA(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(tI=ii.prototype).open=function(e,t){if(this.readyState!=is)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,iA(this)},tI.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||tS).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},tI.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ia(this)),this.readyState=is},tI.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,iA(this)),this.g&&(this.readyState=3,iA(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==tS.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;io(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))}},tI.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ia(this):iA(this),3==this.readyState&&io(this)}},tI.Za=function(e){this.g&&(this.response=this.responseText=e,ia(this))},tI.Ya=function(e){this.g&&(this.response=e,ia(this))},tI.ka=function(){this.g&&ia(this)},tI.setRequestHeader=function(e,t){this.v.append(e,t)},tI.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},tI.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var r=t.next();!r.done;)e.push((r=r.value)[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(ii.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var il=tS.JSON.parse;function ic(e){rv.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iu,this.L=this.M=!1}tO(ic,rv);var iu="",ih=/^https?$/i,id=["POST","PUT"];function ig(e){return t$&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function ip(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,iE(e),iC(e)}function iE(e){e.F||(e.F=!0,rw(e,"complete"),rw(e,"error"))}function im(e){if(e.h&&void 0!==tb&&(!e.C[1]||4!=iI(e)||2!=e.da())){if(e.v&&4==iI(e))rV(e.La,0,e);else if(rw(e,"readystatechange"),4==iI(e)){e.h=!1;try{let o=e.da();switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,r,n=!0;break;default:n=!1}if(!(t=n)){if(r=0===o){var i=String(e.I).match(nk)[1]||null;!i&&tS.self&&tS.self.location&&(i=tS.self.location.protocol.slice(0,-1)),r=!ih.test(i?i.toLowerCase():"")}t=r}if(t)rw(e,"complete"),rw(e,"success");else{e.m=6;try{var s=2<iI(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.da()+"]",iE(e)}}finally{iC(e)}}}}function iC(e,t){if(e.g){iy(e);let r=e.g,n=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||rw(e,"ready");try{r.onreadystatechange=n}catch(e){}}}function iy(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(tS.clearTimeout(e.A),e.A=null)}function iI(e){return e.g?e.g.readyState:0}function iB(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case iu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function iQ(e){let t={};e=(e.g&&2<=iI(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(tj(e[n]))continue;var r=rN(e[n]);let i=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();let s=t[i]||[];t[i]=s,s.push(r)}ri(t,function(e){return e.join(", ")})}function iv(e){let t="";return rn(e,function(e,r){t+=r+":"+e+"\r\n"}),t}function iw(e,t,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=iv(r),"string"==typeof e?null!=r&&encodeURIComponent(String(r)):nM(e,t,r))}function ib(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function iS(e){this.Ga=0,this.j=[],this.l=new rK,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ib("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ib("baseRetryDelayMs",5e3,e),this.hb=ib("retryDelaySeedMs",1e4,e),this.eb=ib("forwardChannelMaxRetries",2,e),this.xa=ib("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new nZ(e&&e.concurrentRequestLimit),this.Ja=new n6,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ik(e){if(iD(e),3==e.H){var t=e.W++,r=n_(e.I);if(nM(r,"SID",e.K),nM(r,"RID",t),nM(r,"TYPE","terminate"),iF(e,r),(t=new nl(e,e.l,t)).L=2,t.A=nL(n_(r)),r=!1,tS.navigator&&tS.navigator.sendBeacon)try{r=tS.navigator.sendBeacon(t.A.toString(),"")}catch(e){}!r&&tS.Image&&((new Image).src=t.A,r=!0),r||(t.g=iY(t.l,null),t.g.ha(t.A)),t.G=Date.now(),nC(t)}iG(e)}function iR(e){e.g&&(ix(e),e.g.cancel(),e.g=null)}function iD(e){iR(e),e.u&&(tS.clearTimeout(e.u),e.u=null),iP(e),e.i.cancel(),e.m&&("number"==typeof e.m&&tS.clearTimeout(e.m),e.m=null)}function i_(e){if(!n1(e.i)&&!e.m){e.m=!0;var t=e.Na;rM||rx(),rL||(rM(),rL=!0),rO.add(t,e),e.C=0}}function iT(e,t){return!(n2(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):1!=e.H&&2!=e.H&&!(e.C>=(e.cb?0:e.eb))&&(e.m=r7(tM(e.Na,e,t),iV(e,e.C)),e.C++,!0))}function iN(e,t){var r;r=t?t.m:e.W++;let n=n_(e.I);nM(n,"SID",e.K),nM(n,"RID",r),nM(n,"AID",e.V),iF(e,n),e.o&&e.s&&iw(n,e.o,e.s),r=new nl(e,e.l,r,e.C+1),null===e.o&&(r.I=e.s),t&&(e.j=t.F.concat(e.j)),t=iM(e,r,1e3),r.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),n5(e.i,r),ng(r,n,t)}function iF(e,t){e.na&&rn(e.na,function(e,r){nM(t,r,e)}),e.h&&nS({},function(e,r){nM(t,r,e)})}function iM(e,t,r){r=Math.min(e.j.length,r);var n=e.h?tM(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){let e=["count="+r];-1==t?0<r?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<r;o++){let r=i[o].g,a=i[o].map;if(0>(r-=t))t=Math.max(0,i[o].g-100),s=!1;else try{n7(a,e,"req"+r+"_")}catch(e){n&&n(a)}}if(s){n=e.join("&");break e}}}return e=e.j.splice(0,r),t.F=e,n}function iL(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;rM||rx(),rL||(rM(),rL=!0),rO.add(t,e),e.A=0}}function iO(e){return!e.g&&!e.u&&!(3<=e.A)&&(e.ba++,e.u=r7(tM(e.Ma,e),iV(e,e.A)),e.A++,!0)}function ix(e){null!=e.B&&(tS.clearTimeout(e.B),e.B=null)}function iU(e){e.g=new nl(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=n_(e.wa);nM(t,"RID","rpc"),nM(t,"SID",e.K),nM(t,"AID",e.V),nM(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&nM(t,"TO",e.qa),nM(t,"TYPE","xmlhttp"),iF(e,t),e.o&&e.s&&iw(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var r=e.g;e=e.pa,r.L=1,r.A=nL(n_(t)),r.u=null,r.S=!0,nf(r,e)}function iP(e){null!=e.v&&(tS.clearTimeout(e.v),e.v=null)}function iJ(e,t){var r=null;if(e.g==t){iP(e),ix(e),e.g=null;var n=2}else{if(!n4(e.i,t))return;r=t.F,n3(e.i,t),n=1}if(0!=e.H){if(t.i){if(1==n){r=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;rw(n=r4(),new r6(n,r)),i_(e)}else iL(e)}else if(3==(i=t.s)||0==i&&0<t.ca||!(1==n&&iT(e,t)||2==n&&iO(e)))switch(r&&0<r.length&&((t=e.i).i=t.i.concat(r)),i){case 1:iH(e,5);break;case 4:iH(e,10);break;case 3:iH(e,6);break;default:iH(e,2)}}}function iV(e,t){let r=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(r*=2),r*t}function iH(e,t){if(e.l.info("Error code "+t),2==t){var r=null;e.h&&(r=null);var n=tM(e.pb,e);r||(r=new nD("//www.google.com/images/cleardot.gif"),tS.location&&"http"==tS.location.protocol||nT(r,"https"),nL(r)),ie(r.toString(),n)}else r8(2);e.H=0,e.h&&e.h.za(t),iG(e),iD(e)}function iG(e){if(e.H=0,e.ma=[],e.h){let t=n9(e.i);(0!=t.length||0!=e.j.length)&&(tV(e.ma,t),tV(e.ma,e.j),e.i.i.length=0,tJ(e.j),e.j.length=0),e.h.ya()}}function ij(e,t,r){var n=r instanceof nD?n_(r):new nD(r);if(""!=n.g)t&&(n.g=t+"."+n.g),nN(n,n.m);else{var i=tS.location;n=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new nD(null);n&&nT(s,n),t&&(s.g=t),i&&nN(s,i),r&&(s.l=r),n=s}return r=e.F,t=e.Da,r&&t&&nM(n,r,t),nM(n,"VER",e.ra),iF(e,n),n}function iY(e,t,r){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ic(e.Ha&&!e.va?new ir({ob:r}):e.va)).Oa(e.J),t}function iW(){}function iq(){if(t$&&!(10<=Number(t9)))throw Error("Environmental error: no available transport.")}function iK(e,t){rv.call(this),this.g=new iS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!tj(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!tj(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new iX(this)}function iz(e){no.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function i$(){na.call(this),this.status=1}function iX(e){this.g=e}function iZ(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function i0(e,t,r){r||(r=0);var n=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)n[i]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(i=0;16>i;++i)n[i]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^r&(i^s))+n[0]+3614090360&4294967295;o=s+(i^(t=r+(o<<7&4294967295|o>>>25))&(r^i))+n[1]+3905402710&4294967295,o=i+(r^(s=t+(o<<12&4294967295|o>>>20))&(t^r))+n[2]+606105819&4294967295,o=r+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+n[3]+3250441966&4294967295,o=t+(s^(r=i+(o<<22&4294967295|o>>>10))&(i^s))+n[4]+4118548399&4294967295,o=s+(i^(t=r+(o<<7&4294967295|o>>>25))&(r^i))+n[5]+1200080426&4294967295,o=i+(r^(s=t+(o<<12&4294967295|o>>>20))&(t^r))+n[6]+2821735955&4294967295,o=r+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+n[7]+4249261313&4294967295,o=t+(s^(r=i+(o<<22&4294967295|o>>>10))&(i^s))+n[8]+1770035416&4294967295,o=s+(i^(t=r+(o<<7&4294967295|o>>>25))&(r^i))+n[9]+2336552879&4294967295,o=i+(r^(s=t+(o<<12&4294967295|o>>>20))&(t^r))+n[10]+4294925233&4294967295,o=r+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+n[11]+2304563134&4294967295,o=t+(s^(r=i+(o<<22&4294967295|o>>>10))&(i^s))+n[12]+1804603682&4294967295,o=s+(i^(t=r+(o<<7&4294967295|o>>>25))&(r^i))+n[13]+4254626195&4294967295,o=i+(r^(s=t+(o<<12&4294967295|o>>>20))&(t^r))+n[14]+2792965006&4294967295,o=r+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+n[15]+1236535329&4294967295,r=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(r^i))+n[1]+4129170786&4294967295,t=r+(o<<5&4294967295|o>>>27),o=s+(r^i&(t^r))+n[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^r&(s^t))+n[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=r+(s^t&(i^s))+n[0]+3921069994&4294967295,r=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(r^i))+n[5]+3593408605&4294967295,t=r+(o<<5&4294967295|o>>>27),o=s+(r^i&(t^r))+n[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^r&(s^t))+n[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=r+(s^t&(i^s))+n[4]+3889429448&4294967295,r=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(r^i))+n[9]+568446438&4294967295,t=r+(o<<5&4294967295|o>>>27),o=s+(r^i&(t^r))+n[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^r&(s^t))+n[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=r+(s^t&(i^s))+n[8]+1163531501&4294967295,r=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(r^i))+n[13]+2850285829&4294967295,t=r+(o<<5&4294967295|o>>>27),o=s+(r^i&(t^r))+n[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^r&(s^t))+n[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=r+(s^t&(i^s))+n[12]+2368359562&4294967295,o=t+((r=i+(o<<20&4294967295|o>>>12))^i^s)+n[5]+4294588738&4294967295,o=s+((t=r+(o<<4&4294967295|o>>>28))^r^i)+n[8]+2272392833&4294967295,o=i+((s=t+(o<<11&4294967295|o>>>21))^t^r)+n[11]+1839030562&4294967295,o=r+((i=s+(o<<16&4294967295|o>>>16))^s^t)+n[14]+4259657740&4294967295,o=t+((r=i+(o<<23&4294967295|o>>>9))^i^s)+n[1]+2763975236&4294967295,o=s+((t=r+(o<<4&4294967295|o>>>28))^r^i)+n[4]+1272893353&4294967295,o=i+((s=t+(o<<11&4294967295|o>>>21))^t^r)+n[7]+4139469664&4294967295,o=r+((i=s+(o<<16&4294967295|o>>>16))^s^t)+n[10]+3200236656&4294967295,o=t+((r=i+(o<<23&4294967295|o>>>9))^i^s)+n[13]+681279174&4294967295,o=s+((t=r+(o<<4&4294967295|o>>>28))^r^i)+n[0]+3936430074&4294967295,o=i+((s=t+(o<<11&4294967295|o>>>21))^t^r)+n[3]+3572445317&4294967295,o=r+((i=s+(o<<16&4294967295|o>>>16))^s^t)+n[6]+76029189&4294967295,o=t+((r=i+(o<<23&4294967295|o>>>9))^i^s)+n[9]+3654602809&4294967295,o=s+((t=r+(o<<4&4294967295|o>>>28))^r^i)+n[12]+3873151461&4294967295,o=i+((s=t+(o<<11&4294967295|o>>>21))^t^r)+n[15]+530742520&4294967295,o=r+((i=s+(o<<16&4294967295|o>>>16))^s^t)+n[2]+3299628645&4294967295,r=i+(o<<23&4294967295|o>>>9),o=t+(i^(r|~s))+n[0]+4096336452&4294967295,t=r+(o<<6&4294967295|o>>>26),o=s+(r^(t|~i))+n[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~r))+n[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=r+(s^(i|~t))+n[5]+4237533241&4294967295,r=i+(o<<21&4294967295|o>>>11),o=t+(i^(r|~s))+n[12]+1700485571&4294967295,t=r+(o<<6&4294967295|o>>>26),o=s+(r^(t|~i))+n[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~r))+n[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=r+(s^(i|~t))+n[1]+2240044497&4294967295,r=i+(o<<21&4294967295|o>>>11),o=t+(i^(r|~s))+n[8]+1873313359&4294967295,t=r+(o<<6&4294967295|o>>>26),o=s+(r^(t|~i))+n[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~r))+n[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=r+(s^(i|~t))+n[13]+1309151649&4294967295,r=i+(o<<21&4294967295|o>>>11),o=t+(i^(r|~s))+n[4]+4149444226&4294967295,t=r+(o<<6&4294967295|o>>>26),o=s+(r^(t|~i))+n[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~r))+n[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=r+(s^(i|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function i1(e,t){this.h=t;for(var r=[],n=!0,i=e.length-1;0<=i;i--){var s=0|e[i];n&&s==t||(r[i]=s,n=!1)}this.g=r}(tI=ic.prototype).Oa=function(e){this.M=e},tI.ha=function(e,t,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():a.g(),this.C=this.u?nn(this.u):nn(a),this.g.onreadystatechange=tM(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){ip(this,e);return}if(e=r||"",r=new Map(this.headers),n){if(Object.getPrototypeOf(n)===Object.prototype)for(var i in n)r.set(i,n[i]);else if("function"==typeof n.keys&&"function"==typeof n.get)for(let e of n.keys())r.set(e,n.get(e));else throw Error("Unknown input type for opt_headers: "+String(n))}for(let[s,o]of(n=Array.from(r.keys()).find(e=>"content-type"==e.toLowerCase()),i=tS.FormData&&e instanceof tS.FormData,!(0<=tP(id,t))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r))this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iy(this),0<this.B&&((this.L=ig(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tM(this.ua,this)):this.A=rV(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){ip(this,e)}},tI.ua=function(){void 0!==tb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rw(this,"timeout"),this.abort(8))},tI.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,rw(this,"complete"),rw(this,"abort"),iC(this))},tI.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),iC(this,!0)),ic.$.N.call(this)},tI.La=function(){this.s||(this.G||this.v||this.l?im(this):this.kb())},tI.kb=function(){im(this)},tI.isActive=function(){return!!this.g},tI.da=function(){try{return 2<iI(this)?this.g.status:-1}catch(e){return -1}},tI.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},tI.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),il(t)}},tI.Ia=function(){return this.m},tI.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(tI=iS.prototype).ra=8,tI.H=1,tI.Na=function(e){if(this.m){if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;let i=new nl(this,this.l,e),s=this.s;if(this.U&&(s?ra(s=rs(s),this.U):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,r=0;r<this.j.length;r++){t:{var n=this.j[r];if("__data__"in n.map&&"string"==typeof(n=n.map.__data__)){n=n.length;break t}n=void 0}if(void 0===n)break;if(4096<(t+=n)){t=r;break e}if(4096===t||r===this.j.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=iM(this,i,t),nM(r=n_(this.I),"RID",e),nM(r,"CVER",22),this.F&&nM(r,"X-HTTP-Session-Id",this.F),iF(this,r),s&&(this.O?t="headers="+encodeURIComponent(String(iv(s)))+"&"+t:this.o&&iw(r,this.o,s)),n5(this.i,i),this.bb&&nM(r,"TYPE","init"),this.P?(nM(r,"$req",t),nM(r,"SID","null"),i.aa=!0,ng(i,r,null)):ng(i,r,t),this.H=2}}else 3==this.H&&(e?iN(this,e):0==this.j.length||n1(this.i)||iN(this))}},tI.Ma=function(){if(this.u=null,iU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=r7(tM(this.jb,this),e)}},tI.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,r8(10),iR(this),iU(this))},tI.ib=function(){null!=this.v&&(this.v=null,iR(this),iO(this),r8(19))},tI.pb=function(e){e?(this.l.info("Successfully pinged google.com"),r8(2)):(this.l.info("Failed to ping google.com"),r8(1))},tI.isActive=function(){return!!this.h&&this.h.isActive(this)},(tI=iW.prototype).Ba=function(){},tI.Aa=function(){},tI.za=function(){},tI.ya=function(){},tI.isActive=function(){return!0},tI.Va=function(){},iq.prototype.g=function(e,t){return new iK(e,t)},tO(iK,rv),iK.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,r=this.h||void 0;r8(0),e.Y=t,e.na=r||{},e.G=e.aa,e.I=ij(e,null,e.Y),i_(e)},iK.prototype.close=function(){ik(this.g)},iK.prototype.u=function(e){var t=this.g;if("string"==typeof e){var r={};r.__data__=e,e=r}else this.v&&((r={}).__data__=rS(e),e=r);t.j.push(new nX(t.fb++,e)),3==t.H&&i_(t)},iK.prototype.N=function(){this.g.h=null,delete this.j,ik(this.g),delete this.g,iK.$.N.call(this)},tO(iz,no),tO(i$,na),tO(iX,iW),iX.prototype.Ba=function(){rw(this.g,"a")},iX.prototype.Aa=function(e){rw(this.g,new iz(e))},iX.prototype.za=function(e){rw(this.g,new i$)},iX.prototype.ya=function(){rw(this.g,"b")},tO(iZ,function(){this.blockSize=-1}),iZ.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},iZ.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,n=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=r;)i0(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(n[i++]=e.charCodeAt(s++),i==this.blockSize){i0(this,n),i=0;break}}else for(;s<t;)if(n[i++]=e[s++],i==this.blockSize){i0(this,n),i=0;break}}this.h=i,this.i+=t},iZ.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&r,r/=256;for(this.j(e),e=Array(16),t=r=0;4>t;++t)for(var n=0;32>n;n+=8)e[r++]=this.g[t]>>>n&255;return e};var i2={};function i4(e){return -128<=e&&128>e?tK(e,function(e){return new i1([0|e],0>e?-1:0)}):new i1([0|e],0>e?-1:0)}function i5(e){if(isNaN(e)||!isFinite(e))return i8;if(0>e)return sr(i5(-e));for(var t=[],r=1,n=0;e>=r;n++)t[n]=e/r|0,r*=i9;return new i1(t,0)}function i3(e,t){if(0==e.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return sr(i3(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=i5(Math.pow(t,8)),n=i8,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=i5(Math.pow(t,s)),n=n.R(s).add(i5(o))):n=(n=n.R(r)).add(i5(o))}return n}var i9=4294967296,i8=i4(0),i6=i4(1),i7=i4(16777216);function se(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function st(e){return -1==e.h}function sr(e){for(var t=e.g.length,r=[],n=0;n<t;n++)r[n]=~e.g[n];return new i1(r,~e.h).add(i6)}function sn(e,t){return e.add(sr(t))}function si(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ss(e,t){this.g=e,this.h=t}function so(e,t){if(se(t))throw Error("division by zero");if(se(e))return new ss(i8,i8);if(st(e))return t=so(sr(e),t),new ss(sr(t.g),sr(t.h));if(st(t))return t=so(e,sr(t)),new ss(sr(t.g),t.h);if(30<e.g.length){if(st(e)||st(t))throw Error("slowDivide_ only works with positive integers.");for(var r=i6,n=t;0>=n.X(e);)r=sa(r),n=sa(n);var i=sA(r,1),s=sA(n,1);for(n=sA(n,2),r=sA(r,2);!se(n);){var o=s.add(n);0>=o.X(e)&&(i=i.add(r),s=o),n=sA(n,1),r=sA(r,1)}return t=sn(e,i.R(t)),new ss(i,t)}for(i=i8;0<=e.X(t);){for(n=48>=(n=Math.ceil(Math.log(r=Math.max(1,Math.floor(e.ea()/t.ea())))/Math.LN2))?1:Math.pow(2,n-48),o=(s=i5(r)).R(t);st(o)||0<o.X(e);)r-=n,o=(s=i5(r)).R(t);se(s)&&(s=i6),i=i.add(s),e=sn(e,o)}return new ss(i,e)}function sa(e){for(var t=e.g.length+1,r=[],n=0;n<t;n++)r[n]=e.D(n)<<1|e.D(n-1)>>>31;return new i1(r,e.h)}function sA(e,t){var r=t>>5;t%=32;for(var n=e.g.length-r,i=[],s=0;s<n;s++)i[s]=0<t?e.D(s+r)>>>t|e.D(s+r+1)<<32-t:e.D(s+r);return new i1(i,e.h)}(tI=i1.prototype).ea=function(){if(st(this))return-sr(this).ea();for(var e=0,t=1,r=0;r<this.g.length;r++){var n=this.D(r);e+=(0<=n?n:i9+n)*t,t*=i9}return e},tI.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(se(this))return"0";if(st(this))return"-"+sr(this).toString(e);for(var t=i5(Math.pow(e,6)),r=this,n="";;){var i=so(r,t).g,s=((0<(r=sn(r,i.R(t))).g.length?r.g[0]:r.h)>>>0).toString(e);if(se(r=i))return s+n;for(;6>s.length;)s="0"+s;n=s+n}},tI.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},tI.X=function(e){return st(e=sn(this,e))?-1:se(e)?0:1},tI.abs=function(){return st(this)?sr(this):this},tI.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0,i=0;i<=t;i++){var s=n+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);n=o>>>16,s&=65535,o&=65535,r[i]=o<<16|s}return new i1(r,-2147483648&r[r.length-1]?-1:0)},tI.R=function(e){if(se(this)||se(e))return i8;if(st(this))return st(e)?sr(this).R(sr(e)):sr(sr(this).R(e));if(st(e))return sr(this.R(sr(e)));if(0>this.X(i7)&&0>e.X(i7))return i5(this.ea()*e.ea());for(var t=this.g.length+e.g.length,r=[],n=0;n<2*t;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(var i=0;i<e.g.length;i++){var s=this.D(n)>>>16,o=65535&this.D(n),a=e.D(i)>>>16,A=65535&e.D(i);r[2*n+2*i]+=o*A,si(r,2*n+2*i),r[2*n+2*i+1]+=s*A,si(r,2*n+2*i+1),r[2*n+2*i+1]+=o*a,si(r,2*n+2*i+1),r[2*n+2*i+2]+=s*a,si(r,2*n+2*i+2)}for(n=0;n<t;n++)r[n]=r[2*n+1]<<16|r[2*n];for(n=t;n<2*t;n++)r[n]=0;return new i1(r,0)},tI.gb=function(e){return so(this,e).h},tI.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.D(n)&e.D(n);return new i1(r,this.h&e.h)},tI.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.D(n)|e.D(n);return new i1(r,this.h|e.h)},tI.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.D(n)^e.D(n);return new i1(r,this.h^e.h)},iq.prototype.createWebChannel=iq.prototype.g,iK.prototype.send=iK.prototype.u,iK.prototype.open=iK.prototype.m,iK.prototype.close=iK.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,nt.COMPLETE="complete",ni.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",rv.prototype.listen=rv.prototype.O,ic.prototype.listenOnce=ic.prototype.P,ic.prototype.getLastError=ic.prototype.Sa,ic.prototype.getLastErrorCode=ic.prototype.Ia,ic.prototype.getStatus=ic.prototype.da,ic.prototype.getResponseJson=ic.prototype.Wa,ic.prototype.getResponseText=ic.prototype.ja,ic.prototype.send=ic.prototype.ha,ic.prototype.setWithCredentials=ic.prototype.Oa,iZ.prototype.digest=iZ.prototype.l,iZ.prototype.reset=iZ.prototype.reset,iZ.prototype.update=iZ.prototype.j,i1.prototype.add=i1.prototype.add,i1.prototype.multiply=i1.prototype.R,i1.prototype.modulo=i1.prototype.gb,i1.prototype.compare=i1.prototype.X,i1.prototype.toNumber=i1.prototype.ea,i1.prototype.toString=i1.prototype.toString,i1.prototype.getBits=i1.prototype.D,i1.fromNumber=i5,i1.fromString=i3,tw.createWebChannelTransport=function(){return new iq},tw.getStatEventTarget=function(){return r4()},tw.ErrorCode=ne,tw.EventType=nt,tw.Event=r1,tw.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tw.FetchXmlHttpFactory=ir,tw.WebChannel=ni,tw.XhrIo=ic,tw.Md5=iZ;var sl=tw.Integer=i1;r(88388),r(64663);let sc="@firebase/firestore",su="4.4.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sh.UNAUTHENTICATED=new sh(null),sh.GOOGLE_CREDENTIALS=new sh("google-credentials-uid"),sh.FIRST_PARTY=new sh("first-party-uid"),sh.MOCK_USER=new sh("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd="10.8.1";function sg(e){sd=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(e){return(0,tB.inspect)(e,{depth:100})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp=new eS("@firebase/firestore");function sE(){return sp.logLevel}function sm(e,...t){if(sp.logLevel<=ty.DEBUG){let r=t.map(sI);sp.debug(`Firestore (${sd}): ${e}`,...r)}}function sC(e,...t){if(sp.logLevel<=ty.ERROR){let r=t.map(sI);sp.error(`Firestore (${sd}): ${e}`,...r)}}function sy(e,...t){if(sp.logLevel<=ty.WARN){let r=t.map(sI);sp.warn(`Firestore (${sd}): ${e}`,...r)}}function sI(e){if("string"==typeof e)return e;try{return sf(e)}catch(t){return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(e="Unexpected state"){let t=`FIRESTORE (${sd}) INTERNAL ASSERTION FAILED: `+e;throw sC(t),Error(t)}function sQ(e,t){e||sB()}function sv(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sb extends er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sh.UNAUTHENTICATED))}shutdown(){}}class sD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class s_{constructor(e){this.authProvider=e,this.currentUser=sh.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.tokenCounter,n=e=>this.tokenCounter!==r?(r=this.tokenCounter,t(e)):Promise.resolve(),i=new sS;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),i.resolve(),i=new sS,e.enqueueRetryable(()=>n(this.currentUser))};let s=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await n(this.currentUser)})},o=e=>{sm("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.tokenListener),s()};this.authProvider.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){let e=this.authProvider.getImmediate({optional:!0});e?o(e):(sm("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new sS)}},0),s()}getToken(){let e=this.tokenCounter,t=this.forceRefresh;return(this.forceRefresh=!1,this.auth)?this.auth.getToken(t).then(t=>this.tokenCounter!==e?(sm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(sQ("string"==typeof t.accessToken),new sk(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.tokenListener)}getUser(){let e=this.auth&&this.auth.getUid();return sQ(null===e||"string"==typeof e),new sh(e)}}class sT{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r,this.type="FirstParty",this.user=sh.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let e=this.getAuthToken();return e&&this._headers.set("Authorization",e),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}}class sN{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r}getToken(){return Promise.resolve(new sT(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(e,t){e.enqueueRetryable(()=>t(sh.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sM{constructor(e){this.appCheckProvider=e,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null}start(e,t){let r=e=>{null!=e.error&&sm("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let r=e.token!==this.latestAppCheckToken;return this.latestAppCheckToken=e.token,sm("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?t(e.token):Promise.resolve()};this.tokenListener=t=>{e.enqueueRetryable(()=>r(t))};let n=e=>{sm("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){let e=this.appCheckProvider.getImmediate({optional:!0});e?n(e):sm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return(this.forceRefresh=!1,this.appCheck)?this.appCheck.getToken(e).then(e=>e?(sQ("string"==typeof e.token),this.latestAppCheckToken=e.token,new sF(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.tokenListener)}}function sL(e){if(!e)return new sR;switch(e.type){case"firstParty":return new sN(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sb(sw.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(e){return(0,tQ.randomBytes)(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="",n=20;for(;r.length<n;){let i=sO(40);for(let s=0;s<i.length;++s)r.length<n&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function sU(e,t){return e<t?-1:e>t?1:0}function sP(e,t,r){return e.length===t.length&&e.every((e,n)=>r(e,t[n]))}function sJ(e){return e+"\x00"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sV=null,sH=1e6;class sG{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new sb(sw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sV||e>=253402300800)throw new sb(sw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sG.fromMillis(Date.now())}static fromDate(e){return sG.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*sH);return new sG(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sH}_compareTo(e){return this.seconds===e.seconds?sU(this.nanoseconds,e.nanoseconds):sU(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-sV).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.timestamp=e}static fromTimestamp(e){return new sj(e)}static min(){return new sj(new sG(0,0))}static max(){return new sj(new sG(253402300799,1e9-1))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sY="__name__";class sW{constructor(e,t,r){void 0===t?t=0:t>e.length&&sB(),void 0===r?r=e.length-t:r>e.length-t&&sB(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===sW.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof sW?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let r=e.get(n),i=t.get(n);if(r<i)return -1;if(r>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sq extends sW{construct(e,t,r){return new sq(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new sb(sw.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(e=>e.length>0))}return new sq(t)}static emptyPath(){return new sq([])}}let sK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sz extends null{construct(e,t,r){return new sz(e,t,r)}static isValidIdentifier(e){return sK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sz.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===sY}static keyField(){return new sz([sY])}static fromServerFormat(e){let t=[],r="",n=0,i=()=>{if(0===r.length)throw new sb(sw.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;n<e.length;){let t=e[n];if("\\"===t){if(n+1===e.length)throw new sb(sw.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[n+1];if(!("\\"===t||"."===t||"`"===t))throw new sb(sw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?s=!s:"."!==t||s?r+=t:i(),n++}if(i(),s)throw new sb(sw.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sz(t)}static emptyPath(){return new sz([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.path=e}static fromPath(e){return new s$(sq.fromString(e))}static fromName(e){return new s$(sq.fromString(e).popFirst(5))}static empty(){return new s$(sq.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sq.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sq.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new s$(new sq(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sX=null,sZ=0;class s0{constructor(e,t,r,n){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=n}}function s1(e){return e.fields.find(e=>2===e.kind)}function s2(e){return e.fields.filter(e=>2!==e.kind)}function s4(e){let t=s2(e);return 0===t.length?0:t[t.length-1].kind}function s5(e,t){let r=sU(e.collectionGroup,t.collectionGroup);if(0!==r)return r;for(let n=0;n<Math.min(e.fields.length,t.fields.length);++n)if(0!==(r=s8(e.fields[n],t.fields[n])))return r;return sU(e.fields.length,t.fields.length)}function s3(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`}s0.UNKNOWN_ID=-1;class s9{constructor(e,t){this.fieldPath=e,this.kind=t}}function s8(e,t){let r=sz.comparator(e.fieldPath,t.fieldPath);return 0!==r?r:sU(e.kind,t.kind)}class s6{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new s6(sZ,ot.min())}}function s7(e,t){let r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1;return new ot(sj.fromTimestamp(1e9===n?new sG(r+1,0):new sG(r,n)),s$.empty(),t)}function oe(e){return new ot(e.readTime,e.key,sX)}class ot{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ot(sj.min(),s$.empty(),sX)}static max(){return new ot(sj.max(),s$.empty(),sX)}}function or(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r||0!==(r=s$.comparator(e.documentKey,t.documentKey))?r:sU(e.largestBatchId,t.largestBatchId)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let on=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oi(e){if(e.code===sw.FAILED_PRECONDITION&&e.message===on)sm("LocalStore","Unexpectedly lost primary lease");else throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return(this.callbackAttached&&sB(),this.callbackAttached=!0,this.isDone)?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new os((r,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();if(t instanceof os)return t;return os.resolve(t)}catch(e){return os.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):os.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):os.reject(t)}static resolve(e){return new os((t,r)=>{t(e)})}static reject(e){return new os((t,r)=>{r(e)})}static waitFor(e){return new os((t,r)=>{let n=0,i=0,s=!1;e.forEach(e=>{++n,e.next(()=>{++i,s&&i===n&&t()},e=>r(e))}),s=!0,i===n&&t()})}static or(e){let t=os.resolve(!1);for(let r of e)t=t.next(e=>e?os.resolve(e):r());return t}static forEach(e,t){let r=[];return e.forEach((e,n)=>{r.push(t.call(this,e,n))}),this.waitFor(r)}static mapArray(e,t){return new os((r,n)=>{let i=e.length,s=Array(i),o=0;for(let a=0;a<i;a++){let A=a;t(e[A]).next(e=>{s[A]=e,++o===i&&r(s)},e=>n(e))}})}static doWhile(e,t){return new os((r,n)=>{let i=()=>{!0===e()?t().next(()=>{i()},n):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="SimpleDb",oa=3;class oA{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.completionDeferred=new sS,this.transaction.oncomplete=()=>{this.completionDeferred.resolve()},this.transaction.onabort=()=>{t.error?this.completionDeferred.reject(new ou(e,t.error)):this.completionDeferred.resolve()},this.transaction.onerror=t=>{let r=op(t.target.error);this.completionDeferred.reject(new ou(e,r))}}static open(e,t,r,n){try{return new oA(t,e.transaction(n,r))}catch(e){throw new ou(t,e)}}get completionPromise(){return this.completionDeferred.promise}abort(e){e&&this.completionDeferred.reject(e),this.aborted||(sm(oo,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}maybeCommit(){let e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){return new od(this.transaction.objectStore(e))}}class ol{constructor(e,t,r){this.name=e,this.version=t,this.schemaConverter=r,12.2===ol.getIOSVersion(getUA())&&sC("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return sm(oo,"Removing database:",e),og(window.indexedDB.deleteDatabase(e)).toPromise()}static isAvailable(){if(!isIndexedDBAvailable())return!1;if(ol.isMockPersistence())return!0;let e=getUA(),t=ol.getIOSVersion(e),r=0<t&&t<10,n=ol.getAndroidVersion(e),i=0<n&&n<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0)&&!r&&!i}static isMockPersistence(){var e;return"undefined"!=typeof process&&(null===(e=process.env)||void 0===e?void 0:e.USE_MOCK_PERSISTENCE)==="YES"}static getStore(e,t){return e.store(t)}static getIOSVersion(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(t?t[1].split("_").slice(0,2).join("."):"-1")}static getAndroidVersion(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}async ensureDb(e){return this.db||(sm(oo,"Opening database:",this.name),this.db=await new Promise((t,r)=>{let n=indexedDB.open(this.name,this.version);n.onsuccess=e=>{t(e.target.result)},n.onblocked=()=>{r(new ou(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},n.onerror=t=>{let n=t.target.error;"VersionError"===n.name?r(new sb(sw.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new sb(sw.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ou(e,n))},n.onupgradeneeded=e=>{sm(oo,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);let t=e.target.result;this.schemaConverter.createOrUpgrade(t,n.transaction,e.oldVersion,this.version).next(()=>{sm(oo,"Database upgrade to version "+this.version+" complete")})}})),this.versionchangelistener&&(this.db.onversionchange=e=>this.versionchangelistener(e)),this.db}setVersionChangeListener(e){this.versionchangelistener=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,n){let i="readonly"===t,s=0;for(;;){++s;try{this.db=await this.ensureDb(e);let t=oA.open(this.db,e,i?"readonly":"readwrite",r),s=n(t).next(e=>(t.maybeCommit(),e)).catch(e=>(t.abort(e),os.reject(e))).toPromise();return s.catch(()=>{}),await t.completionPromise,s}catch(r){let e=r,t="FirebaseError"!==e.name&&s<oa;if(sm(oo,"Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class oc{constructor(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor(e){this.dbCursor=e}done(){this.shouldStop=!0}skip(e){this.nextKey=e}delete(){return og(this.dbCursor.delete())}}class ou extends null{constructor(e,t){super(sw.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function oh(e){return"IndexedDbTransactionError"===e.name}class od{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(sm(oo,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(sm(oo,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),og(r)}add(e){return sm(oo,"ADD",this.store.name,e,e),og(this.store.add(e))}get(e){return og(this.store.get(e)).next(t=>(void 0===t&&(t=null),sm(oo,"GET",this.store.name,e,t),t))}delete(e){return sm(oo,"DELETE",this.store.name,e),og(this.store.delete(e))}count(){return sm(oo,"COUNT",this.store.name),og(this.store.count())}loadAll(e,t){let r=this.options(e,t),n=r.index?this.store.index(r.index):this.store;if("function"==typeof n.getAll){let e=n.getAll(r.range);return new os((t,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{let e=this.cursor(r),t=[];return this.iterateCursor(e,(e,r)=>{t.push(r)}).next(()=>t)}}loadFirst(e,t){let r=this.store.getAll(e,null===t?void 0:t);return new os((e,t)=>{r.onerror=e=>{t(e.target.error)},r.onsuccess=t=>{e(t.target.result)}})}deleteAll(e,t){sm(oo,"DELETE ALL",this.store.name);let r=this.options(e,t);r.keysOnly=!1;let n=this.cursor(r);return this.iterateCursor(n,(e,t,r)=>r.delete())}iterate(e,t){let r;t?r=e:(r={},t=e);let n=this.cursor(r);return this.iterateCursor(n,t)}iterateSerial(e){let t=this.cursor({});return new os((r,n)=>{t.onerror=e=>{n(op(e.target.error))},t.onsuccess=t=>{let n=t.target.result;if(!n){r();return}e(n.primaryKey,n.value).next(e=>{e?n.continue():r()})}})}iterateCursor(e,t){let r=[];return new os((n,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{let i=e.target.result;if(!i){n();return}let s=new oc(i),o=t(i.primaryKey,i.value,s);if(o instanceof os){let e=o.catch(e=>(s.done(),os.reject(e)));r.push(e)}s.isDone?n():null===s.skipToKey?i.continue():i.continue(s.skipToKey)}}).next(()=>os.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),!e.index)return this.store.openCursor(e.range,t);{let r=this.store.index(e.index);return e.keysOnly?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}}}function og(e){return new os((t,r)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{r(op(e.target.error))}})}let of=!1;function op(e){let t=ol.getIOSVersion(getUA());if(t>=12.2&&t<13){let t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){let e=new sb("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return of||(of=!0,setTimeout(()=>{throw e},0)),e}}return e}let oE="IndexBackfiller",om=null,oC=null,oy=50;class oI{constructor(e,t){this.asyncQueue=e,this.backfiller=t,this.task=null}start(){this.schedule(om)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}schedule(e){sm(oE,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{let e=await this.backfiller.backfill();sm(oE,`Documents written: ${e}`)}catch(e){oh(e)?sm(oE,"Ignoring IndexedDB error during index backfill: ",e):await oi(e)}await this.schedule(oC)})}}class oB{constructor(e,t){this.localStore=e,this.persistence=t}async backfill(e=oy){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.writeIndexEntries(t,e))}writeIndexEntries(e,t){let r=new Set,n=t,i=!0;return os.doWhile(()=>!0===i&&n>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(!(null===t||r.has(t)))return sm(oE,`Processing collection: ${t}`),this.writeEntriesForCollectionGroup(e,t,n).next(e=>{n-=e,r.add(t)});i=!1})).next(()=>t-n)}writeEntriesForCollectionGroup(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(n=>this.localStore.localDocuments.getNextDocuments(e,t,n,r).next(r=>{let i=r.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.getNewOffset(n,r)).next(r=>(sm(oE,`Updating offset: ${r}`),this.localStore.indexManager.updateCollectionGroup(e,t,r))).next(()=>i.size)}))}getNewOffset(e,t){let r=e;return t.changes.forEach((e,t)=>{let n=oe(t);or(n,r)>0&&(r=n)}),new ot(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.setPreviousValue(e),this.writeNewSequenceNumber=e=>t.writeSequenceNumber(e))}setPreviousValue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e}}oQ.INVALID=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ov="\x01",ow="\x01",ob="\x10",oS="\x11";function ok(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=oD(t)),t=oR(e.get(r),t);return oD(t)}function oR(e,t){let r=t,n=e.length;for(let t=0;t<n;t++){let n=e.charAt(t);switch(n){case"\x00":r+=ov+ob;break;case ov:r+=ov+oS;break;default:r+=n}}return r}function oD(e){return e+ov+ow}function o_(e){let t=e.length;if(sQ(t>=2),2===t)return sQ(e.charAt(0)===ov&&e.charAt(1)===ow),sq.emptyPath();let r=t-2,n=[],i="";for(let s=0;s<t;){let t=e.indexOf(ov,s);switch((t<0||t>r)&&sB(),e.charAt(t+1)){case ow:let o;let a=e.substring(s,t);0===i.length?o=a:(i+=a,o=i,i=""),n.push(o);break;case ob:i+=e.substring(s,t)+"\x00";break;case oS:i+=e.substring(s,t+1);break;default:sB()}s=t+2}return new sq(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oT="remoteDocuments",oN="owner",oF="owner",oM="mutationQueues",oL="userId",oO="mutations",ox="batchId",oU="userMutationsIndex",oP=null;function oJ(e){return[e]}function oV(e,t){return[e,ok(t)]}function oH(e,t,r){return[e,ok(t),r]}let oG={},oj="documentMutations",oY="remoteDocumentsV14",oW=null,oq="documentKeyIndex",oK=null,oz="collectionGroupIndex",o$=null,oX="remoteDocumentGlobal",oZ="remoteDocumentGlobalKey",o0="targets",o1="targetId",o2="queryTargetsIndex",o4=null,o5="targetDocuments",o3=null,o9="documentTargetsIndex",o8=null,o6="targetGlobalKey",o7="targetGlobal",ae="collectionParents",at=null,ar="clientMetadata",an="clientId",ai="bundles",as="bundleId",ao="namedQueries",aa="name",aA="indexConfiguration",al="indexId",ac="collectionGroupIndex",au="collectionGroup",ah="indexState",ad=null,ag="sequenceNumberIndex",af=null,ap="indexEntries",aE=null,am="documentKeyIndex",aC=null,ay="documentOverlays",aI=null,aB="collectionPathOverlayIndex",aQ=null,av="collectionGroupOverlayIndex",aw=null,ab=[oM,oO,oj,oT,o0,oN,o7,o5,ar,oX,ae,ai,ao],aS=[...ab,ay],ak=[oM,oO,oj,oY,o0,oN,o7,o5,ar,oX,ae,ai,ao,ay],aR=ak,aD=[...aR,aA,ah,ap];function a_(e){return 15===e?aD:14===e?aR:13===e?ak:12===e?aS:11===e?ab:void sB()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends null{constructor(e,t){super(),this.simpleDbTransaction=e,this.currentSequenceNumber=t}}function aN(e,t){let r=sv(e);return ol.getStore(r.simpleDbTransaction,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function aM(e,t){for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function aL(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t){this.comparator=e,this.root=t||aU.EMPTY}insert(e,t){return new aO(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,aU.BLACK,null,null))}remove(e){return new aO(this.comparator,this.root.remove(e,this.comparator).copy(null,null,aU.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ax(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ax(this.root,e,this.comparator,!1)}getReverseIterator(){return new ax(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ax(this.root,e,this.comparator,!0)}}class ax{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&n&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else if(0===i){this.nodeStack.push(e);break}else this.nodeStack.push(e),e=this.isReverse?e.right:e.left}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class aU{constructor(e,t,r,n,i){this.key=e,this.value=t,this.color=null!=r?r:aU.RED,this.left=null!=n?n:aU.EMPTY,this.right=null!=i?i:aU.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,i){return new aU(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this,i=r(e,n.key);return(n=i<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===i?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r))).fixUp()}removeMin(){if(this.left.isEmpty())return aU.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let r;let n=this;if(0>t(e,n.key))n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return aU.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,aU.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,aU.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw sB();let e=this.left.check();if(e===this.right.check())return e+(this.isRed()?0:1);throw sB()}}aU.EMPTY=null,aU.RED=!0,aU.BLACK=!1;class aP{constructor(){this.size=0}get key(){throw sB()}get value(){throw sB()}get color(){throw sB()}get left(){throw sB()}get right(){throw sB()}copy(e,t,r,n,i){return this}insert(e,t,r){return new aU(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}}aU.EMPTY=new aP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aJ{constructor(e){this.comparator=e,this.data=new aO(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aV(this.data.getIterator())}getIteratorFrom(e){return new aV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof aJ)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new aJ(this.comparator);return t.data=e,t}}class aV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function aH(e,t,r,n,i){let s=e.getIterator(),o=t.getIterator(),a=aG(s),A=aG(o);for(;a||A;){let e=!1,t=!1;if(a&&A){let n=r(a,A);n<0?t=!0:n>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(n(A),A=aG(o)):t?(i(a),a=aG(s)):(a=aG(s),A=aG(o))}}function aG(e){return e.hasNext()?e.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.fields=e,e.sort(sz.comparator)}static empty(){return new aj([])}unionWith(e){let t=new aJ(sz.comparator);for(let e of this.fields)t=t.add(e);for(let r of e)t=t.add(r);return new aj(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sP(this.fields,e.fields,(e,t)=>e.isEqual(t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aY(e){return Buffer.from(e,"base64").toString("binary")}function aW(e){return Buffer.from(e,"binary").toString("base64")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e){this.binaryString=e}static fromBase64String(e){return new aq(aY(e))}static fromUint8Array(e){return new aq(aK(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return aW(this.binaryString)}toUint8Array(){return az(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sU(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function aK(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}function az(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}aq.EMPTY_BYTE_STRING=new aq("");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a$=null;function aX(e){if(sQ(!!e),"string"==typeof e){let t=0,r=a$.exec(e);if(sQ(!!r),r[1]){let e=r[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:aZ(e.seconds),nanos:aZ(e.nanos)}}function aZ(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function a0(e){return"string"==typeof e?aq.fromBase64String(e):aq.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a1="server_timestamp",a2="__type__",a4="__previous_value__",a5="__local_write_time__";function a3(e){var t,r;return(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[a2])||void 0===r?void 0:r.stringValue)===a1}function a9(e,t){let r={fields:{[a2]:{stringValue:a1},[a5]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&a3(t)&&(t=a8(t)),t&&(r.fields[a4]=t),{mapValue:r}}function a8(e){let t=e.mapValue.fields[a4];return a3(t)?a8(t):t}function a6(e){let t=aX(e.mapValue.fields[a5].timestampValue);return new sG(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,t,r,n,i,s,o,a,A){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=A}}let Ae="(default)";class At{constructor(e,t){this.projectId=e,this.database=t||Ae}static empty(){return new At("","")}get isDefaultDatabase(){return this.database===Ae}isEqual(e){return e instanceof At&&e.projectId===this.projectId&&e.database===this.database}}function Ar(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sb(sw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new At(e.options.projectId,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let An=null;function Ai(e){return null==e}function As(e){return 0===e&&1/e==-1/0}function Ao(e){return"number"==typeof e&&Number.isInteger(e)&&!As(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="__max__",AA={mapValue:{fields:{__type__:{stringValue:Aa}}}},Al={nullValue:"NULL_VALUE"};function Ac(e){if("nullValue"in e)return 0;if("booleanValue"in e)return 1;if("integerValue"in e||"doubleValue"in e)return 2;if("timestampValue"in e)return 3;if("stringValue"in e)return 5;if("bytesValue"in e)return 6;if("referenceValue"in e)return 7;else if("geoPointValue"in e)return 8;else if("arrayValue"in e)return 9;else if(!("mapValue"in e))return sB();else return a3(e)?4:AY(e)?9007199254740991:10}function Au(e,t){if(e===t)return!0;let r=Ac(e);if(r!==Ac(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return a6(e).isEqual(a6(t));case 3:return Ah(e,t);case 5:return e.stringValue===t.stringValue;case 6:return Ag(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return Ad(e,t);case 2:return Af(e,t);case 9:return sP(e.arrayValue.values||[],t.arrayValue.values||[],Au);case 10:return Ap(e,t);default:return sB()}}function Ah(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let r=aX(e.timestampValue),n=aX(t.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}function Ad(e,t){return aZ(e.geoPointValue.latitude)===aZ(t.geoPointValue.latitude)&&aZ(e.geoPointValue.longitude)===aZ(t.geoPointValue.longitude)}function Ag(e,t){return a0(e.bytesValue).isEqual(a0(t.bytesValue))}function Af(e,t){if("integerValue"in e&&"integerValue"in t)return aZ(e.integerValue)===aZ(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let r=aZ(e.doubleValue),n=aZ(t.doubleValue);return r===n?As(r)===As(n):isNaN(r)&&isNaN(n)}return!1}function Ap(e,t){let r=e.mapValue.fields||{},n=t.mapValue.fields||{};if(aF(r)!==aF(n))return!1;for(let e in r)if(r.hasOwnProperty(e)&&(void 0===n[e]||!Au(r[e],n[e])))return!1;return!0}function AE(e,t){return void 0!==(e.values||[]).find(e=>Au(e,t))}function Am(e,t){if(e===t)return 0;let r=Ac(e),n=Ac(t);if(r!==n)return sU(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return sU(e.booleanValue,t.booleanValue);case 2:return AC(e,t);case 3:return Ay(e.timestampValue,t.timestampValue);case 4:return Ay(a6(e),a6(t));case 5:return sU(e.stringValue,t.stringValue);case 6:return AQ(e.bytesValue,t.bytesValue);case 7:return AI(e.referenceValue,t.referenceValue);case 8:return AB(e.geoPointValue,t.geoPointValue);case 9:return Av(e.arrayValue,t.arrayValue);case 10:return Aw(e.mapValue,t.mapValue);default:throw sB()}}function AC(e,t){let r=aZ(e.integerValue||e.doubleValue),n=aZ(t.integerValue||t.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}function Ay(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return sU(e,t);let r=aX(e),n=aX(t),i=sU(r.seconds,n.seconds);return 0!==i?i:sU(r.nanos,n.nanos)}function AI(e,t){let r=e.split("/"),n=t.split("/");for(let e=0;e<r.length&&e<n.length;e++){let t=sU(r[e],n[e]);if(0!==t)return t}return sU(r.length,n.length)}function AB(e,t){let r=sU(aZ(e.latitude),aZ(t.latitude));return 0!==r?r:sU(aZ(e.longitude),aZ(t.longitude))}function AQ(e,t){let r=a0(e),n=a0(t);return r.compareTo(n)}function Av(e,t){let r=e.values||[],n=t.values||[];for(let e=0;e<r.length&&e<n.length;++e){let t=Am(r[e],n[e]);if(t)return t}return sU(r.length,n.length)}function Aw(e,t){if(e===AA.mapValue&&t===AA.mapValue)return 0;if(e===AA.mapValue)return 1;if(t===AA.mapValue)return -1;let r=e.fields||{},n=Object.keys(r),i=t.fields||{},s=Object.keys(i);n.sort(),s.sort();for(let e=0;e<n.length&&e<s.length;++e){let t=sU(n[e],s[e]);if(0!==t)return t;let o=Am(r[n[e]],i[s[e]]);if(0!==o)return o}return sU(n.length,s.length)}function Ab(e){return AS(e)}function AS(e){if("nullValue"in e)return"null";if("booleanValue"in e)return""+e.booleanValue;if("integerValue"in e)return""+e.integerValue;if("doubleValue"in e)return""+e.doubleValue;if("timestampValue"in e)return AR(e.timestampValue);if("stringValue"in e)return e.stringValue;if("bytesValue"in e)return Ak(e.bytesValue);else if("referenceValue"in e)return A_(e.referenceValue);else if("geoPointValue"in e)return AD(e.geoPointValue);else if("arrayValue"in e)return AN(e.arrayValue);else if("mapValue"in e)return AT(e.mapValue);else return sB()}function Ak(e){return a0(e).toBase64()}function AR(e){let t=aX(e);return`time(${t.seconds},${t.nanos})`}function AD(e){return`geo(${e.latitude},${e.longitude})`}function A_(e){return s$.fromName(e).toString()}function AT(e){let t=Object.keys(e.fields||{}).sort(),r="{",n=!0;for(let i of t)n?n=!1:r+=",",r+=`${i}:${AS(e.fields[i])}`;return r+"}"}function AN(e){let t="[",r=!0;for(let n of e.values||[])r?r=!1:t+=",",t+=AS(n);return t+"]"}function AF(e){switch(Ac(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=a8(e);return t?16+AF(t):16;case 5:return 2*e.stringValue.length;case 6:return a0(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return AL(e.arrayValue);case 10:return AM(e.mapValue);default:throw sB()}}function AM(e){let t=0;return aM(e.fields,(e,r)=>{t+=e.length+AF(r)}),t}function AL(e){return(e.values||[]).reduce((e,t)=>e+AF(t),0)}function AO(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ax(e){return!!e&&"integerValue"in e}function AU(e){return!!e&&"doubleValue"in e}function AP(e){return Ax(e)||AU(e)}function AJ(e){return!!e&&"arrayValue"in e}function AV(e){return!!e&&"nullValue"in e}function AH(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function AG(e){return!!e&&"mapValue"in e}function Aj(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return aM(e.mapValue.fields,(e,r)=>t.mapValue.fields[e]=Aj(r)),t}{if(!e.arrayValue)return Object.assign({},e);let t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Aj(e.arrayValue.values[r]);return t}}function AY(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Aa}function AW(e){if("nullValue"in e)return Al;if("booleanValue"in e)return{booleanValue:!1};if("integerValue"in e||"doubleValue"in e)return{doubleValue:NaN};if("timestampValue"in e)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("stringValue"in e)return{stringValue:""};if("bytesValue"in e)return{bytesValue:""};if("referenceValue"in e)return AO(At.empty(),s$.empty());else if("geoPointValue"in e)return{geoPointValue:{latitude:-90,longitude:-180}};else if("arrayValue"in e)return{arrayValue:{}};else if("mapValue"in e)return{mapValue:{}};else return sB()}function Aq(e){if("nullValue"in e)return{booleanValue:!1};if("booleanValue"in e)return{doubleValue:NaN};if("integerValue"in e||"doubleValue"in e)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("timestampValue"in e)return{stringValue:""};if("stringValue"in e)return{bytesValue:""};if("bytesValue"in e)return AO(At.empty(),s$.empty());if("referenceValue"in e)return{geoPointValue:{latitude:-90,longitude:-180}};else if("geoPointValue"in e)return{arrayValue:{}};else if("arrayValue"in e)return{mapValue:{}};else if("mapValue"in e)return AA;else return sB()}function AK(e,t){let r=Am(e.value,t.value);return 0!==r?r:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Az(e,t){let r=Am(e.value,t.value);return 0!==r?r:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e){this.value=e}static empty(){return new A$({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(!AG(t=(t.mapValue.fields||{})[e.get(r)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Aj(t)}setAll(e){let t=sz.emptyPath(),r={},n=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=i.popLast()}e?r[i.lastSegment()]=Aj(e):n.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,r,n)}delete(e){let t=this.field(e.popLast());AG(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Au(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];AG(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){for(let n of(aM(t,(t,r)=>e[t]=r),r))delete e[n]}clone(){return new A$(Aj(this.value))}}function AX(e){let t=[];return aM(e.fields,(e,r)=>{let n=new sz([e]);if(AG(r)){let e=AX(r.mapValue).fields;if(0===e.length)t.push(n);else for(let r of e)t.push(n.child(r))}else t.push(n)}),new aj(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AZ{constructor(e,t,r,n,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new AZ(e,0,sj.min(),sj.min(),sj.min(),A$.empty(),0)}static newFoundDocument(e,t,r,n){return new AZ(e,1,t,sj.min(),r,n,0)}static newNoDocument(e,t){return new AZ(e,2,t,sj.min(),sj.min(),A$.empty(),0)}static newUnknownDocument(e,t){return new AZ(e,3,t,sj.min(),sj.min(),A$.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(sj.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=A$.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=A$.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=sj.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof AZ&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new AZ(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function A0(e,t,r){let n=t.data.field(e),i=r.data.field(e);return null!==n&&null!==i?Am(n,i):sB()}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t){this.position=e,this.inclusive=t}}function A2(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){let s=t[i],o=e.position[i];if(n=s.field.isKeyField()?s$.comparator(s$.fromName(o.referenceValue),r.key):Am(o,r.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function A4(e,t,r){let n=A2(e,t,r);return e.inclusive?n>=0:n>0}function A5(e,t,r){let n=A2(e,t,r);return e.inclusive?n<=0:n<0}function A3(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Au(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,t="asc"){this.field=e,this.dir=t}}function A8(e){return e.field.canonicalString()+e.dir}function A6(e){return`${e.field.canonicalString()} (${e.dir})`}function A7(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class le extends null{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new lg(e,t,r):"array-contains"===t?new lm(e,r):"in"===t?new lC(e,r):"not-in"===t?new ly(e,r):"array-contains-any"===t?new lI(e,r):new le(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new lf(e,r):new lp(e,r)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Am(t,this.value)):null!==t&&Ac(this.value)===Ac(t)&&this.matchesComparison(Am(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sB()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends null{constructor(e,t){super(),this.filters=e,this.op=t,this.memoizedFlattenedFilters=null}static create(e,t){return new lt(e,t)}matches(e){return lr(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.memoizedFlattenedFilters||(this.memoizedFlattenedFilters=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.memoizedFlattenedFilters}getFilters(){return Object.assign([],this.filters)}}function lr(e){return"and"===e.op}function ln(e){return"or"===e.op}function li(e){return ls(e)&&lr(e)}function ls(e){for(let t of e.filters)if(t instanceof lt)return!1;return!0}function lo(e){if(e instanceof le)return e.field.canonicalString()+e.op.toString()+Ab(e.value);if(li(e))return e.filters.map(e=>lo(e)).join(",");{let t=e.filters.map(e=>lo(e)).join(",");return`${e.op}(${t})`}}function la(e,t){return e instanceof le?lA(e,t):e instanceof lt?ll(e,t):void sB()}function lA(e,t){return t instanceof le&&e.op===t.op&&e.field.isEqual(t.field)&&Au(e.value,t.value)}function ll(e,t){return t instanceof lt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,r,n)=>e&&la(r,t.filters[n]),!0)}function lc(e,t){let r=e.filters.concat(t);return lt.create(r,e.op)}function lu(e){return e instanceof le?ld(e):e instanceof lt?lh(e):"Filter"}function lh(e){return e.op.toString()+" {"+e.getFilters().map(lu).join(" ,")+"}"}function ld(e){return`${e.field.canonicalString()} ${e.op} ${Ab(e.value)}`}class lg extends null{constructor(e,t,r){super(e,t,r),this.key=s$.fromName(r.referenceValue)}matches(e){let t=s$.comparator(e.key,this.key);return this.matchesComparison(t)}}class lf extends null{constructor(e,t){super(e,"in",t),this.keys=lE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lp extends null{constructor(e,t){super(e,"not-in",t),this.keys=lE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lE(e,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(e=>s$.fromName(e.referenceValue))}class lm extends null{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return AJ(t)&&AE(t.arrayValue,this.value)}}class lC extends null{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&AE(this.value.arrayValue,t)}}class ly extends null{constructor(e,t){super(e,"not-in",t)}matches(e){if(AE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!AE(this.value.arrayValue,t)}}class lI extends null{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!!AJ(t)&&!!t.arrayValue.values&&t.arrayValue.values.some(e=>AE(this.value.arrayValue,e))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,t=null,r=[],n=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=i,this.startAt=s,this.endAt=o,this.memoizedCanonicalId=null}}function lQ(e,t=null,r=[],n=[],i=null,s=null,o=null){return new lB(e,t,r,n,i,s,o)}function lv(e){let t=sv(e);if(null===t.memoizedCanonicalId){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:"+t.filters.map(e=>lo(e)).join(",")+"|ob:"+t.orderBy.map(e=>A8(e)).join(","),Ai(t.limit)||(e+="|l:"+t.limit),t.startAt&&(e+="|lb:"+(t.startAt.inclusive?"b:":"a:")+t.startAt.position.map(e=>Ab(e)).join(",")),t.endAt&&(e+="|ub:"+(t.endAt.inclusive?"a:":"b:")+t.endAt.position.map(e=>Ab(e)).join(",")),t.memoizedCanonicalId=e}return t.memoizedCanonicalId}function lw(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>lu(e)).join(", ")}]`),Ai(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>A6(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+(e.startAt.inclusive?"b:":"a:")+e.startAt.position.map(e=>Ab(e)).join(",")),e.endAt&&(t+=", endAt: "+(e.endAt.inclusive?"a:":"b:")+e.endAt.position.map(e=>Ab(e)).join(",")),`Target(${t})`}function lb(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!A7(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!la(e.filters[r],t.filters[r]))return!1;return!!(e.collectionGroup===t.collectionGroup&&e.path.isEqual(t.path)&&A3(e.startAt,t.startAt))&&A3(e.endAt,t.endAt)}function lS(e){return s$.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function lk(e,t){return e.filters.filter(e=>e instanceof le&&e.field.isEqual(t))}function lR(e,t){let r=s1(t);if(void 0===r)return null;for(let t of lk(e,r.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}function lD(e,t){let r=new Map;for(let n of s2(t))for(let t of lk(e,n.fieldPath))switch(t.op){case"==":case"in":r.set(n.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return r.set(n.fieldPath.canonicalString(),t.value),Array.from(r.values())}return null}function l_(e,t){let r=[],n=!0;for(let i of s2(t)){let t=0===i.kind?lN(e,i.fieldPath,e.startAt):lF(e,i.fieldPath,e.startAt);r.push(t.value),n&&(n=t.inclusive)}return new A1(r,n)}function lT(e,t){let r=[],n=!0;for(let i of s2(t)){let t=0===i.kind?lF(e,i.fieldPath,e.endAt):lN(e,i.fieldPath,e.endAt);r.push(t.value),n&&(n=t.inclusive)}return new A1(r,n)}function lN(e,t,r){let n=Al,i=!0;for(let r of lk(e,t)){let e=Al,t=!0;switch(r.op){case"<":case"<=":e=AW(r.value);break;case"==":case"in":case">=":e=r.value;break;case">":e=r.value,t=!1;break;case"!=":case"not-in":e=Al}0>AK({value:n,inclusive:i},{value:e,inclusive:t})&&(n=e,i=t)}if(null!==r){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){let e=r.position[s];0>AK({value:n,inclusive:i},{value:e,inclusive:r.inclusive})&&(n=e,i=r.inclusive);break}}return{value:n,inclusive:i}}function lF(e,t,r){let n=AA,i=!0;for(let r of lk(e,t)){let e=AA,t=!0;switch(r.op){case">=":case">":e=Aq(r.value),t=!1;break;case"==":case"in":case"<=":e=r.value;break;case"<":e=r.value,t=!1;break;case"!=":case"not-in":e=AA}Az({value:n,inclusive:i},{value:e,inclusive:t})>0&&(n=e,i=t)}if(null!==r){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){let e=r.position[s];Az({value:n,inclusive:i},{value:e,inclusive:r.inclusive})>0&&(n=e,i=r.inclusive);break}}return{value:n,inclusive:i}}function lM(e){let t=new aJ(sz.comparator),r=!1;for(let n of e.filters)for(let e of n.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?r=!0:t=t.add(e.field));for(let r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(r?1:0)}function lL(e){return null!==e.limit}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t=null,r=[],n=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}}function lx(e,t,r,n,i,s,o,a){return new lO(e,t,r,n,i,s,o,a)}function lU(e){return new lO(e)}function lP(e,t){return new lO(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function lJ(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function lV(e){let t=new aJ(sz.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}function lH(e){return s$.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function lG(e){return null!==e.collectionGroup}function lj(e){let t=sv(e);if(null===t.memoizedNormalizedOrderBy){t.memoizedNormalizedOrderBy=[];let e=new Set;for(let r of t.explicitOrderBy)t.memoizedNormalizedOrderBy.push(r),e.add(r.field.canonicalString());let r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";lV(t).forEach(n=>{e.has(n.canonicalString())||n.isKeyField()||t.memoizedNormalizedOrderBy.push(new A9(n,r))}),e.has(sz.keyField().canonicalString())||t.memoizedNormalizedOrderBy.push(new A9(sz.keyField(),r))}return t.memoizedNormalizedOrderBy}function lY(e){let t=sv(e);return t.memoizedTarget||(t.memoizedTarget=lq(t,lj(e))),t.memoizedTarget}function lW(e){let t=sv(e);return t.memoizedAggregateTarget||(t.memoizedAggregateTarget=lq(t,e.explicitOrderBy)),t.memoizedAggregateTarget}function lq(e,t){if("F"===e.limitType)return lQ(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new A9(e.field,t)});let r=e.endAt?new A1(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new A1(e.startAt.position,e.startAt.inclusive):null;return lQ(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function lK(e,t){let r=e.filters.concat([t]);return new lO(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function lz(e,t){let r=e.explicitOrderBy.concat([t]);return new lO(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function l$(e,t,r){return new lO(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function lX(e,t){return new lO(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}function lZ(e,t){return new lO(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}function l0(e,t){return lb(lY(e),lY(t))&&e.limitType===t.limitType}function l1(e){return`${lv(lY(e))}|lt:${e.limitType}`}function l2(e){return`Query(target=${lw(lY(e))}; limitType=${e.limitType})`}function l4(e,t){return t.isFoundDocument()&&l5(e,t)&&l3(e,t)&&l9(e,t)&&l8(e,t)}function l5(e,t){let r=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):s$.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}function l3(e,t){for(let r of lj(e))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}function l9(e,t){for(let r of e.filters)if(!r.matches(t))return!1;return!0}function l8(e,t){return(!e.startAt||!!A5(e.startAt,lj(e),t))&&(!e.endAt||!!A4(e.endAt,lj(e),t))}function l6(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function l7(e){return(t,r)=>{let n=!1;for(let i of lj(e)){let e=ce(i,t,r);if(0!==e)return e;n=n||i.field.isKeyField()}return 0}}function ce(e,t,r){let n=e.field.isKeyField()?s$.comparator(t.key,r.key):A0(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return -1*n;default:return sB()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r){for(let[t,n]of r)if(this.equalsFn(t,e))return n}}has(e){return void 0!==this.get(e)}set(e,t){let r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n){this.inner[r]=[[e,t]],this.innerSize++;return}for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e)){n[r]=[e,t];return}n.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(e){aM(this.inner,(t,r)=>{for(let[t,n]of r)e(t,n)})}isEmpty(){return aL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cr=new aO(s$.comparator);function cn(){return cr}let ci=new aO(s$.comparator);function cs(...e){let t=ci;for(let r of e)t=t.insert(r.key,r);return t}function co(){return cc()}function ca(e){let t=ci;return e.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function cA(){return cc()}function cl(){return cc()}function cc(){return new ct(e=>e.toString(),(e,t)=>e.isEqual(t))}let cu=new aO(s$.comparator);function ch(){return cu}let cd=new aJ(s$.comparator);function cg(...e){let t=cd;for(let r of e)t=t.add(r);return t}let cf=new aJ(sU);function cp(){return cf}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:As(t)?"-0":t}}function cm(e){return{integerValue:""+e}}function cC(e,t){return Ao(t)?cm(t):cE(e,t)}function cy(e,t,r){return e instanceof cv?a9(r,t):e instanceof cw?cb(e,t):e instanceof cS?ck(e,t):cD(e,t)}function cI(e,t,r){return e instanceof cw?cb(e,t):e instanceof cS?ck(e,t):r}function cB(e,t){return e instanceof cR?AP(t)?t:{integerValue:0}:null}function cQ(e,t){return e instanceof cw&&t instanceof cw||e instanceof cS&&t instanceof cS?sP(e.elements,t.elements,Au):e instanceof cR&&t instanceof cR?Au(e.operand,t.operand):e instanceof cv&&t instanceof cv}class cv extends null{}class cw extends null{constructor(e){super(),this.elements=e}}function cb(e,t){let r=cT(t);for(let t of e.elements)r.some(e=>Au(e,t))||r.push(t);return{arrayValue:{values:r}}}class cS extends null{constructor(e){super(),this.elements=e}}function ck(e,t){let r=cT(t);for(let t of e.elements)r=r.filter(e=>!Au(e,t));return{arrayValue:{values:r}}}class cR extends null{constructor(e,t){super(),this.serializer=e,this.operand=t}}function cD(e,t){let r=cB(e,t),n=c_(r)+c_(e.operand);return Ax(r)&&Ax(e.operand)?cm(n):cE(e.serializer,n)}function c_(e){return aZ(e.integerValue||e.doubleValue)}function cT(e){return AJ(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t){this.field=e,this.transform=t}}function cF(e,t){return e.field.isEqual(t.field)&&cQ(e.transform,t.transform)}function cM(e,t){return void 0===e&&void 0===t||!!e&&!!t&&sP(e,t,(e,t)=>cF(e,t))}class cL{constructor(e,t){this.version=e,this.transformResults=t}}class cO{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cO}static exists(e){return new cO(void 0,e)}static updateTime(e){return new cO(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}function cU(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new cZ(e.key,cO.none()):new cG(e.key,e.data,cO.none());{let r=e.data,n=A$.empty(),i=new aJ(sz.comparator);for(let e of t.fields)if(!i.has(e)){let t=r.field(e);null===t&&e.length>1&&(e=e.popLast(),t=r.field(e)),null===t?n.delete(e):n.set(e,t),i=i.add(e)}return new cW(e.key,n,new aj(i.toArray()),cO.none())}}function cP(e,t,r){e instanceof cG?cj(e,t,r):e instanceof cW?cq(e,t,r):c0(e,t,r)}function cJ(e,t,r,n){return e instanceof cG?cY(e,t,r,n):e instanceof cW?cK(e,t,r,n):c1(e,t,r)}function cV(e,t){let r=null;for(let n of e.fieldTransforms){let e=t.data.field(n.field),i=cB(n.transform,e||null);null!=i&&(null===r&&(r=A$.empty()),r.set(n.field,i))}return r||null}function cH(e,t){return!!(e.type===t.type&&e.key.isEqual(t.key)&&e.precondition.isEqual(t.precondition)&&cM(e.fieldTransforms,t.fieldTransforms))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class cG extends null{constructor(e,t,r,n=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}function cj(e,t,r){let n=e.value.clone(),i=c$(e.fieldTransforms,t,r.transformResults);n.setAll(i),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()}function cY(e,t,r,n){if(!cx(e.precondition,t))return r;let i=e.value.clone(),s=cX(e.fieldTransforms,n,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}class cW extends null{constructor(e,t,r,n,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cq(e,t,r){if(!cx(e.precondition,t)){t.convertToUnknownDocument(r.version);return}let n=c$(e.fieldTransforms,t,r.transformResults),i=t.data;i.setAll(cz(e)),i.setAll(n),t.convertToFoundDocument(r.version,i).setHasCommittedMutations()}function cK(e,t,r,n){if(!cx(e.precondition,t))return r;let i=cX(e.fieldTransforms,n,t),s=t.data;return(s.setAll(cz(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===r)?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}function cz(e){let t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){let n=e.data.field(r);t.set(r,n)}}),t}function c$(e,t,r){let n=new Map;sQ(e.length===r.length);for(let i=0;i<r.length;i++){let s=e[i],o=s.transform,a=t.data.field(s.field);n.set(s.field,cI(o,a,r[i]))}return n}function cX(e,t,r){let n=new Map;for(let i of e){let e=i.transform,s=r.data.field(i.field);n.set(i.field,cy(e,s,t))}return n}class cZ extends null{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}function c0(e,t,r){t.convertToNoDocument(r.version).setHasCommittedMutations()}function c1(e,t,r){return cx(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}class c2 extends null{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,t,r,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let n=this.mutations[t];n.key.isEqual(e.key)&&cP(n,e,r[t])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=cJ(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=cJ(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=cl();return this.mutations.forEach(n=>{let i=e.get(n.key),s=i.overlayedDocument,o=this.applyToLocalView(s,i.mutatedFields),a=cU(s,o=t.has(n.key)?null:o);null!==a&&r.set(n.key,a),s.isValidDocument()||s.convertToNoDocument(sj.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cg())}isEqual(e){return this.batchId===e.batchId&&sP(this.mutations,e.mutations,(e,t)=>cH(e,t))&&sP(this.baseMutations,e.baseMutations,(e,t)=>cH(e,t))}}class c5{constructor(e,t,r,n){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=n}static from(e,t,r){sQ(e.mutations.length===r.length);let n=ch(),i=e.mutations;for(let e=0;e<i.length;e++)n=n.insert(i[e].key,r[e].version);return new c5(e,t,r,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,t){this.count=e,this.unchangedNames=t}}function c8(e){switch(e){case sw.OK:return sB();case sw.CANCELLED:case sw.UNKNOWN:case sw.DEADLINE_EXCEEDED:case sw.RESOURCE_EXHAUSTED:case sw.INTERNAL:case sw.UNAVAILABLE:case sw.UNAUTHENTICATED:return!1;case sw.INVALID_ARGUMENT:case sw.NOT_FOUND:case sw.ALREADY_EXISTS:case sw.PERMISSION_DENIED:case sw.FAILED_PRECONDITION:case sw.ABORTED:case sw.OUT_OF_RANGE:case sw.UNIMPLEMENTED:case sw.DATA_LOSS:return!0;default:return sB()}}function c6(e){return c8(e)&&e!==sw.ABORTED}function c7(e){if(void 0===e)return sC("GRPC error has no .code"),sw.UNKNOWN;switch(e){case A.OK:return sw.OK;case A.CANCELLED:return sw.CANCELLED;case A.UNKNOWN:return sw.UNKNOWN;case A.DEADLINE_EXCEEDED:return sw.DEADLINE_EXCEEDED;case A.RESOURCE_EXHAUSTED:return sw.RESOURCE_EXHAUSTED;case A.INTERNAL:return sw.INTERNAL;case A.UNAVAILABLE:return sw.UNAVAILABLE;case A.UNAUTHENTICATED:return sw.UNAUTHENTICATED;case A.INVALID_ARGUMENT:return sw.INVALID_ARGUMENT;case A.NOT_FOUND:return sw.NOT_FOUND;case A.ALREADY_EXISTS:return sw.ALREADY_EXISTS;case A.PERMISSION_DENIED:return sw.PERMISSION_DENIED;case A.FAILED_PRECONDITION:return sw.FAILED_PRECONDITION;case A.ABORTED:return sw.ABORTED;case A.OUT_OF_RANGE:return sw.OUT_OF_RANGE;case A.UNIMPLEMENTED:return sw.UNIMPLEMENTED;case A.DATA_LOSS:return sw.DATA_LOSS;default:return sB()}}!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(A||(A={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue extends null{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ut=null;function ur(e){if(ut)throw Error("a TestingHooksSpi instance is already set");ut=e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return new TextEncoder}function ui(){return new TextDecoder("utf-8")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let us=new sl([4294967295,4294967295],0);function uo(e){let t=un().encode(e),r=new Md5;return r.update(t),new Uint8Array(r.digest())}function ua(e){let t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Integer([r,n],0),new Integer([i,s],0)]}class uA{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ul(`Invalid padding: ${t}`);if(r<0||e.length>0&&0===this.hashCount)throw new ul(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new ul(`Invalid padding when bitmap length is 0: ${t}`);this.bitCount=8*e.length-t,this.bitCountInInteger=Integer.fromNumber(this.bitCount)}getBitIndex(e,t,r){let n=e.add(t.multiply(Integer.fromNumber(r)));return 1===n.compare(us)&&(n=new Integer([n.getBits(0),n.getBits(1)],0)),n.modulo(this.bitCountInInteger).toNumber()}isBitSet(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(0===this.bitCount)return!1;let[t,r]=ua(uo(e));for(let e=0;e<this.hashCount;e++){let n=this.getBitIndex(t,r,e);if(!this.isBitSet(n))return!1}return!0}static create(e,t,r){let n=e%8==0?0:8-e%8,i=new uA(new Uint8Array(Math.ceil(e/8)),n,t);return r.forEach(e=>i.insert(e)),i}insert(e){if(0===this.bitCount)return;let[t,r]=ua(uo(e));for(let e=0;e<this.hashCount;e++){let n=this.getBitIndex(t,r,e);this.setBit(n)}}setBit(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ul extends null{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t,r,n,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let n=new Map;return n.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new uc(sj.min(),n,new aO(sU),cn(),cg())}}class uu{constructor(e,t,r,n,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uu(r,t,cg(),cg(),cg())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t,r,n){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=r,this.newDoc=n}}class ud{constructor(e,t){this.targetId=e,this.existenceFilter=t}}class ug{constructor(e,t,r=aq.EMPTY_BYTE_STRING,n=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=n}}class uf{constructor(){this.pendingResponses=0,this.documentChanges=uC(),this._resumeToken=aq.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return 0!==this.pendingResponses}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(e){e.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=e)}toTargetChange(){let e=cg(),t=cg(),r=cg();return this.documentChanges.forEach((n,i)=>{switch(i){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:sB()}}),new uu(this._resumeToken,this._current,e,t,r)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=uC()}addDocumentChange(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)}removeDocumentChange(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,sQ(this.pendingResponses>=0)}markCurrent(){this._hasPendingChanges=!0,this._current=!0}}let up="WatchChangeAggregator";class uE{constructor(e){this.metadataProvider=e,this.targetStates=new Map,this.pendingDocumentUpdates=cn(),this.pendingDocumentTargetMapping=um(),this.pendingTargetResets=new aO(sU)}handleDocumentChange(e){for(let t of e.updatedTargetIds)e.newDoc&&e.newDoc.isFoundDocument()?this.addDocumentToTarget(t,e.newDoc):this.removeDocumentFromTarget(t,e.key,e.newDoc);for(let t of e.removedTargetIds)this.removeDocumentFromTarget(t,e.key,e.newDoc)}handleTargetChange(e){this.forEachTarget(e,t=>{let r=this.ensureTargetState(t);switch(e.state){case 0:this.isActiveTarget(t)&&r.updateResumeToken(e.resumeToken);break;case 1:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case 2:r.recordTargetResponse(),r.isPending||this.removeTarget(t);break;case 3:this.isActiveTarget(t)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case 4:this.isActiveTarget(t)&&(this.resetTarget(t),r.updateResumeToken(e.resumeToken));break;default:sB()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.targetStates.forEach((e,r)=>{this.isActiveTarget(r)&&t(r)})}handleExistenceFilter(e){let t=e.targetId,r=e.existenceFilter.count,n=this.targetDataForActiveTarget(t);if(n){let i=n.target;if(lS(i)){if(0===r){let e=new s$(i.path);this.removeDocumentFromTarget(t,e,AZ.newNoDocument(e,sj.min()))}else sQ(1===r)}else{let n=this.getCurrentDocumentCountForTarget(t);if(n!==r){let r=this.parseBloomFilter(e),i=r?this.applyBloomFilter(r,e,n):1;if(0!==i){this.resetTarget(t);let e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(t,e)}null==ut||ut.notifyOnExistenceFilterMismatch(uy(n,e.existenceFilter,this.metadataProvider.getDatabaseId(),r,i))}}}}parseBloomFilter(e){let t,r;let n=e.existenceFilter.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;try{t=a0(i).toUint8Array()}catch(e){if(e instanceof ue)return sy("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new uA(t,s,o)}catch(e){return e instanceof ul?sy("BloomFilter error: ",e):sy("Applying bloom filter failed: ",e),null}return 0===r.bitCount?null:r}applyBloomFilter(e,t,r){return t.existenceFilter.count===r-this.filterRemovedDocuments(e,t.targetId)?0:2}filterRemovedDocuments(e,t){let r=this.metadataProvider.getRemoteKeysForTarget(t),n=0;return r.forEach(r=>{let i=this.metadataProvider.getDatabaseId(),s=`projects/${i.projectId}/databases/${i.database}/documents/${r.path.canonicalString()}`;!e.mightContain(s)&&(this.removeDocumentFromTarget(t,r,null),n++)}),n}createRemoteEvent(e){let t=new Map;this.targetStates.forEach((r,n)=>{let i=this.targetDataForActiveTarget(n);if(i){if(r.current&&lS(i.target)){let t=new s$(i.target.path);null!==this.pendingDocumentUpdates.get(t)||this.targetContainsDocument(n,t)||this.removeDocumentFromTarget(n,t,AZ.newNoDocument(t,e))}r.hasPendingChanges&&(t.set(n,r.toTargetChange()),r.clearPendingChanges())}});let r=cg();this.pendingDocumentTargetMapping.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{let t=this.targetDataForActiveTarget(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(n=!1,!1)}),n&&(r=r.add(e))}),this.pendingDocumentUpdates.forEach((t,r)=>r.setReadTime(e));let n=new uc(e,t,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=cn(),this.pendingDocumentTargetMapping=um(),this.pendingTargetResets=new aO(sU),n}addDocumentToTarget(e,t){if(!this.isActiveTarget(e))return;let r=this.targetContainsDocument(e,t.key)?2:0;this.ensureTargetState(e).addDocumentChange(t.key,r),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}removeDocumentFromTarget(e,t,r){if(!this.isActiveTarget(e))return;let n=this.ensureTargetState(e);this.targetContainsDocument(e,t)?n.addDocumentChange(t,1):n.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),r&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,r))}removeTarget(e){this.targetStates.delete(e)}getCurrentDocumentCountForTarget(e){let t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}recordPendingTargetRequest(e){this.ensureTargetState(e).recordPendingTargetRequest()}ensureTargetState(e){let t=this.targetStates.get(e);return t||(t=new uf,this.targetStates.set(e,t)),t}ensureDocumentTargetMapping(e){let t=this.pendingDocumentTargetMapping.get(e);return t||(t=new aJ(sU),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t}isActiveTarget(e){let t=null!==this.targetDataForActiveTarget(e);return t||sm(up,"Detected inactive target",e),t}targetDataForActiveTarget(e){let t=this.targetStates.get(e);return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)}resetTarget(e){this.targetStates.set(e,new uf),this.metadataProvider.getRemoteKeysForTarget(e).forEach(t=>{this.removeDocumentFromTarget(e,t,null)})}targetContainsDocument(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)}}function um(){return new aO(s$.comparator)}function uC(){return new aO(s$.comparator)}function uy(e,t,r,n,i){var s,o,a,A,l,c;let u={localCacheCount:e,existenceFilterCount:t.count,databaseId:r.database,projectId:r.projectId},h=t.unchangedNames;return h&&(u.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(A=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==A?A:0,padding:null!==(c=null===(l=null==h?void 0:h.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==n?void 0:n.mightContain(e))&&void 0!==t&&t}}),u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uI=(()=>{let e={};return e.asc="ASCENDING",e.desc="DESCENDING",e})(),uB=(()=>{let e={};return e["<"]="LESS_THAN",e["<="]="LESS_THAN_OR_EQUAL",e[">"]="GREATER_THAN",e[">="]="GREATER_THAN_OR_EQUAL",e["=="]="EQUAL",e["!="]="NOT_EQUAL",e["array-contains"]="ARRAY_CONTAINS",e.in="IN",e["not-in"]="NOT_IN",e["array-contains-any"]="ARRAY_CONTAINS_ANY",e})(),uQ=(()=>{let e={};return e.and="AND",e.or="OR",e})();class uv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uw(e){return new sb(void 0===e.code?sw.UNKNOWN:c7(e.code),e.message||"")}function ub(e,t){return e.useProto3Json||Ai(t)?t:{value:t}}function uS(e){let t;return Ai(t="object"==typeof e?e.value:e)?null:t}function uk(e,t){if(!e.useProto3Json)return{seconds:""+t.seconds,nanos:t.nanoseconds};{let e=new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),r=("000000000"+t.nanoseconds).slice(-9);return`${e}.${r}Z`}}function uR(e){let t=aX(e);return new sG(t.seconds,t.nanos)}function uD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function u_(e,t){return e.useProto3Json?(sQ(void 0===t||"string"==typeof t),aq.fromBase64String(t||"")):(sQ(void 0===t||t instanceof Uint8Array),aq.fromUint8Array(t||new Uint8Array))}function uT(e,t){return uk(e,t.toTimestamp())}function uN(e){return sQ(!!e),sj.fromTimestamp(uR(e))}function uF(e,t){return uM(e,t).canonicalString()}function uM(e,t){let r=uV(e).child("documents");return void 0===t?r:r.child(t)}function uL(e){let t=sq.fromString(e);return sQ(hN(t)),t}function uO(e,t){return uF(e.databaseId,t.path)}function ux(e,t){let r=uL(t);if(r.get(1)!==e.databaseId.projectId)throw new sb(sw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new sb(sw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new s$(uH(r))}function uU(e,t){return uF(e.databaseId,t)}function uP(e){let t=uL(e);return 4===t.length?sq.emptyPath():uH(t)}function uJ(e){return new sq(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uV(e){return new sq(["projects",e.projectId,"databases",e.database])}function uH(e){return sQ(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function uG(e,t,r){return{name:uO(e,t),fields:r.value.mapValue.fields}}function uj(e,t){return{name:uO(e,t.key),fields:t.data.value.mapValue.fields,updateTime:uk(e,t.version.toTimestamp()),createTime:uk(e,t.createTime.toTimestamp())}}function uY(e,t,r){let n=ux(e,t.name),i=uN(t.updateTime),s=t.createTime?uN(t.createTime):sj.min(),o=new A$({mapValue:{fields:t.fields}}),a=AZ.newFoundDocument(n,i,s,o);return r&&a.setHasCommittedMutations(),r?a.setHasCommittedMutations():a}function uW(e,t){sQ(!!t.found),t.found.name,t.found.updateTime;let r=ux(e,t.found.name),n=uN(t.found.updateTime),i=t.found.createTime?uN(t.found.createTime):sj.min(),s=new A$({mapValue:{fields:t.found.fields}});return AZ.newFoundDocument(r,n,i,s)}function uq(e,t){sQ(!!t.missing),sQ(!!t.readTime);let r=ux(e,t.missing),n=uN(t.readTime);return AZ.newNoDocument(r,n)}function uK(e,t){return"found"in t?uW(e,t):"missing"in t?uq(e,t):sB()}function uz(e,t){let r;if("targetChange"in t){t.targetChange;let n=u$(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=u_(e,t.targetChange.resumeToken),o=t.targetChange.cause;r=new ug(n,i,s,o&&uw(o)||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let i=ux(e,n.document.name),s=uN(n.document.updateTime),o=n.document.createTime?uN(n.document.createTime):sj.min(),a=new A$({mapValue:{fields:n.document.fields}}),A=AZ.newFoundDocument(i,s,o,a);r=new uh(n.targetIds||[],n.removedTargetIds||[],A.key,A)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let i=ux(e,n.document),s=n.readTime?uN(n.readTime):sj.min(),o=AZ.newNoDocument(i,s);r=new uh([],n.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let i=ux(e,n.document);r=new uh([],n.removedTargetIds||[],i,null)}else{if(!("filter"in t))return sB();t.filter;let e=t.filter;e.targetId;let{count:n=0,unchangedNames:i}=e,s=new c9(n,i);r=new ud(e.targetId,s)}return r}function u$(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:sB()}function uX(e){if(!("targetChange"in e))return sj.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length||!t.readTime?sj.min():uN(t.readTime)}function uZ(e,t){let r;if(t instanceof cG)r={update:uG(e,t.key,t.value)};else if(t instanceof cZ)r={delete:uO(e,t.key)};else if(t instanceof cW)r={update:uG(e,t.key,t.data),updateMask:h_(t.fieldMask)};else{if(!(t instanceof c2))return sB();r={verify:uO(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(t=>u3(e,t))),t.precondition.isNone||(r.currentDocument=u1(e,t.precondition)),r}function u0(e,t){let r=t.currentDocument?u2(t.currentDocument):cO.none(),n=t.updateTransforms?t.updateTransforms.map(t=>u9(e,t)):[];if(t.update){t.update.name;let i=ux(e,t.update.name),s=new A$({mapValue:{fields:t.update.fields}});return t.updateMask?new cW(i,s,hT(t.updateMask),r,n):new cG(i,s,r,n)}return t.delete?new cZ(ux(e,t.delete),r):t.verify?new c2(ux(e,t.verify),r):sB()}function u1(e,t){return void 0!==t.updateTime?{updateTime:uT(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:sB()}function u2(e){return void 0!==e.updateTime?cO.updateTime(uN(e.updateTime)):void 0!==e.exists?cO.exists(e.exists):cO.none()}function u4(e,t){let r=e.updateTime?uN(e.updateTime):uN(t);return r.isEqual(sj.min())&&(r=uN(t)),new cL(r,e.transformResults||[])}function u5(e,t){return e&&e.length>0?(sQ(void 0!==t),e.map(e=>u4(e,t))):[]}function u3(e,t){let r=t.transform;if(r instanceof cv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof cw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof cS)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof cR)return{fieldPath:t.field.canonicalString(),increment:r.operand};throw sB()}function u9(e,t){let r=null;return"setToServerValue"in t?(sQ("REQUEST_TIME"===t.setToServerValue),r=new cv):"appendMissingElements"in t?r=new cw(t.appendMissingElements.values||[]):"removeAllFromArray"in t?r=new cS(t.removeAllFromArray.values||[]):"increment"in t?r=new cR(e,t.increment):sB(),new cN(sz.fromServerFormat(t.fieldPath),r)}function u8(e,t){return{documents:[uU(e,t.path)]}}function u6(e){return sQ(1===e.documents.length),lY(lU(uP(e.documents[0])))}function u7(e,t){let r;let n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=uU(e,r);let s=ho(t.filters);s&&(n.structuredQuery.where=s);let o=hl(t.orderBy);o&&(n.structuredQuery.orderBy=o);let a=ub(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=hu(t.startAt)),t.endAt&&(n.structuredQuery.endAt=hh(t.endAt)),{queryTarget:n,parent:r}}function he(e,t,r){let{queryTarget:n,parent:i}=u7(e,t),s={},o=[],a=0;return r.forEach(e=>{let t=`aggregate_${a++}`;s[t]=e.alias,"count"===e.aggregateType?o.push({alias:t,count:{}}):"avg"===e.aggregateType?o.push({alias:t,avg:{field:hI(e.fieldPath)}}):"sum"===e.aggregateType&&o.push({alias:t,sum:{field:hI(e.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:n.structuredQuery},parent:n.parent},aliasMap:s,parent:i}}function ht(e){let t=uP(e.parent),r=e.structuredQuery,n=r.from?r.from.length:0,i=null;if(n>0){sQ(1===n);let e=r.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];r.where&&(s=ha(r.where));let o=[];r.orderBy&&(o=hc(r.orderBy));let a=null;r.limit&&(a=uS(r.limit));let A=null;r.startAt&&(A=hd(r.startAt));let l=null;return r.endAt&&(l=hg(r.endAt)),lx(t,i,o,s,a,"F",A,l)}function hr(e){return lY(ht(e))}function hn(e,t){let r=hi(t.purpose);return null==r?null:{"goog-listen-tags":r}}function hi(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sB()}}function hs(e,t){let r;let n=t.target;if((r=lS(n)?{documents:u8(e,n)}:{query:u7(e,n).queryTarget}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){r.resumeToken=uD(e,t.resumeToken);let n=ub(e,t.expectedCount);null!==n&&(r.expectedCount=n)}else if(t.snapshotVersion.compareTo(sj.min())>0){r.readTime=uk(e,t.snapshotVersion.toTimestamp());let n=ub(e,t.expectedCount);null!==n&&(r.expectedCount=n)}return r}function ho(e){if(0!==e.length)return hw(lt.create(e,"and"))}function ha(e){let t=hA(e);return t instanceof lt&&li(t)?t.getFilters():[t]}function hA(e){return void 0!==e.unaryFilter?hk(e):void 0!==e.fieldFilter?hR(e):void 0!==e.compositeFilter?hD(e):sB()}function hl(e){if(0!==e.length)return e.map(e=>hQ(e))}function hc(e){return e.map(e=>hv(e))}function hu(e){return{before:e.inclusive,values:e.position}}function hh(e){return{before:!e.inclusive,values:e.position}}function hd(e){let t=!!e.before;return new A1(e.values||[],t)}function hg(e){let t=!e.before;return new A1(e.values||[],t)}function hf(e){return uI[e]}function hp(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function hE(e){return uB[e]}function hm(e){return uQ[e]}function hC(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sB()}}function hy(e){switch(e){case"AND":return"and";case"OR":return"or";default:return sB()}}function hI(e){return{fieldPath:e.canonicalString()}}function hB(e){return sz.fromServerFormat(e.fieldPath)}function hQ(e){return{field:hI(e.field),direction:hf(e.dir)}}function hv(e){return new A9(hB(e.field),hp(e.direction))}function hw(e){return e instanceof le?hS(e):e instanceof lt?hb(e):sB()}function hb(e){let t=e.getFilters().map(e=>hw(e));return 1===t.length?t[0]:{compositeFilter:{op:hm(e.op),filters:t}}}function hS(e){if("=="===e.op){if(AH(e.value))return{unaryFilter:{field:hI(e.field),op:"IS_NAN"}};if(AV(e.value))return{unaryFilter:{field:hI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(AH(e.value))return{unaryFilter:{field:hI(e.field),op:"IS_NOT_NAN"}};if(AV(e.value))return{unaryFilter:{field:hI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hI(e.field),op:hE(e.op),value:e.value}}}function hk(e){switch(e.unaryFilter.op){case"IS_NAN":let t=hB(e.unaryFilter.field);return le.create(t,"==",{doubleValue:NaN});case"IS_NULL":let r=hB(e.unaryFilter.field);return le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let n=hB(e.unaryFilter.field);return le.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=hB(e.unaryFilter.field);return le.create(i,"!=",{nullValue:"NULL_VALUE"});default:return sB()}}function hR(e){return le.create(hB(e.fieldFilter.field),hC(e.fieldFilter.op),e.fieldFilter.value)}function hD(e){return lt.create(e.compositeFilter.filters.map(e=>hA(e)),hy(e.compositeFilter.op))}function h_(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function hT(e){return new aj((e.fieldPaths||[]).map(e=>sz.fromServerFormat(e)))}function hN(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,t,r,n,i=sj.min(),s=sj.min(),o=aq.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new hF(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hF(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hF(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hF(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.remoteSerializer=e}}function hL(e,t){let r;if(t.document)r=uY(e.remoteSerializer,t.document,!!t.hasCommittedMutations);else if(t.noDocument){let e=s$.fromSegments(t.noDocument.path),n=hJ(t.noDocument.readTime);r=AZ.newNoDocument(e,n),t.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!t.unknownDocument)return sB();let e=s$.fromSegments(t.unknownDocument.path),n=hJ(t.unknownDocument.version);r=AZ.newUnknownDocument(e,n)}return t.readTime&&r.setReadTime(hU(t.readTime)),r}function hO(e,t){let r=t.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:hx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())n.document=uj(e.remoteSerializer,t);else if(t.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:hP(t.version)};else{if(!t.isUnknownDocument())return sB();n.unknownDocument={path:r.path.toArray(),version:hP(t.version)}}return n}function hx(e){let t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function hU(e){let t=new sG(e[0],e[1]);return sj.fromTimestamp(t)}function hP(e){let t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hJ(e){let t=new sG(e.seconds,e.nanoseconds);return sj.fromTimestamp(t)}function hV(e,t,r){let n=r.baseMutations.map(t=>uZ(e.remoteSerializer,t)),i=r.mutations.map(t=>uZ(e.remoteSerializer,t));return{userId:t,batchId:r.batchId,localWriteTimeMs:r.localWriteTime.toMillis(),baseMutations:n,mutations:i}}function hH(e,t){let r=(t.baseMutations||[]).map(t=>u0(e.remoteSerializer,t));for(let e=0;e<t.mutations.length-1;++e){let r=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){let n=t.mutations[e+1];r.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}let n=t.mutations.map(t=>u0(e.remoteSerializer,t)),i=sG.fromMillis(t.localWriteTimeMs);return new c4(t.batchId,i,r,n)}function hG(e){let t;let r=hJ(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?hJ(e.lastLimboFreeSnapshotVersion):sj.min();return new hF(t=hY(e.query)?u6(e.query):hr(e.query),e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,n,aq.fromBase64String(e.resumeToken))}function hj(e,t){let r;let n=hP(t.snapshotVersion),i=hP(t.lastLimboFreeSnapshotVersion);r=lS(t.target)?u8(e.remoteSerializer,t.target):u7(e.remoteSerializer,t.target).queryTarget;let s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:lv(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function hY(e){return void 0!==e.documents}function hW(e){return{id:e.bundleId,createTime:hJ(e.createTime),version:e.version}}function hq(e){return{bundleId:e.id,createTime:hP(uN(e.createTime)),version:e.version}}function hK(e){return{name:e.name,query:h$(e.bundledQuery),readTime:hJ(e.readTime)}}function hz(e){return{name:e.name,readTime:hP(uN(e.readTime)),bundledQuery:e.bundledQuery}}function h$(e){let t=ht({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?l$(t,t.limit,"L"):t}function hX(e){return{name:e.name,query:h$(e.bundledQuery),readTime:uN(e.readTime)}}function hZ(e){return{id:e.id,version:e.version,createTime:uN(e.createTime)}}function h0(e,t){return new c3(t.largestBatchId,u0(e.remoteSerializer,t.overlayMutation))}function h1(e,t,r){let[n,i,s]=h2(t,r.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:r.mutation.key.getCollectionGroup(),largestBatchId:r.largestBatchId,overlayMutation:uZ(e.remoteSerializer,r.mutation)}}function h2(e,t){let r=t.path.lastSegment();return[e,ok(t.path.popLast()),r]}function h4(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}function h5(e,t){let r=t?new s6(t.sequenceNumber,new ot(hJ(t.readTime),new s$(o_(t.documentKey)),t.largestBatchId)):s6.empty(),n=e.fields.map(([e,t])=>new s9(sz.fromServerFormat(e),t));return new s0(e.indexId,e.collectionGroup,n,r)}function h3(e,t,r,n){return{indexId:e,uid:t,sequenceNumber:r,readTime:hP(n.readTime),documentKey:ok(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{getBundleMetadata(e,t){return h8(e).get(t).next(e=>{if(e)return hW(e)})}saveBundleMetadata(e,t){return h8(e).put(hq(t))}getNamedQuery(e,t){return h6(e).get(t).next(e=>{if(e)return hK(e)})}saveNamedQuery(e,t){return h6(e).put(hz(t))}}function h8(e){return aN(e,ai)}function h6(e){return aN(e,ao)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,t){this.serializer=e,this.userId=t}static forUser(e,t){return new h7(e,t.uid||"")}getOverlay(e,t){return de(e).get(h2(this.userId,t)).next(e=>e?h0(this.serializer,e):null)}getOverlays(e,t){let r=cA();return os.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){let n=[];return r.forEach((r,i)=>{let s=new c3(t,i);n.push(this.saveOverlay(e,s))}),os.waitFor(n)}removeOverlaysForBatchId(e,t,r){let n=new Set;t.forEach(e=>n.add(ok(e.getCollectionPath())));let i=[];return n.forEach(t=>{let n=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,r+1],!1,!0);i.push(de(e).deleteAll(aB,n))}),os.waitFor(i)}getOverlaysForCollection(e,t,r){let n=cA(),i=ok(t),s=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return de(e).loadAll(aB,s).next(e=>{for(let t of e){let e=h0(this.serializer,t);n.set(e.getKey(),e)}return n})}getOverlaysForCollectionGroup(e,t,r,n){let i;let s=cA(),o=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return de(e).iterate({index:av,range:o},(e,t,r)=>{let o=h0(this.serializer,t);s.size()<n||o.largestBatchId===i?(s.set(o.getKey(),o),i=o.largestBatchId):r.done()}).next(()=>s)}saveOverlay(e,t){return de(e).put(h1(this.serializer,this.userId,t))}}function de(e){return aN(e,ay)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dt=5,dr=10,dn=13,di=15,ds=20,da=25,dA=30,dl=37,dc=45,du=50,dh=55,dd=60,dg=2;class df{constructor(){}writeIndexValue(e,t){this.writeIndexValueAux(e,t),t.writeInfinity()}writeIndexValueAux(e,t){if("nullValue"in e)this.writeValueTypeLabel(t,dt);else if("booleanValue"in e)this.writeValueTypeLabel(t,dr),t.writeNumber(e.booleanValue?1:0);else if("integerValue"in e)this.writeValueTypeLabel(t,di),t.writeNumber(aZ(e.integerValue));else if("doubleValue"in e){let r=aZ(e.doubleValue);isNaN(r)?this.writeValueTypeLabel(t,dn):(this.writeValueTypeLabel(t,di),As(r)?t.writeNumber(0):t.writeNumber(r))}else if("timestampValue"in e){let r=e.timestampValue;this.writeValueTypeLabel(t,ds),"string"==typeof r?t.writeString(r):(t.writeString(`${r.seconds||""}`),t.writeNumber(r.nanos||0))}else if("stringValue"in e)this.writeIndexString(e.stringValue,t),this.writeTruncationMarker(t);else if("bytesValue"in e)this.writeValueTypeLabel(t,dA),t.writeBytes(a0(e.bytesValue)),this.writeTruncationMarker(t);else if("referenceValue"in e)this.writeIndexEntityRef(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.writeValueTypeLabel(t,dc),t.writeNumber(r.latitude||0),t.writeNumber(r.longitude||0)}else"mapValue"in e?AY(e)?this.writeValueTypeLabel(t,Number.MAX_SAFE_INTEGER):(this.writeIndexMap(e.mapValue,t),this.writeTruncationMarker(t)):"arrayValue"in e?(this.writeIndexArray(e.arrayValue,t),this.writeTruncationMarker(t)):sB()}writeIndexString(e,t){this.writeValueTypeLabel(t,da),this.writeUnlabeledIndexString(e,t)}writeUnlabeledIndexString(e,t){t.writeString(e)}writeIndexMap(e,t){let r=e.fields||{};for(let e of(this.writeValueTypeLabel(t,dh),Object.keys(r)))this.writeIndexString(e,t),this.writeIndexValueAux(r[e],t)}writeIndexArray(e,t){let r=e.values||[];for(let e of(this.writeValueTypeLabel(t,du),r))this.writeIndexValueAux(e,t)}writeIndexEntityRef(e,t){this.writeValueTypeLabel(t,dl),s$.fromName(e).path.forEach(e=>{this.writeValueTypeLabel(t,dd),this.writeUnlabeledIndexString(e,t)})}writeValueTypeLabel(e,t){e.writeNumber(t)}writeTruncationMarker(e){e.writeNumber(dg)}}df.INSTANCE=new df;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp="\uD800",dE="\uDBFF",dm=0,dC=255,dy=1,dI=255,dB=255,dQ=0,dv=64,dw=8,db=1024;function dS(e){let t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}function dk(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function dR(e){let t=0;for(let r=0;r<8;++r){let n=dk(255&e[r]);if(t+=n,8!==n)break}return t}function dD(e){return Math.ceil((dv-dR(e))/dw)}class d_{constructor(){this.buffer=new Uint8Array(db),this.position=0}writeBytesAscending(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.writeByteAscending(r.value),r=t.next();this.writeSeparatorAscending()}writeBytesDescending(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.writeByteDescending(r.value),r=t.next();this.writeSeparatorDescending()}writeUtf8Ascending(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.writeByteAscending(e);else if(e<2048)this.writeByteAscending(960|e>>>6),this.writeByteAscending(128|63&e);else if(t<dp||dE<t)this.writeByteAscending(480|e>>>12),this.writeByteAscending(128|63&e>>>6),this.writeByteAscending(128|63&e);else{let e=t.codePointAt(0);this.writeByteAscending(240|e>>>18),this.writeByteAscending(128|63&e>>>12),this.writeByteAscending(128|63&e>>>6),this.writeByteAscending(128|63&e)}}this.writeSeparatorAscending()}writeUtf8Descending(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.writeByteDescending(e);else if(e<2048)this.writeByteDescending(960|e>>>6),this.writeByteDescending(128|63&e);else if(t<dp||dE<t)this.writeByteDescending(480|e>>>12),this.writeByteDescending(128|63&e>>>6),this.writeByteDescending(128|63&e);else{let e=t.codePointAt(0);this.writeByteDescending(240|e>>>18),this.writeByteDescending(128|63&e>>>12),this.writeByteDescending(128|63&e>>>6),this.writeByteDescending(128|63&e)}}this.writeSeparatorDescending()}writeNumberAscending(e){let t=this.toOrderedBits(e),r=dD(t);this.ensureAvailable(1+r),this.buffer[this.position++]=255&r;for(let e=t.length-r;e<t.length;++e)this.buffer[this.position++]=255&t[e]}writeNumberDescending(e){let t=this.toOrderedBits(e),r=dD(t);this.ensureAvailable(1+r),this.buffer[this.position++]=~(255&r);for(let e=t.length-r;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}writeInfinityAscending(){this.writeEscapedByteAscending(dI),this.writeEscapedByteAscending(dB)}writeInfinityDescending(){this.writeEscapedByteDescending(dI),this.writeEscapedByteDescending(dB)}reset(){this.position=0}seed(e){this.ensureAvailable(e.length),this.buffer.set(e,this.position),this.position+=e.length}encodedBytes(){return this.buffer.slice(0,this.position)}toOrderedBits(e){let t=dS(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let e=1;e<t.length;++e)t[e]^=r?255:0;return t}writeByteAscending(e){let t=255&e;t===dm?(this.writeEscapedByteAscending(dm),this.writeEscapedByteAscending(dC)):t===dI?(this.writeEscapedByteAscending(dI),this.writeEscapedByteAscending(dQ)):this.writeEscapedByteAscending(t)}writeByteDescending(e){let t=255&e;t===dm?(this.writeEscapedByteDescending(dm),this.writeEscapedByteDescending(dC)):t===dI?(this.writeEscapedByteDescending(dI),this.writeEscapedByteDescending(dQ)):this.writeEscapedByteDescending(e)}writeSeparatorAscending(){this.writeEscapedByteAscending(dm),this.writeEscapedByteAscending(dy)}writeSeparatorDescending(){this.writeEscapedByteDescending(dm),this.writeEscapedByteDescending(dy)}writeEscapedByteAscending(e){this.ensureAvailable(1),this.buffer[this.position++]=e}writeEscapedByteDescending(e){this.ensureAvailable(1),this.buffer[this.position++]=~e}ensureAvailable(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let n=new Uint8Array(r);n.set(this.buffer),this.buffer=n}}class dT{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesAscending(e)}writeString(e){this.orderedCode.writeUtf8Ascending(e)}writeNumber(e){this.orderedCode.writeNumberAscending(e)}writeInfinity(){this.orderedCode.writeInfinityAscending()}}class dN{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesDescending(e)}writeString(e){this.orderedCode.writeUtf8Descending(e)}writeNumber(e){this.orderedCode.writeNumberDescending(e)}writeInfinity(){this.orderedCode.writeInfinityDescending()}}class dF{constructor(){this.orderedCode=new d_,this.ascending=new dT(this.orderedCode),this.descending=new dN(this.orderedCode)}seed(e){this.orderedCode.seed(e)}forKind(e){return 0===e?this.ascending:this.descending}encodedBytes(){return this.orderedCode.encodedBytes()}reset(){this.orderedCode.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,t,r,n){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=n}successor(){let e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new dM(this.indexId,this.documentKey,this.arrayValue,r)}}function dL(e,t){let r=e.indexId-t.indexId;return 0!==r||0!==(r=dO(e.arrayValue,t.arrayValue))||0!==(r=dO(e.directionalValue,t.directionalValue))?r:s$.comparator(e.documentKey,t.documentKey)}function dO(e,t){for(let r=0;r<e.length&&r<t.length;++r){let n=e[r]-t[r];if(0!==n)return n}return e.length-t.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){for(let t of(this.inequalityFilters=new aJ((e,t)=>sz.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.orderBys=e.orderBy,this.equalityFilters=[],e.filters)){let e=t;e.isInequality()?this.inequalityFilters=this.inequalityFilters.add(e):this.equalityFilters.push(e)}}get hasMultipleInequality(){return this.inequalityFilters.size>1}servedByIndex(e){if(sQ(e.collectionGroup===this.collectionId),this.hasMultipleInequality)return!1;let t=s1(e);if(void 0!==t&&!this.hasMatchingEqualityFilter(t))return!1;let r=s2(e),n=new Set,i=0,s=0;for(;i<r.length;++i)if(this.hasMatchingEqualityFilter(r[i]))n=n.add(r[i].fieldPath.canonicalString());else break;if(i===r.length)return!0;if(this.inequalityFilters.size>0){let e=this.inequalityFilters.getIterator().getNext();if(!n.has(e.field.canonicalString())){let t=r[i];if(!this.matchesFilter(e,t)||!this.matchesOrderBy(this.orderBys[s++],t))return!1}++i}for(;i<r.length;++i){let e=r[i];if(s>=this.orderBys.length||!this.matchesOrderBy(this.orderBys[s++],e))return!1}return!0}buildTargetIndex(){if(this.hasMultipleInequality)return null;let e=new aJ(sz.comparator),t=[];for(let r of this.equalityFilters)if(!r.field.isKeyField()){if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new s9(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new s9(r.field,0))}}for(let r of this.orderBys)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new s9(r.field,"asc"===r.dir?0:1)));return new s0(s0.UNKNOWN_ID,this.collectionId,t,s6.empty())}hasMatchingEqualityFilter(e){for(let t of this.equalityFilters)if(this.matchesFilter(t,e))return!0;return!1}matchesFilter(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;let r="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===r}matchesOrderBy(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(e){var t,r;if(sQ(e instanceof le||e instanceof lt),e instanceof le){if(!(e instanceof lC))return e;{let n=(null===(r=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===r?void 0:r.map(t=>le.create(e.field,"==",t)))||[];return lt.create(n,"or")}}let n=e.filters.map(e=>dU(e));return lt.create(n,e.op)}function dP(e){if(0===e.getFilters().length)return[];let t=dj(dU(e));return(sQ(dH(t)),dJ(t)||dV(t))?[t]:t.getFilters()}function dJ(e){return e instanceof le}function dV(e){return e instanceof lt&&li(e)}function dH(e){return dJ(e)||dV(e)||dG(e)}function dG(e){if(e instanceof lt&&ln(e)){for(let t of e.getFilters())if(!dJ(t)&&!dV(t))return!1;return!0}return!1}function dj(e){if(sQ(e instanceof le||e instanceof lt),e instanceof le)return e;if(1===e.filters.length)return dj(e.filters[0]);let t=e.filters.map(e=>dj(e)),r=lt.create(t,e.op);return dH(r=dz(r))?r:(sQ(r instanceof lt),sQ(lr(r)),sQ(r.filters.length>1),r.filters.reduce((e,t)=>dY(e,t)))}function dY(e,t){let r;return sQ(e instanceof le||e instanceof lt),sQ(t instanceof le||t instanceof lt),dz(r=e instanceof le?t instanceof le?dW(e,t):dK(e,t):t instanceof le?dK(t,e):dq(e,t))}function dW(e,t){return lt.create([e,t],"and")}function dq(e,t){if(sQ(e.filters.length>0&&t.filters.length>0),lr(e)&&lr(t))return lc(e,t.getFilters());let r=ln(e)?e:t,n=ln(e)?t:e,i=r.filters.map(e=>dY(e,n));return lt.create(i,"or")}function dK(e,t){if(lr(t))return lc(t,e.getFilters());{let r=t.filters.map(t=>dY(e,t));return lt.create(r,"or")}}function dz(e){if(sQ(e instanceof le||e instanceof lt),e instanceof le)return e;let t=e.getFilters();if(1===t.length)return dz(t[0]);if(ls(e))return e;let r=t.map(e=>dz(e)),n=[];return(r.forEach(t=>{t instanceof le?n.push(t):t instanceof lt&&(t.op===e.op?n.push(...t.filters):n.push(t))}),1===n.length)?n[0]:lt.create(n,e.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(){this.collectionParentIndex=new dX}addToCollectionParentIndex(e,t){return this.collectionParentIndex.add(t),os.resolve()}getCollectionParents(e,t){return os.resolve(this.collectionParentIndex.getEntries(t))}addFieldIndex(e,t){return os.resolve()}deleteFieldIndex(e,t){return os.resolve()}deleteAllFieldIndexes(e){return os.resolve()}createTargetIndexes(e,t){return os.resolve()}getDocumentsMatchingTarget(e,t){return os.resolve(null)}getIndexType(e,t){return os.resolve(0)}getFieldIndexes(e,t){return os.resolve([])}getNextCollectionGroupToUpdate(e){return os.resolve(null)}getMinOffset(e,t){return os.resolve(ot.min())}getMinOffsetFromCollectionGroup(e,t){return os.resolve(ot.min())}updateCollectionGroup(e,t,r){return os.resolve()}updateIndexEntries(e,t){return os.resolve()}}class dX{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new aJ(sq.comparator),i=!n.has(r);return this.index[t]=n.add(r),i}has(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}getEntries(e){return(this.index[e]||new aJ(sq.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dZ="IndexedDbIndexManager",d0=new Uint8Array(0);class d1{constructor(e,t){this.databaseId=t,this.collectionParentsCache=new dX,this.targetToDnfSubTargets=new ct(e=>lv(e),(e,t)=>lb(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.collectionParentsCache.has(t)){let r=t.lastSegment(),n=t.popLast();e.addOnCommittedListener(()=>{this.collectionParentsCache.add(t)});let i={collectionId:r,parent:ok(n)};return d2(e).put(i)}return os.resolve()}getCollectionParents(e,t){let r=[],n=IDBKeyRange.bound([t,""],[sJ(t),""],!1,!0);return d2(e).loadAll(n).next(e=>{for(let n of e){if(n.collectionId!==t)break;r.push(o_(n.parent))}return r})}addFieldIndex(e,t){let r=d5(e),n=h4(t);delete n.indexId;let i=r.add(n);if(!t.indexState)return i.next();{let r=d3(e);return i.next(e=>{r.put(h3(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}}deleteFieldIndex(e,t){let r=d5(e),n=d3(e),i=d4(e);return r.delete(t.indexId).next(()=>n.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=d5(e),r=d4(e),n=d3(e);return t.deleteAll().next(()=>r.deleteAll()).next(()=>n.deleteAll())}createTargetIndexes(e,t){return os.forEach(this.getSubTargets(t),t=>this.getIndexType(e,t).next(r=>{if(0===r||1===r){let r=new dx(t).buildTargetIndex();if(null!=r)return this.addFieldIndex(e,r)}}))}getDocumentsMatchingTarget(e,t){let r=d4(e),n=!0,i=new Map;return os.forEach(this.getSubTargets(t),t=>this.getFieldIndex(e,t).next(e=>{n&&(n=!!e),i.set(t,e)})).next(()=>{if(!n)return os.resolve(null);{let e=cg(),n=[];return os.forEach(i,(i,s)=>{sm(dZ,`Using index ${s3(i)} to execute ${lv(t)}`);let o=lR(s,i),a=lD(s,i),A=l_(s,i),l=lT(s,i),c=this.encodeBound(i,s,A),u=this.encodeBound(i,s,l),h=this.encodeValues(i,s,a),d=this.generateIndexRanges(i.indexId,o,c,A.inclusive,u,l.inclusive,h);return os.forEach(d,i=>r.loadFirst(i,t.limit).next(t=>{t.forEach(t=>{let r=s$.fromSegments(t.documentKey);e.has(r)||(e=e.add(r),n.push(r))})}))}).next(()=>n)}})}getSubTargets(e){let t=this.targetToDnfSubTargets.get(e);return t||(t=0===e.filters.length?[e]:dP(lt.create(e.filters,"and")).map(t=>lQ(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.targetToDnfSubTargets.set(e,t)),t}generateIndexRanges(e,t,r,n,i,s,o){let a=(null!=t?t.length:1)*Math.max(r.length,i.length),A=a/(null!=t?t.length:1),l=[];for(let c=0;c<a;++c){let a=t?this.encodeSingleElement(t[c/A]):d0,u=this.generateLowerBound(e,a,r[c%A],n),h=this.generateUpperBound(e,a,i[c%A],s),d=o.map(t=>this.generateLowerBound(e,a,t,!0));l.push(...this.createRange(u,h,d))}return l}generateLowerBound(e,t,r,n){let i=new dM(e,s$.empty(),t,r);return n?i:i.successor()}generateUpperBound(e,t,r,n){let i=new dM(e,s$.empty(),t,r);return n?i.successor():i}getFieldIndex(e,t){let r=new dx(t),n=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,n).next(e=>{let t=null;for(let n of e)r.servedByIndex(n)&&(!t||n.fields.length>t.fields.length)&&(t=n);return t})}getIndexType(e,t){let r=2,n=this.getSubTargets(t);return os.forEach(n,t=>this.getFieldIndex(e,t).next(e=>{e?0!==r&&e.fields.length<lM(t)&&(r=1):r=0})).next(()=>lL(t)&&n.length>1&&2===r?1:r)}encodeDirectionalElements(e,t){let r=new dF;for(let n of s2(e)){let e=t.data.field(n.fieldPath);if(null==e)return null;let i=r.forKind(n.kind);df.INSTANCE.writeIndexValue(e,i)}return r.encodedBytes()}encodeSingleElement(e){let t=new dF;return df.INSTANCE.writeIndexValue(e,t.forKind(0)),t.encodedBytes()}encodeDirectionalKey(e,t){let r=new dF;return df.INSTANCE.writeIndexValue(AO(this.databaseId,t),r.forKind(s4(e))),r.encodedBytes()}encodeValues(e,t,r){if(null===r)return[];let n=[];n.push(new dF);let i=0;for(let s of s2(e)){let e=r[i++];for(let r of n)if(this.isInFilter(t,s.fieldPath)&&AJ(e))n=this.expandIndexValues(n,s,e);else{let t=r.forKind(s.kind);df.INSTANCE.writeIndexValue(e,t)}}return this.getEncodedBytes(n)}encodeBound(e,t,r){return this.encodeValues(e,t,r.position)}getEncodedBytes(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].encodedBytes();return t}expandIndexValues(e,t,r){let n=[...e],i=[];for(let e of r.arrayValue.values||[])for(let r of n){let n=new dF;n.seed(r.encodedBytes()),df.INSTANCE.writeIndexValue(e,n.forKind(t.kind)),i.push(n)}return i}isInFilter(e,t){return!!e.filters.find(e=>e instanceof le&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){let r=d5(e),n=d3(e);return(t?r.loadAll(ac,IDBKeyRange.bound(t,t)):r.loadAll()).next(e=>{let t=[];return os.forEach(e,e=>n.get([e.indexId,this.uid]).next(r=>{t.push(h5(e,r))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{let r=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==r?r:sU(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,r){let n=d5(e),i=d3(e);return this.getNextSequenceNumber(e).next(e=>n.loadAll(ac,IDBKeyRange.bound(t,t)).next(t=>os.forEach(t,t=>i.put(h3(t.indexId,this.uid,e,r)))))}updateIndexEntries(e,t){let r=new Map;return os.forEach(t,(t,n)=>{let i=r.get(t.collectionGroup);return(i?os.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(r.set(t.collectionGroup,i),os.forEach(i,r=>this.getExistingIndexEntries(e,t,r).next(t=>{let i=this.computeIndexEntries(n,r);return t.isEqual(i)?os.resolve():this.updateEntries(e,n,r,t,i)}))))})}addIndexEntry(e,t,r,n){return d4(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,orderedDocumentKey:this.encodeDirectionalKey(r,t.key),documentKey:t.key.path.toArray()})}deleteIndexEntry(e,t,r,n){return d4(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,this.encodeDirectionalKey(r,t.key),t.key.path.toArray()])}getExistingIndexEntries(e,t,r){let n=d4(e),i=new aJ(dL);return n.iterate({index:am,range:IDBKeyRange.only([r.indexId,this.uid,this.encodeDirectionalKey(r,t)])},(e,n)=>{i=i.add(new dM(r.indexId,t,n.arrayValue,n.directionalValue))}).next(()=>i)}computeIndexEntries(e,t){let r=new aJ(dL),n=this.encodeDirectionalElements(t,e);if(null==n)return r;let i=s1(t);if(null!=i){let s=e.data.field(i.fieldPath);if(AJ(s))for(let i of s.arrayValue.values||[])r=r.add(new dM(t.indexId,e.key,this.encodeSingleElement(i),n))}else r=r.add(new dM(t.indexId,e.key,d0,n));return r}updateEntries(e,t,r,n,i){sm(dZ,"Updating index entries for document '%s'",t.key);let s=[];return aH(n,i,dL,n=>{s.push(this.addIndexEntry(e,t,r,n))},n=>{s.push(this.deleteIndexEntry(e,t,r,n))}),os.waitFor(s)}getNextSequenceNumber(e){let t=1;return d3(e).iterate({index:ag,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,r,n)=>{n.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((e,t)=>dL(e,t)).filter((e,t,r)=>!t||0!==dL(e,r[t-1]));let n=[];for(let i of(n.push(e),r)){let r=dL(i,e),s=dL(i,t);if(0===r)n[0]=e.successor();else if(r>0&&s<0)n.push(i),n.push(i.successor());else if(s>0)break}n.push(t);let i=[];for(let e=0;e<n.length;e+=2){if(this.isRangeMatchable(n[e],n[e+1]))return[];let t=[n[e].indexId,this.uid,n[e].arrayValue,n[e].directionalValue,d0,[]],r=[n[e+1].indexId,this.uid,n[e+1].arrayValue,n[e+1].directionalValue,d0,[]];i.push(IDBKeyRange.bound(t,r))}return i}isRangeMatchable(e,t){return dL(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(d9)}getMinOffset(e,t){return os.mapArray(this.getSubTargets(t),t=>this.getFieldIndex(e,t).next(e=>e||sB())).next(d9)}}function d2(e){return aN(e,ae)}function d4(e){return aN(e,ap)}function d5(e){return aN(e,aA)}function d3(e){return aN(e,ah)}function d9(e){sQ(0!==e.length);let t=e[0].indexState.offset,r=t.largestBatchId;for(let n=1;n<e.length;n++){let i=e[n].indexState.offset;0>or(i,t)&&(t=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new ot(t.readTime,t.documentKey,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(e,t,r){let n=e.store(oO),i=e.store(oj),s=[],o=IDBKeyRange.only(r.batchId),a=0,A=n.iterate({range:o},(e,t,r)=>(a++,r.delete()));s.push(A.next(()=>{sQ(1===a)}));let l=[];for(let e of r.mutations){let n=oH(t,e.key.path,r.batchId);s.push(i.delete(n)),l.push(e.key)}return os.waitFor(s).next(()=>l)}function d6(e){let t;if(!e)return 0;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else if(e.noDocument)t=e.noDocument;else throw sB();return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,t,r,n){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=n,this.documentKeysByBatchId={}}static forUser(e,t,r,n){return sQ(""!==e.uid),new d7(e.isAuthenticated()?e.uid:"",t,r,n)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gr(e).iterate({index:oU,range:r},(e,r,n)=>{t=!1,n.done()}).next(()=>t)}addMutationBatch(e,t,r,n){let i=gn(e),s=gr(e);return s.add({}).next(o=>{sQ("number"==typeof o);let a=new c4(o,t,r,n),A=hV(this.serializer,this.userId,a),l=[],c=new aJ((e,t)=>sU(e.canonicalString(),t.canonicalString()));for(let e of n){let t=oH(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),l.push(s.put(A)),l.push(i.put(t,oG))}return c.forEach(t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.documentKeysByBatchId[o]=a.keys()}),os.waitFor(l).next(()=>a)})}lookupMutationBatch(e,t){return gr(e).get(t).next(e=>e?(sQ(e.userId===this.userId),hH(this.serializer,e)):null)}lookupMutationKeys(e,t){return this.documentKeysByBatchId[t]?os.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next(e=>{if(!e)return null;{let r=e.keys();return this.documentKeysByBatchId[t]=r,r}})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,n=IDBKeyRange.lowerBound([this.userId,r]),i=null;return gr(e).iterate({index:oU,range:n},(e,t,n)=>{t.userId===this.userId&&(sQ(t.batchId>=r),i=hH(this.serializer,t)),n.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=An;return gr(e).iterate({index:oU,range:t,reverse:!0},(e,t,n)=>{r=t.batchId,n.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,An],[this.userId,Number.POSITIVE_INFINITY]);return gr(e).loadAll(oU,t).next(e=>e.map(e=>hH(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=oV(this.userId,t.path),n=IDBKeyRange.lowerBound(r),i=[];return gn(e).iterate({range:n},(r,n,s)=>{let[o,a,A]=r,l=o_(a);if(o!==this.userId||!t.path.isEqual(l)){s.done();return}return gr(e).get(A).next(e=>{if(!e)throw sB();sQ(e.userId===this.userId),i.push(hH(this.serializer,e))})}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new aJ(sU),n=[];return t.forEach(t=>{let i=oV(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=gn(e).iterate({range:s},(e,n,i)=>{let[s,o,a]=e,A=o_(o);if(s!==this.userId||!t.path.isEqual(A)){i.done();return}r=r.add(a)});n.push(o)}),os.waitFor(n).next(()=>this.lookupMutationBatches(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,n=r.length+1,i=oV(this.userId,r),s=IDBKeyRange.lowerBound(i),o=new aJ(sU);return gn(e).iterate({range:s},(e,t,i)=>{let[s,a,A]=e,l=o_(a);if(s!==this.userId||!r.isPrefixOf(l)){i.done();return}l.length===n&&(o=o.add(A))}).next(()=>this.lookupMutationBatches(e,o))}lookupMutationBatches(e,t){let r=[],n=[];return t.forEach(t=>{n.push(gr(e).get(t).next(e=>{if(null===e)throw sB();sQ(e.userId===this.userId),r.push(hH(this.serializer,e))}))}),os.waitFor(n).next(()=>r)}removeMutationBatch(e,t){return d8(e.simpleDbTransaction,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.removeCachedMutationKeys(t.batchId)}),os.forEach(r,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}removeCachedMutationKeys(e){delete this.documentKeysByBatchId[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return os.resolve();let r=IDBKeyRange.lowerBound(oJ(this.userId)),n=[];return gn(e).iterate({range:r},(e,t,r)=>{if(e[0]!==this.userId){r.done();return}{let t=o_(e[1]);n.push(t)}}).next(()=>{sQ(0===n.length)})})}containsKey(e,t){return ge(e,this.userId,t)}getMutationQueueMetadata(e){return gi(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:An,lastStreamToken:""})}}function ge(e,t,r){let n=oV(t,r.path),i=n[1],s=IDBKeyRange.lowerBound(n),o=!1;return gn(e).iterate({range:s,keysOnly:!0},(e,r,n)=>{let[s,a,A]=e;s===t&&a===i&&(o=!0),n.done()}).next(()=>o)}function gt(e,t){let r=!1;return gi(e).iterateSerial(n=>ge(e,n,t).next(e=>(e&&(r=!0),os.resolve(!e)))).next(()=>r)}function gr(e){return aN(e,oO)}function gn(e){return aN(e,oj)}function gi(e){return aN(e,oM)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gs=2;class go{constructor(e){this.lastId=e}next(){return this.lastId+=gs,this.lastId}static forTargetCache(){return new go(2-gs)}static forSyncEngine(){return new go(1-gs)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.retrieveMetadata(e).next(t=>{let r=new go(t.highestTargetId);return t.highestTargetId=r.next(),this.saveMetadata(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.retrieveMetadata(e).next(e=>sj.fromTimestamp(new sG(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.retrieveMetadata(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.retrieveMetadata(e).next(n=>(n.highestListenSequenceNumber=t,r&&(n.lastRemoteSnapshotVersion=r.toTimestamp()),t>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t),this.saveMetadata(e,n)))}addTargetData(e,t){return this.saveTargetData(e,t).next(()=>this.retrieveMetadata(e).next(r=>(r.targetCount+=1,this.updateMetadataFromTargetData(t,r),this.saveMetadata(e,r))))}updateTargetData(e,t){return this.saveTargetData(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gA(e).delete(t.targetId)).next(()=>this.retrieveMetadata(e)).next(t=>(sQ(t.targetCount>0),t.targetCount-=1,this.saveMetadata(e,t)))}removeTargets(e,t,r){let n=0,i=[];return gA(e).iterate((s,o)=>{let a=hG(o);a.sequenceNumber<=t&&null===r.get(a.targetId)&&(n++,i.push(this.removeTargetData(e,a)))}).next(()=>os.waitFor(i)).next(()=>n)}forEachTarget(e,t){return gA(e).iterate((e,r)=>{t(hG(r))})}retrieveMetadata(e){return gl(e).get(o6).next(e=>(sQ(null!==e),e))}saveMetadata(e,t){return gl(e).put(o6,t)}saveTargetData(e,t){return gA(e).put(hj(this.serializer,t))}updateMetadataFromTargetData(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.retrieveMetadata(e).next(e=>e.targetCount)}getTargetData(e,t){let r=lv(t),n=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),i=null;return gA(e).iterate({range:n,index:o2},(e,r,n)=>{let s=hG(r);lb(t,s.target)&&(i=s,n.done())}).next(()=>i)}addMatchingKeys(e,t,r){let n=[],i=gc(e);return t.forEach(t=>{let s=ok(t.path);n.push(i.put({targetId:r,path:s})),n.push(this.referenceDelegate.addReference(e,r,t))}),os.waitFor(n)}removeMatchingKeys(e,t,r){let n=gc(e);return os.forEach(t,t=>{let i=ok(t.path);return os.waitFor([n.delete([r,i]),this.referenceDelegate.removeReference(e,r,t)])})}removeMatchingKeysForTargetId(e,t){let r=gc(e),n=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(n)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),n=gc(e),i=cg();return n.iterate({range:r,keysOnly:!0},(e,t,r)=>{let n=new s$(o_(e[1]));i=i.add(n)}).next(()=>i)}containsKey(e,t){let r=ok(t.path),n=IDBKeyRange.bound([r],[sJ(r)],!1,!0),i=0;return gc(e).iterate({index:o9,keysOnly:!0,range:n},([e,t],r,n)=>{0!==e&&(i++,n.done())}).next(()=>i>0)}getTargetDataForTarget(e,t){return gA(e).get(t).next(e=>e?hG(e):null)}}function gA(e){return aN(e,o0)}function gl(e){return aN(e,o7)}function gc(e){return aN(e,o5)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gh=-1,gd=41943040;class gg{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new gg(e,gg.DEFAULT_COLLECTION_PERCENTILE,gg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}gg.DEFAULT_COLLECTION_PERCENTILE=10,gg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gg.DEFAULT=new gg(gd,gg.DEFAULT_COLLECTION_PERCENTILE,gg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gg.DISABLED=new gg(gh,0,0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf="LruGarbageCollector",gp=1048576,gE=null,gm=null;function gC([e,t],[r,n]){let i=sU(e,r);return 0===i?sU(t,n):i}class gy{constructor(e){this.maxElements=e,this.buffer=new aJ(gC),this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(e){let t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();0>gC(t,e)&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.gcTask=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==gh&&this.scheduleGC(gE)}stop(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)}get started(){return null!==this.gcTask}scheduleGC(e){sm(gf,`Garbage collection scheduled in ${e}ms`),this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.gcTask=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){oh(e)?sm(gf,"Ignoring IndexedDB error during garbage collection: ",e):await oi(e)}await this.scheduleGC(gm)})}}class gB{constructor(e,t){this.delegate=e,this.params=t}calculateTargetCount(e,t){return this.delegate.getSequenceNumberCount(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return os.resolve(oQ.INVALID);let r=new gy(t);return this.delegate.forEachTarget(e,e=>r.addElement(e.sequenceNumber)).next(()=>this.delegate.forEachOrphanedDocumentSequenceNumber(e,e=>r.addElement(e))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.delegate.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.delegate.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===gh?(sm("LruGarbageCollector","Garbage collection skipped; disabled"),os.resolve(gu)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(sm("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gu):this.runGarbageCollection(e,t))}getCacheSize(e){return this.delegate.getCacheSize(e)}runGarbageCollection(e,t){let r,n,i,s,o,a,A;let l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(sm("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),n=this.params.maximumSequenceNumbersToCollect):n=t,s=Date.now(),this.nthSequenceNumber(e,n))).next(n=>(r=n,o=Date.now(),this.removeTargets(e,r,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,r))).next(e=>(A=Date.now(),sE()<=LogLevel.DEBUG&&sm("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-l}ms
	Determined least recently used ${n} in ${o-s}ms
	Removed ${i} targets in ${a-o}ms
	Removed ${e} documents in ${A-a}ms
Total Duration: ${A-l}ms`),os.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:i,documentsRemoved:e})))}}function gQ(e,t){return new gB(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t){this.db=e,this.garbageCollector=gQ(this,t)}getSequenceNumberCount(e){let t=this.orphanedDocumentCount(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}forEachOrphanedDocumentSequenceNumber(e,t){return this.forEachOrphanedDocument(e,(e,r)=>t(r))}addReference(e,t,r){return gS(e,r)}removeReference(e,t,r){return gS(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return gS(e,t)}isPinned(e,t){return gt(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),n=[],i=0;return this.forEachOrphanedDocument(e,(s,o)=>{if(o<=t){let t=this.isPinned(e,s).next(t=>{if(!t)return i++,r.getEntry(e,s).next(()=>(r.removeEntry(s,sj.min()),gc(e).delete(gw(s))))});n.push(t)}}).next(()=>os.waitFor(n)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return gS(e,t)}forEachOrphanedDocument(e,t){let r;let n=gc(e),i=oQ.INVALID;return n.iterate({index:o9},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==oQ.INVALID&&t(new s$(o_(r)),i),i=o,r=s):i=oQ.INVALID}).next(()=>{i!==oQ.INVALID&&t(new s$(o_(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gw(e){return[0,ok(e.path)]}function gb(e,t){return{targetId:0,path:ok(e.path),sequenceNumber:t}}function gS(e,t){return gc(e).put(gb(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return gT(e).put(r)}removeEntry(e,t,r){return gT(e).delete(gF(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.setMetadata(e,r)))}getEntry(e,t){let r=AZ.newInvalidDocument(t);return gT(e).iterate({index:oq,range:IDBKeyRange.only(gN(t))},(e,n)=>{r=this.maybeDecodeDocument(t,n)}).next(()=>r)}getSizedEntry(e,t){let r={size:0,document:AZ.newInvalidDocument(t)};return gT(e).iterate({index:oq,range:IDBKeyRange.only(gN(t))},(e,n)=>{r={document:this.maybeDecodeDocument(t,n),size:d6(n)}}).next(()=>r)}getEntries(e,t){let r=cn();return this.forEachDbEntry(e,t,(e,t)=>{let n=this.maybeDecodeDocument(e,t);r=r.insert(e,n)}).next(()=>r)}getSizedEntries(e,t){let r=cn(),n=new aO(s$.comparator);return this.forEachDbEntry(e,t,(e,t)=>{let i=this.maybeDecodeDocument(e,t);r=r.insert(e,i),n=n.insert(e,d6(t))}).next(()=>({documents:r,sizeMap:n}))}forEachDbEntry(e,t,r){if(t.isEmpty())return os.resolve();let n=new aJ(gL);t.forEach(e=>n=n.add(e));let i=IDBKeyRange.bound(gN(n.first()),gN(n.last())),s=n.getIterator(),o=s.getNext();return gT(e).iterate({index:oq,range:i},(e,t,n)=>{let i=s$.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&0>gL(o,i);)r(o,null),o=s.getNext();o&&o.isEqual(i)&&(r(o,t),o=s.hasNext()?s.getNext():null),o?n.skip(gN(o)):n.done()}).next(()=>{for(;o;)r(o,null),o=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,n,i){let s=t.path,o=[s.popLast().toArray(),s.lastSegment(),hx(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gT(e).loadAll(IDBKeyRange.bound(o,a,!0)).next(e=>{null==i||i.incrementDocumentReadCount(e.length);let r=cn();for(let i of e){let e=this.maybeDecodeDocument(s$.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(l4(t,e)||n.has(e.key))&&(r=r.insert(e.key,e))}return r})}getAllFromCollectionGroup(e,t,r,n){let i=cn(),s=gM(t,r),o=gM(t,ot.max());return gT(e).iterate({index:oz,range:IDBKeyRange.bound(s,o,!0)},(e,t,r)=>{let s=this.maybeDecodeDocument(s$.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(i=i.insert(s.key,s)).size===n&&r.done()}).next(()=>i)}newChangeBuffer(e){return new gD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return g_(e).get(oZ).next(e=>(sQ(!!e),e))}setMetadata(e,t){return g_(e).put(oZ,t)}maybeDecodeDocument(e,t){if(t){let e=hL(this.serializer,t);if(!(e.isNoDocument()&&e.version.isEqual(sj.min())))return e}return AZ.newInvalidDocument(e)}}function gR(e){return new gk(e)}class gD extends null{constructor(e,t){super(),this.documentCache=e,this.trackRemovals=t,this.documentStates=new ct(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){let t=[],r=0,n=new aJ((e,t)=>sU(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{let o=this.documentStates.get(i);if(t.push(this.documentCache.removeEntry(e,i,o.readTime)),s.isValidDocument()){let a=hO(this.documentCache.serializer,s);n=n.add(i.path.popLast());let A=d6(a);r+=A-o.size,t.push(this.documentCache.addEntry(e,i,a))}else if(r-=o.size,this.trackRemovals){let r=hO(this.documentCache.serializer,s.convertToNoDocument(sj.min()));t.push(this.documentCache.addEntry(e,i,r))}}),n.forEach(r=>{t.push(this.documentCache.indexManager.addToCollectionParentIndex(e,r))}),t.push(this.documentCache.updateMetadata(e,r)),os.waitFor(t)}getFromCache(e,t){return this.documentCache.getSizedEntry(e,t).next(e=>(this.documentStates.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.documentCache.getSizedEntries(e,t).next(({documents:e,sizeMap:t})=>(t.forEach((t,r)=>{this.documentStates.set(t,{size:r,readTime:e.get(t).readTime})}),e))}}function g_(e){return aN(e,oX)}function gT(e){return aN(e,oY)}function gN(e){let t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function gF(e,t){let r=e.path.toArray();return[r.slice(0,r.length-2),r[r.length-2],hx(t),r[r.length-1]]}function gM(e,t){let r=t.documentKey.path.toArray();return[e,hx(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function gL(e,t){let r=e.path.toArray(),n=t.path.toArray(),i=0;for(let e=0;e<r.length-2&&e<n.length-2;++e)if(i=sU(r[e],n[e]))return i;return(i=sU(r.length,n.length))||(i=sU(r[r.length-2],n[n.length-2]))?i:sU(r[r.length-1],n[n.length-1])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gO=15;/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,t,r,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=n}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(r=n,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==r&&cJ(r.mutation,e,aj.empty(),sG.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,cg()).next(()=>t))}getLocalViewOfDocuments(e,t,r=cg()){let n=cA();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,r).next(e=>{let t=cs();return e.forEach((e,r)=>{t=t.insert(e,r.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let r=cA();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,cg()))}populateOverlays(e,t,r){let n=[];return r.forEach(e=>{t.has(e)||n.push(e)}),this.documentOverlayCache.getOverlays(e,n).next(e=>{e.forEach((e,r)=>{t.set(e,r)})})}computeViews(e,t,r,n){let i=cn(),s=cc(),o=co();return t.forEach((e,t)=>{let o=r.get(t.key);n.has(t.key)&&(void 0===o||o.mutation instanceof cW)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),cJ(o.mutation,t,o.mutation.getFieldMask(),sG.now())):s.set(t.key,aj.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var r;return o.set(e,new gx(t,null!==(r=s.get(e))&&void 0!==r?r:null))}),o))}recalculateAndSaveOverlays(e,t){let r=cc(),n=new aO((e,t)=>e-t),i=cg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let s=t.get(e);if(null===s)return;let o=r.get(e)||aj.empty();o=i.applyToLocalView(s,o),r.set(e,o);let a=(n.get(i.batchId)||cg()).add(e);n=n.insert(i.batchId,a)})}).next(()=>{let s=[],o=n.getReverseIterator();for(;o.hasNext();){let n=o.getNext(),a=n.key,A=n.value,l=cl();A.forEach(e=>{if(!i.has(e)){let n=cU(t.get(e),r.get(e));null!==n&&l.set(e,n),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,l))}return os.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,r,n){return lH(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lG(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,n):this.getDocumentsMatchingCollectionQuery(e,t,r,n)}getNextDocuments(e,t,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next(i=>{let s=n-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-i.size):os.resolve(cA()),o=sX,a=i;return s.next(t=>os.forEach(t,(t,r)=>(o<r.largestBatchId&&(o=r.largestBatchId),i.get(t))?os.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)})).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,cg())).next(e=>({batchId:o,changes:ca(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new s$(t)).next(e=>{let t=cs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,r,n){let i=t.collectionGroup,s=cs();return this.indexManager.getCollectionParents(e,i).next(o=>os.forEach(o,o=>{let a=lP(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,r,n).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,n))).next(e=>{i.forEach((t,r)=>{let n=r.getKey();null===e.get(n)&&(e=e.insert(n,AZ.newInvalidDocument(n)))});let r=cs();return e.forEach((e,n)=>{let s=i.get(e);void 0!==s&&cJ(s.mutation,n,aj.empty(),sG.now()),l4(t,n)&&(r=r.insert(e,n))}),r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.serializer=e,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(e,t){return os.resolve(this.bundles.get(t))}saveBundleMetadata(e,t){return this.bundles.set(t.id,hZ(t)),os.resolve()}getNamedQuery(e,t){return os.resolve(this.namedQueries.get(t))}saveNamedQuery(e,t){return this.namedQueries.set(t.name,hX(t)),os.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gJ{constructor(){this.overlays=new aO(s$.comparator),this.overlayByBatchId=new Map}getOverlay(e,t){return os.resolve(this.overlays.get(t))}getOverlays(e,t){let r=cA();return os.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((r,n)=>{this.saveOverlay(e,t,n)}),os.resolve()}removeOverlaysForBatchId(e,t,r){let n=this.overlayByBatchId.get(r);return void 0!==n&&(n.forEach(e=>this.overlays=this.overlays.remove(e)),this.overlayByBatchId.delete(r)),os.resolve()}getOverlaysForCollection(e,t,r){let n=cA(),i=t.length+1,s=new s$(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){let e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>r&&n.set(e.getKey(),e)}return os.resolve(n)}getOverlaysForCollectionGroup(e,t,r,n){let i=new aO((e,t)=>e-t),s=this.overlays.getIterator();for(;s.hasNext();){let e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>r){let t=i.get(e.largestBatchId);null===t&&(t=cA(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=cA(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=n)););return os.resolve(o)}saveOverlay(e,t,r){let n=this.overlays.get(r.key);if(null!==n){let e=this.overlayByBatchId.get(n.largestBatchId).delete(r.key);this.overlayByBatchId.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new c3(t,r));let i=this.overlayByBatchId.get(t);void 0===i&&(i=cg(),this.overlayByBatchId.set(t,i)),this.overlayByBatchId.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.refsByKey=new aJ(gH.compareByKey),this.refsByTarget=new aJ(gH.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(e,t){let r=new gH(e,t);this.refsByKey=this.refsByKey.add(r),this.refsByTarget=this.refsByTarget.add(r)}addReferences(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.removeRef(new gH(e,t))}removeReferences(e,t){e.forEach(e=>this.removeReference(e,t))}removeReferencesForId(e){let t=new s$(new sq([])),r=new gH(t,e),n=new gH(t,e+1),i=[];return this.refsByTarget.forEachInRange([r,n],e=>{this.removeRef(e),i.push(e.key)}),i}removeAllReferences(){this.refsByKey.forEach(e=>this.removeRef(e))}removeRef(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)}referencesForId(e){let t=new s$(new sq([])),r=new gH(t,e),n=new gH(t,e+1),i=cg();return this.refsByTarget.forEachInRange([r,n],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new gH(e,0),r=this.refsByKey.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class gH{constructor(e,t){this.key=e,this.targetOrBatchId=t}static compareByKey(e,t){return s$.comparator(e.key,t.key)||sU(e.targetOrBatchId,t.targetOrBatchId)}static compareByTargetId(e,t){return sU(e.targetOrBatchId,t.targetOrBatchId)||s$.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new aJ(gH.compareByKey)}checkEmpty(e){return os.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,n){let i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new c4(i,t,r,n);for(let t of(this.mutationQueue.push(s),n))this.batchesByDocumentKey=this.batchesByDocumentKey.add(new gH(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return os.resolve(s)}lookupMutationBatch(e,t){return os.resolve(this.findMutationBatch(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,n=this.indexOfBatchId(r),i=n<0?0:n;return os.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return os.resolve(0===this.mutationQueue.length?An:this.nextBatchId-1)}getAllMutationBatches(e){return os.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new gH(t,0),n=new gH(t,Number.POSITIVE_INFINITY),i=[];return this.batchesByDocumentKey.forEachInRange([r,n],e=>{let t=this.findMutationBatch(e.targetOrBatchId);i.push(t)}),os.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new aJ(sU);return t.forEach(e=>{let t=new gH(e,0),n=new gH(e,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([t,n],e=>{r=r.add(e.targetOrBatchId)})}),os.resolve(this.findMutationBatches(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,n=r.length+1,i=r;s$.isDocumentKey(i)||(i=i.child(""));let s=new gH(new s$(i),0),o=new aJ(sU);return this.batchesByDocumentKey.forEachWhile(e=>{let t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(o=o.add(e.targetOrBatchId)),!0)},s),os.resolve(this.findMutationBatches(o))}findMutationBatches(e){let t=[];return e.forEach(e=>{let r=this.findMutationBatch(e);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){sQ(0===this.indexOfExistingBatchId(t.batchId,"removed")),this.mutationQueue.shift();let r=this.batchesByDocumentKey;return os.forEach(t.mutations,n=>{let i=new gH(n.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.batchesByDocumentKey=r})}removeCachedMutationKeys(e){}containsKey(e,t){let r=new gH(t,0),n=this.batchesByDocumentKey.firstAfterOrEqual(r);return os.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,os.resolve()}indexOfExistingBatchId(e,t){return this.indexOfBatchId(e)}indexOfBatchId(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}findMutationBatch(e){let t=this.indexOfBatchId(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(){return new aO(s$.comparator)}class gY{constructor(e){this.sizer=e,this.docs=gj(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,n=this.docs.get(r),i=n?n.size:0,s=this.sizer(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return os.resolve(r?r.document.mutableCopy():AZ.newInvalidDocument(t))}getEntries(e,t){let r=cn();return t.forEach(e=>{let t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():AZ.newInvalidDocument(e))}),os.resolve(r)}getDocumentsMatchingQuery(e,t,r,n){let i=cn(),s=t.path,o=new s$(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){let{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;!(e.path.length>s.length+1||0>=or(oe(o),r))&&(n.has(o.key)||l4(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return os.resolve(i)}getAllFromCollectionGroup(e,t,r,n){sB()}forEachDocumentKey(e,t){return os.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new gq(this)}getSize(e){return os.resolve(this.size)}}function gW(e){return new gY(e)}class gq extends null{constructor(e){super(),this.documentCache=e}applyChanges(e){let t=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?t.push(this.documentCache.addEntry(e,n)):this.documentCache.removeEntry(r)}),os.waitFor(t)}getFromCache(e,t){return this.documentCache.getEntry(e,t)}getAllFromCache(e,t){return this.documentCache.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e){this.persistence=e,this.targets=new ct(e=>lv(e),lb),this.lastRemoteSnapshotVersion=sj.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new gV,this.targetCount=0,this.targetIdGenerator=go.forTargetCache()}forEachTarget(e,t){return this.targets.forEach((e,r)=>t(r)),os.resolve()}getLastRemoteSnapshotVersion(e){return os.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return os.resolve(this.highestSequenceNumber)}allocateTargetId(e){return this.highestTargetId=this.targetIdGenerator.next(),os.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),os.resolve()}saveTargetData(e){this.targets.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.targetIdGenerator=new go(t),this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)}addTargetData(e,t){return this.saveTargetData(t),this.targetCount+=1,os.resolve()}updateTargetData(e,t){return this.saveTargetData(t),os.resolve()}removeTargetData(e,t){return this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,os.resolve()}removeTargets(e,t,r){let n=0,i=[];return this.targets.forEach((s,o)=>{o.sequenceNumber<=t&&null===r.get(o.targetId)&&(this.targets.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),n++)}),os.waitFor(i).next(()=>n)}getTargetCount(e){return os.resolve(this.targetCount)}getTargetData(e,t){let r=this.targets.get(t)||null;return os.resolve(r)}addMatchingKeys(e,t,r){return this.references.addReferences(t,r),os.resolve()}removeMatchingKeys(e,t,r){this.references.removeReferences(t,r);let n=this.persistence.referenceDelegate,i=[];return n&&t.forEach(t=>{i.push(n.markPotentiallyOrphaned(e,t))}),os.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.references.removeReferencesForId(t),os.resolve()}getMatchingKeysForTargetId(e,t){let r=this.references.referencesForId(t);return os.resolve(r)}containsKey(e,t){return os.resolve(this.references.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gz="MemoryPersistence";class g${constructor(e,t){this.mutationQueues={},this.overlays={},this.listenSequence=new oQ(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.targetCache=new gK(this);let r=e=>this.referenceDelegate.documentSize(e);this.indexManager=new d$,this.remoteDocumentCache=gW(r),this.serializer=new hM(t),this.bundleCache=new gP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gJ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.mutationQueues[e.toKey()];return r||(r=new gG(t,this.referenceDelegate),this.mutationQueues[e.toKey()]=r),r}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(e,t,r){sm(gz,"Starting transaction:",e);let n=new gX(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),r(n).next(e=>this.referenceDelegate.onTransactionCommitted(n).next(()=>e)).toPromise().then(e=>(n.raiseOnCommittedEvent(),e))}mutationQueuesContainKey(e,t){return os.or(Object.values(this.mutationQueues).map(r=>()=>r.containsKey(e,t)))}}class gX extends null{constructor(e){super(),this.currentSequenceNumber=e}}class gZ{constructor(e){this.persistence=e,this.localViewReferences=new gV,this._orphanedDocuments=null}static factory(e){return new gZ(e)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw sB()}addReference(e,t,r){return this.localViewReferences.addReference(r,t),this.orphanedDocuments.delete(r.toString()),os.resolve()}removeReference(e,t,r){return this.localViewReferences.removeReference(r,t),this.orphanedDocuments.add(r.toString()),os.resolve()}markPotentiallyOrphaned(e,t){return this.orphanedDocuments.add(t.toString()),os.resolve()}removeTarget(e,t){this.localViewReferences.removeReferencesForId(t.targetId).forEach(e=>this.orphanedDocuments.add(e.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.orphanedDocuments.add(e.toString()))}).next(()=>r.removeTargetData(e,t))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return os.forEach(this.orphanedDocuments,r=>{let n=s$.fromPath(r);return this.isReferenced(e,n).next(e=>{e||t.removeEntry(n,sj.min())})}).next(()=>(this._orphanedDocuments=null,t.apply(e)))}updateLimboDocument(e,t){return this.isReferenced(e,t).next(e=>{e?this.orphanedDocuments.delete(t.toString()):this.orphanedDocuments.add(t.toString())})}documentSize(e){return 0}isReferenced(e,t){return os.or([()=>os.resolve(this.localViewReferences.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.mutationQueuesContainKey(e,t)])}}class g0{constructor(e,t){this.persistence=e,this.orphanedSequenceNumbers=new ct(e=>ok(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=gQ(this,t)}static factory(e,t){return new g0(e,t)}onTransactionStarted(){}onTransactionCommitted(e){return os.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}getSequenceNumberCount(e){let t=this.orphanedDocumentCount(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,e=>{t++}).next(()=>t)}forEachOrphanedDocumentSequenceNumber(e,t){return os.forEach(this.orphanedSequenceNumbers,(r,n)=>this.isPinned(e,r,n).next(e=>e?os.resolve():t(n)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,n=this.persistence.getRemoteDocumentCache(),i=n.newChangeBuffer();return n.forEachDocumentKey(e,n=>this.isPinned(e,n,t).next(e=>{e||(r++,i.removeEntry(n,sj.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),os.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.orphanedSequenceNumbers.set(r,e.currentSequenceNumber),os.resolve()}removeReference(e,t,r){return this.orphanedSequenceNumbers.set(r,e.currentSequenceNumber),os.resolve()}updateLimboDocument(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),os.resolve()}documentSize(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=AF(e.data.value)),t}isPinned(e,t,r){return os.or([()=>this.persistence.mutationQueuesContainKey(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.orphanedSequenceNumbers.get(t);return os.resolve(void 0!==e&&e>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.serializer=e}createOrUpgrade(e,t,r,n){let i=new oA("createOrUpgrade",t);r<1&&n>=1&&(g4(e),g5(e),g7(e),g9(e));let s=os.resolve();return r<3&&n>=3&&(0!==r&&(fe(e),g7(e)),s=s.next(()=>fr(i))),r<4&&n>=4&&(0!==r&&(s=s.next(()=>g3(e,i))),s=s.next(()=>{fn(e)})),r<5&&n>=5&&(s=s.next(()=>this.removeAcknowledgedMutations(i))),r<6&&n>=6&&(s=s.next(()=>(g6(e),this.addDocumentGlobal(i)))),r<7&&n>=7&&(s=s.next(()=>this.ensureSequenceNumbers(i))),r<8&&n>=8&&(s=s.next(()=>this.createCollectionParentIndex(e,i))),r<9&&n>=9&&(s=s.next(()=>{ft(e)})),r<10&&n>=10&&(s=s.next(()=>this.rewriteCanonicalIds(i))),r<11&&n>=11&&(s=s.next(()=>{fi(e),fs(e)})),r<12&&n>=12&&(s=s.next(()=>{fa(e)})),r<13&&n>=13&&(s=s.next(()=>g8(e)).next(()=>this.rewriteRemoteDocumentCache(e,i)).next(()=>e.deleteObjectStore(oT))),r<14&&n>=14&&(s=s.next(()=>this.runOverlayMigration(e,i))),r<15&&n>=15&&(s=s.next(()=>fo(e))),s}addDocumentGlobal(e){let t=0;return e.store(oT).iterate((e,r)=>{t+=d6(r)}).next(()=>{let r={byteSize:t};return e.store(oX).put(oZ,r)})}removeAcknowledgedMutations(e){let t=e.store(oM),r=e.store(oO);return t.loadAll().next(t=>os.forEach(t,t=>{let n=IDBKeyRange.bound([t.userId,An],[t.userId,t.lastAcknowledgedBatchId]);return r.loadAll(oU,n).next(r=>os.forEach(r,r=>{sQ(r.userId===t.userId);let n=hH(this.serializer,r);return d8(e,t.userId,n).next(()=>{})}))}))}ensureSequenceNumbers(e){let t=e.store(o5),r=e.store(oT);return e.store(o7).get(o6).next(e=>{let n=r=>t.put({targetId:0,path:ok(r),sequenceNumber:e.highestListenSequenceNumber}),i=[];return r.iterate((e,r)=>{let s=new sq(e),o=g2(s);i.push(t.get(o).next(e=>e?os.resolve():n(s)))}).next(()=>os.waitFor(i))})}createCollectionParentIndex(e,t){e.createObjectStore(ae,{keyPath:at});let r=t.store(ae),n=new dX,i=e=>{if(n.add(e)){let t=e.lastSegment(),n=e.popLast();return r.put({collectionId:t,parent:ok(n)})}};return t.store(oT).iterate({keysOnly:!0},(e,t)=>i(new sq(e).popLast())).next(()=>t.store(oj).iterate({keysOnly:!0},([e,t,r],n)=>i(o_(t).popLast())))}rewriteCanonicalIds(e){let t=e.store(o0);return t.iterate((e,r)=>{let n=hG(r),i=hj(this.serializer,n);return t.put(i)})}rewriteRemoteDocumentCache(e,t){let r=t.store(oT),n=[];return r.iterate((e,r)=>{let i=t.store(oY),s=fA(r).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:r.readTime||[0,0],unknownDocument:r.unknownDocument,noDocument:r.noDocument,document:r.document,hasCommittedMutations:!!r.hasCommittedMutations};n.push(i.put(o))}).next(()=>os.waitFor(n))}runOverlayMigration(e,t){let r=t.store(oO),n=gR(this.serializer),i=new g$(gZ.factory,this.serializer.remoteSerializer);return r.loadAll().next(e=>{let r=new Map;return e.forEach(e=>{var t;let n=null!==(t=r.get(e.userId))&&void 0!==t?t:cg();hH(this.serializer,e).keys().forEach(e=>n=n.add(e)),r.set(e.userId,n)}),os.forEach(r,(e,r)=>{let s=new sh(r),o=h7.forUser(this.serializer,s),a=i.getIndexManager(s);return new gU(n,d7.forUser(s,this.serializer,a,i.referenceDelegate),o,a).recalculateAndSaveOverlaysForDocumentKeys(new aT(t,oQ.INVALID),e).next()})})}}function g2(e){return[0,ok(e)]}function g4(e){e.createObjectStore(oN)}function g5(e){e.createObjectStore(oM,{keyPath:oL}),e.createObjectStore(oO,{keyPath:ox,autoIncrement:!0}).createIndex(oU,oP,{unique:!0}),e.createObjectStore(oj)}function g3(e,t){return t.store(oO).loadAll().next(r=>{e.deleteObjectStore(oO),e.createObjectStore(oO,{keyPath:ox,autoIncrement:!0}).createIndex(oU,oP,{unique:!0});let n=t.store(oO),i=r.map(e=>n.put(e));return os.waitFor(i)})}function g9(e){e.createObjectStore(oT)}function g8(e){let t=e.createObjectStore(oY,{keyPath:oW});t.createIndex(oq,oK),t.createIndex(oz,o$)}function g6(e){e.createObjectStore(oX)}function g7(e){e.createObjectStore(o5,{keyPath:o3}).createIndex(o9,o8,{unique:!0}),e.createObjectStore(o0,{keyPath:o1}).createIndex(o2,o4,{unique:!0}),e.createObjectStore(o7)}function fe(e){e.deleteObjectStore(o5),e.deleteObjectStore(o0),e.deleteObjectStore(o7)}function ft(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}function fr(e){let t=e.store(o7),r={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:sj.min().toTimestamp(),targetCount:0};return t.put(o6,r)}function fn(e){e.createObjectStore(ar,{keyPath:an})}function fi(e){e.createObjectStore(ai,{keyPath:as})}function fs(e){e.createObjectStore(ao,{keyPath:aa})}function fo(e){e.createObjectStore(aA,{keyPath:al,autoIncrement:!0}).createIndex(ac,au,{unique:!1}),e.createObjectStore(ah,{keyPath:ad}).createIndex(ag,af,{unique:!1}),e.createObjectStore(ap,{keyPath:aE}).createIndex(am,aC,{unique:!1})}function fa(e){let t=e.createObjectStore(ay,{keyPath:aI});t.createIndex(aB,aQ,{unique:!1}),t.createIndex(av,aw,{unique:!1})}function fA(e){return e.document?new s$(sq.fromString(e.document.name).popFirst(5)):e.noDocument?s$.fromSegments(e.noDocument.path):e.unknownDocument?s$.fromSegments(e.unknownDocument.path):sB()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="IndexedDbPersistence",fc=null,fu=5e3,fh=4e3,fd=null,fg=null,ff="firestore_zombie",fp="main";class fE{constructor(e,t,r,n,i,s,o,a,A,l,c=gO){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.queue=i,this.window=s,this.document=o,this.sequenceNumberSyncer=A,this.forceOwningTab=l,this.schemaVersion=c,this.listenSequence=null,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=e=>Promise.resolve(),!fE.isAvailable())throw new sb(sw.UNIMPLEMENTED,fg);this.referenceDelegate=new gv(this,n),this.dbName=t+fp,this.serializer=new hM(a),this.simpleDb=new ol(this.dbName,this.schemaVersion,new g1(this.serializer)),this.targetCache=new ga(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gR(this.serializer),this.bundleCache=new h9,this.window&&this.window.localStorage?this.webStorage=this.window.localStorage:(this.webStorage=null,!1===l&&sC(fl,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.updateClientMetadataAndTryBecomePrimary().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new sb(sw.FAILED_PRECONDITION,fd);return this.attachVisibilityHandler(),this.attachWindowUnloadHook(),this.scheduleClientMetadataAndPrimaryLeaseRefreshes(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.targetCache.getHighestSequenceNumber(e))}).then(e=>{this.listenSequence=new oQ(e,this.sequenceNumberSyncer)}).then(()=>{this._started=!0}).catch(e=>(this.simpleDb&&this.simpleDb.close(),Promise.reject(e)))}setPrimaryStateListener(e){return this.primaryStateListener=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.simpleDb.setVersionChangeListener(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget(async()=>{this.started&&await this.updateClientMetadataAndTryBecomePrimary()}))}updateClientMetadataAndTryBecomePrimary(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>fC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.verifyPrimaryLease(e).next(e=>{e||(this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)))})}).next(()=>this.canActAsPrimary(e)).next(t=>this.isPrimary&&!t?this.releasePrimaryLeaseIfHeld(e).next(()=>!1):!!t&&this.acquireOrExtendPrimaryLease(e).next(()=>!0))).catch(e=>{if(oh(e))return sm(fl,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return sm(fl,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.queue.enqueueRetryable(()=>this.primaryStateListener(e)),this.isPrimary=e})}verifyPrimaryLease(e){return fm(e).get(oF).next(e=>os.resolve(this.isLocalClient(e)))}removeClientMetadata(e){return fC(e).delete(this.clientId)}async maybeGarbageCollectMultiClientState(){if(this.isPrimary&&!this.isWithinAge(this.lastGarbageCollectionTime,fc)){this.lastGarbageCollectionTime=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{let t=aN(e,ar);return t.loadAll().next(e=>{let r=this.filterActiveClients(e,fc),n=e.filter(e=>-1===r.indexOf(e));return os.forEach(n,e=>t.delete(e.clientId)).next(()=>n)})}).catch(()=>[]);if(this.webStorage)for(let t of e)this.webStorage.removeItem(this.zombiedClientLocalStorageKey(t.clientId))}}scheduleClientMetadataAndPrimaryLeaseRefreshes(){this.clientMetadataRefresher=this.queue.enqueueAfterDelay("client_metadata_refresh",fh,()=>this.updateClientMetadataAndTryBecomePrimary().then(()=>this.maybeGarbageCollectMultiClientState()).then(()=>this.scheduleClientMetadataAndPrimaryLeaseRefreshes()))}isLocalClient(e){return!!e&&e.ownerId===this.clientId}canActAsPrimary(e){return this.forceOwningTab?os.resolve(!0):fm(e).get(oF).next(t=>{if(null!==t&&this.isWithinAge(t.leaseTimestampMs,fu)&&!this.isClientZombied(t.ownerId)){if(this.isLocalClient(t)&&this.networkEnabled)return!0;if(!this.isLocalClient(t)){if(!t.allowTabSynchronization)throw new sb(sw.FAILED_PRECONDITION,fd);return!1}}return!!this.networkEnabled&&!!this.inForeground||fC(e).loadAll().next(e=>void 0===this.filterActiveClients(e,fu).find(e=>{if(this.clientId!==e.clientId){let t=!this.networkEnabled&&e.networkEnabled,r=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(t||r&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&sm(fl,`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),await this.simpleDb.runTransaction("shutdown","readwrite",[oN,ar],e=>{let t=new aT(e,oQ.INVALID);return this.releasePrimaryLeaseIfHeld(t).next(()=>this.removeClientMetadata(t))}),this.simpleDb.close(),this.removeClientZombiedEntry()}filterActiveClients(e,t){return e.filter(e=>this.isWithinAge(e.updateTimeMs,t)&&!this.isClientZombied(e.clientId))}getActiveClients(){return this.runTransaction("getActiveClients","readonly",e=>fC(e).loadAll().next(e=>this.filterActiveClients(e,fc).map(e=>e.clientId)))}get started(){return this._started}getMutationQueue(e,t){return d7.forUser(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new d1(e,this.serializer.remoteSerializer.databaseId)}getDocumentOverlayCache(e){return h7.forUser(this.serializer,e)}getBundleCache(){return this.bundleCache}runTransaction(e,t,r){let n;sm(fl,"Starting transaction:",e);let i="readonly"===t?"readonly":"readwrite",s=a_(this.schemaVersion);return this.simpleDb.runTransaction(e,i,s,i=>(n=new aT(i,this.listenSequence?this.listenSequence.next():oQ.INVALID),"readwrite-primary"===t)?this.verifyPrimaryLease(n).next(e=>!!e||this.canActAsPrimary(n)).next(t=>{if(!t)throw sC(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)),new sb(sw.FAILED_PRECONDITION,on);return r(n)}).next(e=>this.acquireOrExtendPrimaryLease(n).next(()=>e)):this.verifyAllowTabSynchronization(n).next(()=>r(n))).then(e=>(n.raiseOnCommittedEvent(),e))}verifyAllowTabSynchronization(e){return fm(e).get(oF).next(e=>{if(null!==e&&this.isWithinAge(e.leaseTimestampMs,fu)&&!this.isClientZombied(e.ownerId)&&!this.isLocalClient(e)&&!this.forceOwningTab&&(!this.allowTabSynchronization||!e.allowTabSynchronization))throw new sb(sw.FAILED_PRECONDITION,fd)})}acquireOrExtendPrimaryLease(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fm(e).put(oF,t)}static isAvailable(){return ol.isAvailable()}releasePrimaryLeaseIfHeld(e){let t=fm(e);return t.get(oF).next(e=>this.isLocalClient(e)?(sm(fl,"Releasing primary lease."),t.delete(oF)):os.resolve())}isWithinAge(e,t){let r=Date.now(),n=r-t,i=r;return!(e<n)&&(!(e>i)||(sC(`Detected an update time that is in the future: ${e} > ${i}`),!1))}attachVisibilityHandler(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=()=>{this.queue.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.updateClientMetadataAndTryBecomePrimary()))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)}detachVisibilityHandler(){this.documentVisibilityHandler&&(this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)}attachWindowUnloadHook(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.windowUnloadHandler=()=>{this.markClientZombied();let e=/(?:Version|Mobile)\/1[456]/;isSafari()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.queue.enterRestrictedMode(!0),this.queue.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.windowUnloadHandler))}detachWindowUnloadHook(){this.windowUnloadHandler&&(this.window.removeEventListener("pagehide",this.windowUnloadHandler),this.windowUnloadHandler=null)}isClientZombied(e){var t;try{let r=(null===(t=this.webStorage)||void 0===t?void 0:t.getItem(this.zombiedClientLocalStorageKey(e)))!==null;return sm(fl,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(e){return sC(fl,"Failed to get zombied client id.",e),!1}}markClientZombied(){if(this.webStorage)try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){sC("Failed to set zombie client id.",e)}}removeClientZombiedEntry(){if(this.webStorage)try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}}zombiedClientLocalStorageKey(e){return`${ff}_${this.persistenceKey}_${e}`}}function fm(e){return aN(e,oN)}function fC(e){return aN(e,ar)}function fy(e,t){let r=e.projectId;return e.isDefaultDatabase||(r+="."+e.database),"firestore/"+t+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(e,t,r,n,i){t=[...t],(e=[...e]).sort(r),t.sort(r);let s=e.length,o=t.length,a=0,A=0;for(;a<o&&A<s;){let s=r(e[A],t[a]);s<0?i(e[A++]):s>0?n(t[a++]):(a++,A++)}for(;a<o;)n(t[a++]);for(;A<s;)i(e[A++])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fB="LocalStore",fQ=null;class fv{constructor(e,t,r,n){this.persistence=e,this.queryEngine=t,this.serializer=n,this.targetDataByTarget=new aO(sU),this.targetIdByTarget=new ct(e=>lv(e),lb),this.collectionGroupReadTime=new Map,this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.bundleCache=e.getBundleCache(),this.initializeUserComponents(r)}initializeUserComponents(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gU(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.targetDataByTarget))}}function fw(e,t,r,n){return new fv(e,t,r,n)}async function fb(e,t){let r=sv(e);return await r.persistence.runTransaction("Handle user change","readonly",e=>{let n;return r.mutationQueue.getAllMutationBatches(e).next(i=>(n=i,r.initializeUserComponents(t),r.mutationQueue.getAllMutationBatches(e))).next(t=>{let i=[],s=[],o=cg();for(let e of n)for(let t of(i.push(e.batchId),e.mutations))o=o.add(t.key);for(let e of t)for(let t of(s.push(e.batchId),e.mutations))o=o.add(t.key);return r.localDocuments.getDocuments(e,o).next(e=>({affectedDocuments:e,removedBatchIds:i,addedBatchIds:s}))})})}function fS(e,t){let r,n;let i=sv(e),s=sG.now(),o=t.reduce((e,t)=>e.add(t.key),cg());return i.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=cn(),A=cg();return i.remoteDocuments.getEntries(e,o).next(e=>{(a=e).forEach((e,t)=>{t.isValidDocument()||(A=A.add(e))})}).next(()=>i.localDocuments.getOverlayedDocuments(e,a)).next(n=>{r=n;let o=[];for(let e of t){let t=cV(e,r.get(e.key).overlayedDocument);null!=t&&o.push(new cW(e.key,t,AX(t.value.mapValue),cO.exists(!0)))}return i.mutationQueue.addMutationBatch(e,s,o,t)}).next(t=>{n=t;let s=t.applyToLocalDocumentSet(r,A);return i.documentOverlayCache.saveOverlays(e,t.batchId,s)})}).then(()=>({batchId:n.batchId,changes:ca(r)}))}function fk(e,t){let r=sv(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let n=t.batch.keys(),i=r.remoteDocuments.newChangeBuffer({trackRemovals:!0});return fH(r,e,t,i).next(()=>i.apply(e)).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,fR(t))).next(()=>r.localDocuments.getDocuments(e,n))})}function fR(e){let t=cg();for(let r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(t=t.add(e.batch.mutations[r].key));return t}function fD(e,t){let r=sv(e);return r.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(sQ(null!==t),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))})}function f_(e){let t=sv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}function fT(e){let t=sv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.targetCache.getLastRemoteSnapshotVersion(e))}function fN(e,t){let r=sv(e),n=t.snapshotVersion,i=r.targetDataByTarget;return r.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{let s=r.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=r.targetDataByTarget;let o=[];t.targetChanges.forEach((s,a)=>{let A=i.get(a);if(!A)return;o.push(r.targetCache.removeMatchingKeys(e,s.removedDocuments,a).next(()=>r.targetCache.addMatchingKeys(e,s.addedDocuments,a)));let l=A.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(aq.EMPTY_BYTE_STRING,sj.min()).withLastLimboFreeSnapshotVersion(sj.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,n)),i=i.insert(a,l),fM(A,l,s)&&o.push(r.targetCache.updateTargetData(e,l))});let a=cn(),A=cg();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(e,n))}),o.push(fF(e,s,t.documentUpdates).next(e=>{a=e.changedDocuments,A=e.existenceChangedKeys})),!n.isEqual(sj.min())){let t=r.targetCache.getLastRemoteSnapshotVersion(e).next(t=>r.targetCache.setTargetsMetadata(e,e.currentSequenceNumber,n));o.push(t)}return os.waitFor(o).next(()=>s.apply(e)).next(()=>r.localDocuments.getLocalViewOfDocuments(e,a,A)).next(()=>a)}).then(e=>(r.targetDataByTarget=i,e))}function fF(e,t,r){let n=cg(),i=cg();return r.forEach(e=>n=n.add(e)),t.getEntries(e,n).next(e=>{let n=cn();return r.forEach((r,s)=>{let o=e.get(r);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(r)),s.isNoDocument()&&s.version.isEqual(sj.min())?(t.removeEntry(r,s.readTime),n=n.insert(r,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),n=n.insert(r,s)):sm(fB,"Ignoring outdated watch update for ",r,". Current version:",o.version," Watch version:",s.version)}),{changedDocuments:n,existenceChangedKeys:i}})}function fM(e,t,r){return!!(0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=fQ)||r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size>0}async function fL(e,t){let r=sv(e);try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>os.forEach(t,t=>os.forEach(t.addedKeys,n=>r.persistence.referenceDelegate.addReference(e,t.targetId,n)).next(()=>os.forEach(t.removedKeys,n=>r.persistence.referenceDelegate.removeReference(e,t.targetId,n)))))}catch(e){if(oh(e))sm(fB,"Failed to update sequence numbers: "+e);else throw e}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=r.targetDataByTarget.get(t),n=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(n);r.targetDataByTarget=r.targetDataByTarget.insert(t,i)}}}function fO(e,t){let r=sv(e);return r.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=An),r.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function fx(e,t){let r=sv(e);return r.persistence.runTransaction("read document","readonly",e=>r.localDocuments.getDocument(e,t))}function fU(e,t){let r=sv(e);return r.persistence.runTransaction("Allocate target","readwrite",e=>{let n;return r.targetCache.getTargetData(e,t).next(i=>i?(n=i,os.resolve(n)):r.targetCache.allocateTargetId(e).next(i=>(n=new hF(t,i,"TargetPurposeListen",e.currentSequenceNumber),r.targetCache.addTargetData(e,n).next(()=>n))))}).then(e=>{let n=r.targetDataByTarget.get(e.targetId);return(null===n||e.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(r.targetDataByTarget=r.targetDataByTarget.insert(e.targetId,e),r.targetIdByTarget.set(t,e.targetId)),e})}function fP(e,t,r){let n=sv(e),i=n.targetIdByTarget.get(r);return void 0!==i?os.resolve(n.targetDataByTarget.get(i)):n.targetCache.getTargetData(t,r)}async function fJ(e,t,r){let n=sv(e),i=n.targetDataByTarget.get(t),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,e=>n.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(oh(e))sm(fB,`Failed to update sequence numbers for target ${t}: ${e}`);else throw e}n.targetDataByTarget=n.targetDataByTarget.remove(t),n.targetIdByTarget.delete(i.target)}function fV(e,t,r){let n=sv(e),i=sj.min(),s=cg();return n.persistence.runTransaction("Execute query","readwrite",e=>fP(n,e,lY(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,n.targetCache.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>n.queryEngine.getDocumentsMatchingQuery(e,t,r?i:sj.min(),r?s:cg())).next(e=>(fK(n,l6(t),e),{documents:e,remoteKeys:s})))}function fH(e,t,r,n){let i=r.batch,s=i.keys(),o=os.resolve();return s.forEach(e=>{o=o.next(()=>n.getEntry(t,e)).next(t=>{let s=r.docVersions.get(e);sQ(null!==s),0>t.version.compareTo(s)&&(i.applyToRemoteDocument(t,r),t.isValidDocument()&&(t.setReadTime(r.commitVersion),n.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}function fG(e,t){let r=sv(e),n=sv(r.mutationQueue);return r.persistence.runTransaction("Lookup mutation documents","readonly",e=>n.lookupMutationKeys(e,t).next(t=>t?r.localDocuments.getDocuments(e,t):os.resolve(null)))}function fj(e,t){sv(sv(e,fv).mutationQueue).removeCachedMutationKeys(t)}function fY(e){return sv(sv(e,fv).persistence).getActiveClients()}function fW(e,t){let r=sv(e),n=sv(r.targetCache),i=r.targetDataByTarget.get(t);return i?Promise.resolve(i.target):r.persistence.runTransaction("Get target data","readonly",e=>n.getTargetDataForTarget(e,t).next(e=>e?e.target:null))}function fq(e,t){let r=sv(e),n=r.collectionGroupReadTime.get(t)||sj.min();return r.persistence.runTransaction("Get new document changes","readonly",e=>r.remoteDocuments.getAllFromCollectionGroup(e,t,s7(n,sX),Number.MAX_SAFE_INTEGER)).then(e=>(fK(r,t,e),e))}function fK(e,t,r){let n=e.collectionGroupReadTime.get(t)||sj.min();r.forEach((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)}),e.collectionGroupReadTime.set(t,n)}function fz(e){return lY(lU(sq.fromString(`__bundle__/docs/${e}`)))}async function f$(e,t,r,n){let i=sv(e),s=cg(),o=cn();for(let e of r){let r=t.toDocumentKey(e.metadata.name);e.document&&(s=s.add(r));let n=t.toMutableDocument(e);n.setReadTime(t.toSnapshotVersion(e.metadata.readTime)),o=o.insert(r,n)}let a=i.remoteDocuments.newChangeBuffer({trackRemovals:!0}),A=await fU(i,fz(n));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>fF(e,a,o).next(t=>(a.apply(e),t)).next(t=>i.targetCache.removeMatchingKeysForTargetId(e,A.targetId).next(()=>i.targetCache.addMatchingKeys(e,s,A.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(e,t.changedDocuments,t.existenceChangedKeys)).next(()=>t.changedDocuments)))}function fX(e,t){let r=sv(e),n=uN(t.createTime);return r.persistence.runTransaction("hasNewerBundle","readonly",e=>r.bundleCache.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(n)>=0)}function fZ(e,t){let r=sv(e);return r.persistence.runTransaction("Save bundle","readwrite",e=>r.bundleCache.saveBundleMetadata(e,t))}async function f0(e,t,r=cg()){let n=await fU(e,lY(h$(t.bundledQuery))),i=sv(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{let s=uN(t.readTime);if(n.snapshotVersion.compareTo(s)>=0)return i.bundleCache.saveNamedQuery(e,t);let o=n.withResumeToken(aq.EMPTY_BYTE_STRING,s);return i.targetDataByTarget=i.targetDataByTarget.insert(o.targetId,o),i.targetCache.updateTargetData(e,o).next(()=>i.targetCache.removeMatchingKeysForTargetId(e,n.targetId)).next(()=>i.targetCache.addMatchingKeys(e,r,n.targetId)).next(()=>i.bundleCache.saveNamedQuery(e,t))})}function f1(e,t){sv(e).queryEngine.indexAutoCreationEnabled=t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f4=100;function f5(){return isSafari()?8:ol.getAndroidVersion(getUA())>0?6:4}class f3{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=f4,this.relativeIndexReadCostPerDocument=f5()}initialize(e,t){this.localDocumentsView=e,this.indexManager=t,this.initialized=!0}getDocumentsMatchingQuery(e,t,r,n){let i={result:null};return this.performQueryUsingIndex(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.performQueryUsingRemoteKeys(e,t,n,r).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let r=new f2;return this.executeFullCollectionScan(e,t,r).next(n=>{if(i.result=n,this.indexAutoCreationEnabled)return this.createCacheIndexes(e,t,r,n.size)})}).next(()=>i.result)}createCacheIndexes(e,t,r,n){return r.documentReadCount<this.indexAutoCreationMinCollectionSize?(sE()<=LogLevel.DEBUG&&sm("QueryEngine","SDK will not create cache indexes for query:",l2(t),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),os.resolve()):(sE()<=LogLevel.DEBUG&&sm("QueryEngine","Query:",l2(t),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.relativeIndexReadCostPerDocument*n)?(sE()<=LogLevel.DEBUG&&sm("QueryEngine","The SDK decides to create cache indexes for query:",l2(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lY(t))):os.resolve()}performQueryUsingIndex(e,t){if(lJ(t))return os.resolve(null);let r=lY(t);return this.indexManager.getIndexType(e,r).next(n=>0===n?null:(null!==t.limit&&1===n&&(r=lY(t=l$(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,r).next(n=>{let i=cg(...n);return this.localDocumentsView.getDocuments(e,i).next(n=>this.indexManager.getMinOffset(e,r).next(r=>{let s=this.applyQuery(t,n);return this.needsRefill(t,s,i,r.readTime)?this.performQueryUsingIndex(e,l$(t,null,"F")):this.appendRemainingResults(e,s,t,r)}))})))}performQueryUsingRemoteKeys(e,t,r,n){return lJ(t)||n.isEqual(sj.min())?os.resolve(null):this.localDocumentsView.getDocuments(e,r).next(i=>{let s=this.applyQuery(t,i);return this.needsRefill(t,s,r,n)?os.resolve(null):(sE()<=LogLevel.DEBUG&&sm("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),l2(t)),this.appendRemainingResults(e,s,t,s7(n,sX)).next(e=>e))})}applyQuery(e,t){let r=new aJ(l7(e));return t.forEach((t,n)=>{l4(e,n)&&(r=r.add(n))}),r}needsRefill(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(n)>0)}executeFullCollectionScan(e,t,r){return sE()<=LogLevel.DEBUG&&sm("QueryEngine","Using full collection scan to execute query:",l2(t)),this.localDocumentsView.getDocumentsMatchingQuery(e,t,ot.min(),r)}appendRemainingResults(e,t,r,n){return this.localDocumentsView.getDocumentsMatchingQuery(e,r,n).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f9="firestore_clients";function f8(e,t){return`${f9}_${e}_${t}`}let f6="firestore_mutations";function f7(e,t,r){let n=`${f6}_${e}_${r}`;return t.isAuthenticated()&&(n+=`_${t.uid}`),n}let pe="firestore_targets";function pt(e,t){return`${pe}_${e}_${t}`}let pr="firestore_online_state";function pn(e){return`${pr}_${e}`}let pi="firestore_bundle_loaded_v2";function ps(e){return`${pi}_${e}`}let po="firestore_sequence_number";function pa(e){return`${po}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pA="SharedClientState";class pl{constructor(e,t,r,n){this.user=e,this.batchId=t,this.state=r,this.error=n}static fromWebStorageEntry(e,t,r){let n;let i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return(s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(n=new sb(i.error.code,i.error.message)),s)?new pl(e,t,i.state,n):(sC(pA,`Failed to parse mutation state for ID '${t}': ${r}`),null)}toWebStorageJSON(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pc{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static fromWebStorageEntry(e,t){let r;let n=JSON.parse(t),i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return(i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(r=new sb(n.error.code,n.error.message)),i)?new pc(e,n.state,r):(sC(pA,`Failed to parse target state for ID '${e}': ${t}`),null)}toWebStorageJSON(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pu{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static fromWebStorageEntry(e,t){let r=JSON.parse(t),n="object"==typeof r&&r.activeTargetIds instanceof Array,i=cp();for(let e=0;n&&e<r.activeTargetIds.length;++e)n=Ao(r.activeTargetIds[e]),i=i.add(r.activeTargetIds[e]);return n?new pu(e,i):(sC(pA,`Failed to parse client data for instance '${e}': ${t}`),null)}}class ph{constructor(e,t){this.clientId=e,this.onlineState=t}static fromWebStorageEntry(e){let t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ph(t.clientId,t.onlineState):(sC(pA,`Failed to parse online state: ${e}`),null)}}class pd{constructor(){this.activeTargetIds=cp()}addQueryTarget(e){this.activeTargetIds=this.activeTargetIds.add(e)}removeQueryTarget(e){this.activeTargetIds=this.activeTargetIds.delete(e)}toWebStorageJSON(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class pg{constructor(e,t,r,n,i){this.window=e,this.queue=t,this.persistenceKey=r,this.localClientId=n,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.storageListener=this.handleWebStorageEvent.bind(this),this.activeClients=new aO(sU),this.started=!1,this.earlyEvents=[];let s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.localClientStorageKey=f8(this.persistenceKey,this.localClientId),this.sequenceNumberKey=pa(this.persistenceKey),this.activeClients=this.activeClients.insert(this.localClientId,new pd),this.clientStateKeyRe=RegExp(`^${f9}_${s}_([^_]*)$`),this.mutationBatchKeyRe=RegExp(`^${f6}_${s}_(\\d+)(?:_(.*))?$`),this.queryTargetKeyRe=RegExp(`^${pe}_${s}_(\\d+)$`),this.onlineStateKey=pn(this.persistenceKey),this.bundleLoadedKey=ps(this.persistenceKey),this.window.addEventListener("storage",this.storageListener)}static isAvailable(e){return!!(e&&e.localStorage)}async start(){for(let e of(await this.syncEngine.getActiveClients())){if(e===this.localClientId)continue;let t=this.getItem(f8(this.persistenceKey,e));if(t){let r=pu.fromWebStorageEntry(e,t);r&&(this.activeClients=this.activeClients.insert(r.clientId,r))}}this.persistClientState();let e=this.storage.getItem(this.onlineStateKey);if(e){let t=this.fromWebStorageOnlineState(e);t&&this.handleOnlineStateEvent(t)}for(let e of this.earlyEvents)this.handleWebStorageEvent(e);this.earlyEvents=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))}getAllActiveQueryTargets(){return this.extractActiveQueryTargets(this.activeClients)}isActiveQueryTarget(e){let t=!1;return this.activeClients.forEach((r,n)=>{n.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.persistMutationState(e,"pending")}updateMutationState(e,t,r){this.persistMutationState(e,t,r),this.removeMutationState(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(pt(this.persistenceKey,e));if(r){let n=pc.fromWebStorageEntry(e,r);n&&(t=n.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t}removeLocalQueryTarget(e){this.localClientState.removeQueryTarget(e),this.persistClientState()}isLocalQueryTarget(e){return this.localClientState.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pt(this.persistenceKey,e))}updateQueryState(e,t,r){this.persistQueryTargetState(e,t,r)}handleUserChange(e,t,r){t.forEach(e=>{this.removeMutationState(e)}),this.currentUser=e,r.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.persistOnlineState(e)}notifyBundleLoaded(e){this.persistBundleLoadedState(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return sm(pA,"READ",e,t),t}setItem(e,t){sm(pA,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){sm(pA,"REMOVE",e),this.storage.removeItem(e)}handleWebStorageEvent(e){let t=e;if(t.storageArea===this.storage){if(sm(pA,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey){sC("Received WebStorage notification for local change. Another client might have garbage-collected our state");return}this.queue.enqueueRetryable(async()=>{if(!this.started){this.earlyEvents.push(t);return}if(null!==t.key){if(this.clientStateKeyRe.test(t.key)){if(null!=t.newValue){let e=this.fromWebStorageClientState(t.key,t.newValue);if(e)return this.handleClientStateEvent(e.clientId,e)}else{let e=this.fromWebStorageClientStateKey(t.key);return this.handleClientStateEvent(e,null)}}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue){let e=this.fromWebStorageMutationMetadata(t.key,t.newValue);if(e)return this.handleMutationBatchEvent(e)}}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue){let e=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue);if(e)return this.handleQueryTargetEvent(e)}}else if(t.key===this.onlineStateKey){if(null!==t.newValue){let e=this.fromWebStorageOnlineState(t.newValue);if(e)return this.handleOnlineStateEvent(e)}}else if(t.key===this.sequenceNumberKey){let e=pf(t.newValue);e!==oQ.INVALID&&this.sequenceNumberHandler(e)}else if(t.key===this.bundleLoadedKey){let e=this.fromWebStoreBundleLoadedState(t.newValue);await Promise.all(e.map(e=>this.syncEngine.synchronizeWithChangedDocuments(e)))}}})}}get localClientState(){return this.activeClients.get(this.localClientId)}persistClientState(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())}persistMutationState(e,t,r){let n=new pl(this.currentUser,e,t,r),i=f7(this.persistenceKey,this.currentUser,e);this.setItem(i,n.toWebStorageJSON())}removeMutationState(e){let t=f7(this.persistenceKey,this.currentUser,e);this.removeItem(t)}persistOnlineState(e){let t={clientId:this.localClientId,onlineState:e};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))}persistQueryTargetState(e,t,r){let n=pt(this.persistenceKey,e),i=new pc(e,t,r);this.setItem(n,i.toWebStorageJSON())}persistBundleLoadedState(e){let t=JSON.stringify(Array.from(e));this.setItem(this.bundleLoadedKey,t)}fromWebStorageClientStateKey(e){let t=this.clientStateKeyRe.exec(e);return t?t[1]:null}fromWebStorageClientState(e,t){let r=this.fromWebStorageClientStateKey(e);return pu.fromWebStorageEntry(r,t)}fromWebStorageMutationMetadata(e,t){let r=this.mutationBatchKeyRe.exec(e),n=Number(r[1]),i=void 0!==r[2]?r[2]:null;return pl.fromWebStorageEntry(new sh(i),n,t)}fromWebStorageQueryTargetMetadata(e,t){let r=Number(this.queryTargetKeyRe.exec(e)[1]);return pc.fromWebStorageEntry(r,t)}fromWebStorageOnlineState(e){return ph.fromWebStorageEntry(e)}fromWebStoreBundleLoadedState(e){return JSON.parse(e)}async handleMutationBatchEvent(e){if(e.user.uid!==this.currentUser.uid){sm(pA,`Ignoring mutation for non-active user ${e.user.uid}`);return}return this.syncEngine.applyBatchState(e.batchId,e.state,e.error)}handleQueryTargetEvent(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)}handleClientStateEvent(e,t){let r=t?this.activeClients.insert(e,t):this.activeClients.remove(e),n=this.extractActiveQueryTargets(this.activeClients),i=this.extractActiveQueryTargets(r),s=[],o=[];return i.forEach(e=>{n.has(e)||s.push(e)}),n.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.applyActiveTargetsChange(s,o).then(()=>{this.activeClients=r})}handleOnlineStateEvent(e){this.activeClients.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}extractActiveQueryTargets(e){let t=cp();return e.forEach((e,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}function pf(e){let t=oQ.INVALID;if(null!=e)try{let r=JSON.parse(e);sQ("number"==typeof r),t=r}catch(e){sC(pA,"Failed to read sequence number from WebStorage",e)}return t}class pp{constructor(){this.localState=new pd,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"}updateQueryState(e,t,r){this.queryState[e]=t}removeLocalQueryTarget(e){this.localState.removeQueryTarget(e)}isLocalQueryTarget(e){return this.localState.activeTargetIds.has(e)}clearQueryState(e){delete this.queryState[e]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(e){return this.localState.activeTargetIds.has(e)}start(){return this.localState=new pd,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{addCallback(e){}shutdown(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}onOpen(e){this.wrappedOnOpen=e}onClose(e){this.wrappedOnClose=e}onMessage(e){this.wrappedOnMessage=e}close(){this.closeFn()}send(e){this.sendFn(e)}callOnOpen(){this.wrappedOnOpen()}callOnClose(e){this.wrappedOnClose(e)}callOnMessage(e){this.wrappedOnMessage(e)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pC=null;function py(){return 268435456+Math.round(2147483648*Math.random())}function pI(){return null===pC?pC=py():pC++,"0x"+pC.toString(16)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(e){return new Promise((t,r)=>{e((e,n)=>{e?r(e):t(n)})})}let pQ="GrpcConnection",pv=null;function pw(e,t,r,n){sQ(null===t||"OAuth"===t.type);let i=new grpc.Metadata;return t&&t.headers.forEach((e,t)=>i.set(t,e)),r&&r.headers.forEach((e,t)=>i.set(t,e)),n&&i.set("X-Firebase-GMPID",n),i.set("X-Goog-Api-Client",pv),i.set("Google-Cloud-Resource-Prefix",e),i.set("x-goog-request-params",e),i}class pb{constructor(e,t){this.databaseInfo=t,this.cachedStub=null,this.firestore=e.google.firestore.v1,this.databasePath=`projects/${t.databaseId.projectId}/databases/${t.databaseId.database}`}get shouldResourcePathBeIncludedInRequest(){return!0}ensureActiveStub(){if(!this.cachedStub){sm(pQ,"Creating Firestore stub.");let e=this.databaseInfo.ssl?grpc.credentials.createSsl():grpc.credentials.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,e)}return this.cachedStub}invokeRPC(e,t,r,n,i){let s=pI(),o=this.ensureActiveStub(),a=pw(this.databasePath,n,i,this.databaseInfo.appId),A=Object.assign({database:this.databasePath},r);return pB(t=>(sm(pQ,`RPC '${e}' ${s} invoked with request:`,r),o[e](A,a,(r,n)=>{r?(sm(pQ,`RPC '${e}' ${s} failed with error:`,r),t(new sb(c7(r.code),r.message))):(sm(pQ,`RPC '${e}' ${s} completed with response:`,n),t(void 0,n))})))}invokeStreamingRPC(e,t,r,n,i,s){let o=pI(),a=[],A=new sS;sm(pQ,`RPC '${e}' ${o} invoked (streaming) with request:`,r);let l=this.ensureActiveStub(),c=pw(this.databasePath,n,i,this.databaseInfo.appId),u=Object.assign(Object.assign({},r),{database:this.databasePath}),h=l[e](u,c),d=!1;return h.on("data",t=>{sm(pQ,`RPC ${e} ${o} received result:`,t),a.push(t),void 0!==s&&a.length===s&&(d=!0,A.resolve(a))}),h.on("end",()=>{sm(pQ,`RPC '${e}' ${o} completed.`),d||(d=!0,A.resolve(a))}),h.on("error",t=>{sm(pQ,`RPC '${e}' ${o} failed with error:`,t);let r=c7(t.code);A.reject(new sb(r,t.message))}),A.promise}openStream(e,t,r){let n=pI(),i=this.ensureActiveStub(),s=pw(this.databasePath,t,r,this.databaseInfo.appId),o=i[e](s),a=!1,A=e=>{a||(a=!0,l.callOnClose(e),o.end())},l=new pm({sendFn:t=>{if(a)sm(pQ,`RPC '${e}' stream ${n} not sending because gRPC stream is closed:`,t);else{sm(pQ,`RPC '${e}' stream ${n} sending:`,t);try{o.write(t)}catch(e){throw sC("Failure sending:",t),sC("Error:",e),e}}},closeFn:()=>{sm(pQ,`RPC '${e}' stream ${n} closed locally via close().`),A()}});return o.on("data",t=>{a||(sm(pQ,`RPC '${e}' stream ${n} received:`,t),l.callOnMessage(t))}),o.on("end",()=>{sm(pQ,`RPC '${e}' stream ${n} ended.`),A()}),o.on("error",t=>{a||(sy(pQ,`RPC '${e}' stream ${n} error. Code:`,t.code,"Message:",t.message),A(new sb(c7(t.code),t.message)))}),sm(pQ,`Opening RPC '${e}' stream ${n} to ${this.databaseInfo.host}`),setTimeout(()=>{l.callOnOpen()},0),l}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}}let pS={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}};var pk={nested:pS},pR=Object.freeze({__proto__:null,nested:pS,default:pk});/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pD={longs:String,enums:String,defaults:!0,oneofs:!1};function p_(){let e=protoLoader.fromJSON(pR,pD);return grpc.loadPackageDefinition(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(e){return new pb(p_(),e)}function pN(){return new pE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(){return"YES"===process.env.USE_MOCK_PERSISTENCE?window:null}function pM(){return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(e){return new uv(e,!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pO="ExponentialBackoff",px=1e3,pU=1.5,pP=6e4;class pJ{constructor(e,t,r=px,n=pU,i=pP){this.queue=e,this.timerId=t,this.initialDelayMs=r,this.backoffFactor=n,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(e){this.cancel();let t=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),n=Math.max(0,t-r);n>0&&sm(pO,`Backing off for ${n} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,n,()=>(this.lastAttemptTime=Date.now(),e())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){null!==this.timerPromise&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}}class pV extends null{constructor(e,t,r,n,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,n,s),this.serializer=i}startRpc(e,t){return this.connection.openStream("Listen",e,t)}onMessage(e){this.backoff.reset();let t=uz(this.serializer,e),r=uX(e);return this.listener.onWatchChange(t,r)}watch(e){let t={};t.database=uJ(this.serializer),t.addTarget=hs(this.serializer,e);let r=hn(this.serializer,e);r&&(t.labels=r),this.sendRequest(t)}unwatch(e){let t={};t.database=uJ(this.serializer),t.removeTarget=e,this.sendRequest(t)}}class pH extends null{constructor(e,t,r,n,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,n,s),this.serializer=i,this.handshakeComplete_=!1}get handshakeComplete(){return this.handshakeComplete_}start(){this.handshakeComplete_=!1,this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete_&&this.writeMutations([])}startRpc(e,t){return this.connection.openStream("Write",e,t)}onMessage(e){if(sQ(!!e.streamToken),this.lastStreamToken=e.streamToken,!this.handshakeComplete_)return sQ(!e.writeResults||0===e.writeResults.length),this.handshakeComplete_=!0,this.listener.onHandshakeComplete();{this.backoff.reset();let t=u5(e.writeResults,e.commitTime),r=uN(e.commitTime);return this.listener.onMutationResult(r,t)}}writeHandshake(){let e={};e.database=uJ(this.serializer),this.sendRequest(e)}writeMutations(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>uZ(this.serializer,e))};this.sendRequest(t)}}class pG extends null{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new sb(sw.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC(e,t,r,n){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.invokeRPC(e,uM(t,r),n,i,s)).catch(e=>{if("FirebaseError"===e.name)throw e.code===sw.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e;throw new sb(sw.UNKNOWN,e.toString())})}invokeStreamingRPC(e,t,r,n,i){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.invokeStreamingRPC(e,uM(t,r),n,s,o,i)).catch(e=>{if("FirebaseError"===e.name)throw e.code===sw.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e;throw new sb(sw.UNKNOWN,e.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}}function pj(e,t,r,n){return new pG(e,t,r,n)}async function pY(e,t){let r=sv(e),n={writes:t.map(e=>uZ(r.serializer,e))};await r.invokeRPC("Commit",r.serializer.databaseId,sq.emptyPath(),n)}async function pW(e,t){let r=sv(e),n={documents:t.map(e=>uO(r.serializer,e))},i=await r.invokeStreamingRPC("BatchGetDocuments",r.serializer.databaseId,sq.emptyPath(),n,t.length),s=new Map;i.forEach(e=>{let t=uK(r.serializer,e);s.set(t.key.toString(),t)});let o=[];return t.forEach(e=>{let t=s.get(e.toString());sQ(!!t),o.push(t)}),o}async function pq(e,t,r){var n;let i=sv(e),{request:s,aliasMap:o,parent:a}=he(i.serializer,lW(t),r);i.connection.shouldResourcePathBeIncludedInRequest||delete s.parent;let A=(await i.invokeStreamingRPC("RunAggregationQuery",i.serializer.databaseId,a,s,1)).filter(e=>!!e.result);sQ(1===A.length);let l=null===(n=A[0].result)||void 0===n?void 0:n.aggregateFields;return Object.keys(l).reduce((e,t)=>(e[o[t]]=l[t],e),{})}function pK(e,t,r){let n=sv(e);return n.verifyInitialized(),new pH(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}function pz(e,t,r){let n=sv(e);return n.verifyInitialized(),new pV(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p$="OnlineStateTracker",pX=1,pZ=null;class p0{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){0===this.watchStreamFailures&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",pZ,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${pZ/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(e){"Online"===this.state?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=pX&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${pX} times. Most recent error: ${e.toString()}`),this.setAndBroadcast("Offline")))}set(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,"Online"===e&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)}setAndBroadcast(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}logClientOfflineWarningIfNecessary(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(sC(t),this.shouldWarnClientIsOffline=!1):sm(p$,t)}clearOnlineStateTimer(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p1="RemoteStore",p2=10;class p4{constructor(e,t,r,n,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=i,this.connectivityMonitor.addCallback(e=>{r.enqueueAndForget(async()=>{Ei(this)&&(sm(p1,"Restarting streams for network reachability change."),await EQ(this))})}),this.onlineStateTracker=new p0(r,n)}}function p5(e,t,r,n,i){return new p4(e,t,r,n,i)}async function p3(e){if(Ei(e))for(let t of e.onNetworkStatusChange)await t(!0)}async function p9(e){for(let t of e.onNetworkStatusChange)await t(!1)}async function p8(e){let t=sv(e);sm(p1,"RemoteStore shutting down."),t.offlineCauses.add(5),await p9(t),t.connectivityMonitor.shutdown(),t.onlineStateTracker.set("Unknown")}function p6(e,t){let r=sv(e);!r.listenTargets.has(t.targetId)&&(r.listenTargets.set(t.targetId,t),En(r)?Er(r):Eb(r).isOpen()&&Ee(r,t))}function p7(e,t){let r=sv(e),n=Eb(r);r.listenTargets.delete(t),n.isOpen()&&Et(r,t),0===r.listenTargets.size&&(n.isOpen()?n.markIdle():Ei(r)&&r.onlineStateTracker.set("Unknown"))}function Ee(e,t){if(e.watchChangeAggregator.recordPendingTargetRequest(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(sj.min())>0){let r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Eb(e).watch(t)}function Et(e,t){e.watchChangeAggregator.recordPendingTargetRequest(t),Eb(e).unwatch(t)}function Er(e){e.watchChangeAggregator=new uE({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),getTargetDataForTarget:t=>e.listenTargets.get(t)||null,getDatabaseId:()=>e.datastore.serializer.databaseId}),Eb(e).start(),e.onlineStateTracker.handleWatchStreamStart()}function En(e){return Ei(e)&&!Eb(e).isStarted()&&e.listenTargets.size>0}function Ei(e){return 0===sv(e).offlineCauses.size}function Es(e){e.watchChangeAggregator=void 0}async function Eo(e){e.listenTargets.forEach((t,r)=>{Ee(e,t)})}async function Ea(e,t){Es(e),En(e)?(e.onlineStateTracker.handleWatchStreamFailure(t),Er(e)):e.onlineStateTracker.set("Unknown")}async function EA(e,t,r){if(e.onlineStateTracker.set("Online"),t instanceof ug&&2===t.state&&t.cause){try{await Eh(e,t)}catch(r){sm(p1,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await El(e,r)}return}if(t instanceof uh?e.watchChangeAggregator.handleDocumentChange(t):t instanceof ud?e.watchChangeAggregator.handleExistenceFilter(t):e.watchChangeAggregator.handleTargetChange(t),!r.isEqual(sj.min()))try{let t=await fT(e.localStore);r.compareTo(t)>=0&&await Eu(e,r)}catch(t){sm(p1,"Failed to raise snapshot:",t),await El(e,t)}}async function El(e,t,r){if(oh(t))e.offlineCauses.add(1),await p9(e),e.onlineStateTracker.set("Offline"),r||(r=()=>fT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{sm(p1,"Retrying IndexedDB access"),await r(),e.offlineCauses.delete(1),await p3(e)});else throw t}function Ec(e,t){return t().catch(r=>El(e,r,t))}function Eu(e,t){let r=e.watchChangeAggregator.createRemoteEvent(t);return r.targetChanges.forEach((r,n)=>{if(r.resumeToken.approximateByteSize()>0){let i=e.listenTargets.get(n);i&&e.listenTargets.set(n,i.withResumeToken(r.resumeToken,t))}}),r.targetMismatches.forEach((t,r)=>{let n=e.listenTargets.get(t);n&&(e.listenTargets.set(t,n.withResumeToken(aq.EMPTY_BYTE_STRING,n.snapshotVersion)),Et(e,t),Ee(e,new hF(n.target,t,r,n.sequenceNumber)))}),e.remoteSyncer.applyRemoteEvent(r)}async function Eh(e,t){let r=t.cause;for(let n of t.targetIds)e.listenTargets.has(n)&&(await e.remoteSyncer.rejectListen(n,r),e.listenTargets.delete(n),e.watchChangeAggregator.removeTarget(n))}async function Ed(e){let t=sv(e),r=ES(t),n=t.writePipeline.length>0?t.writePipeline[t.writePipeline.length-1].batchId:An;for(;Eg(t);)try{let e=await fO(t.localStore,n);if(null===e){0===t.writePipeline.length&&r.markIdle();break}n=e.batchId,Ef(t,e)}catch(e){await El(t,e)}Ep(t)&&EE(t)}function Eg(e){return Ei(e)&&e.writePipeline.length<p2}function Ef(e,t){e.writePipeline.push(t);let r=ES(e);r.isOpen()&&r.handshakeComplete&&r.writeMutations(t.mutations)}function Ep(e){return Ei(e)&&!ES(e).isStarted()&&e.writePipeline.length>0}function EE(e){ES(e).start()}async function Em(e){ES(e).writeHandshake()}async function EC(e){let t=ES(e);for(let r of e.writePipeline)t.writeMutations(r.mutations)}async function Ey(e,t,r){let n=e.writePipeline.shift(),i=c5.from(n,t,r);await Ec(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Ed(e)}async function EI(e,t){t&&ES(e).handshakeComplete&&await EB(e,t),Ep(e)&&EE(e)}async function EB(e,t){if(c6(t.code)){let r=e.writePipeline.shift();ES(e).inhibitBackoff(),await Ec(e,()=>e.remoteSyncer.rejectFailedWrite(r.batchId,t)),await Ed(e)}}async function EQ(e){let t=sv(e);t.offlineCauses.add(4),await p9(t),t.onlineStateTracker.set("Unknown"),t.offlineCauses.delete(4),await p3(t)}async function Ev(e,t){let r=sv(e);r.asyncQueue.verifyOperationInProgress(),sm(p1,"RemoteStore received new credentials");let n=Ei(r);r.offlineCauses.add(3),await p9(r),n&&r.onlineStateTracker.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.offlineCauses.delete(3),await p3(r)}async function Ew(e,t){let r=sv(e);t?(r.offlineCauses.delete(2),await p3(r)):t||(r.offlineCauses.add(2),await p9(r),r.onlineStateTracker.set("Unknown"))}function Eb(e){return e.watchStream||(e.watchStream=pz(e.datastore,e.asyncQueue,{onOpen:Eo.bind(null,e),onClose:Ea.bind(null,e),onWatchChange:EA.bind(null,e)}),e.onNetworkStatusChange.push(async t=>{t?(e.watchStream.inhibitBackoff(),En(e)?Er(e):e.onlineStateTracker.set("Unknown")):(await e.watchStream.stop(),Es(e))})),e.watchStream}function ES(e){return e.writeStream||(e.writeStream=pK(e.datastore,e.asyncQueue,{onOpen:Em.bind(null,e),onClose:EI.bind(null,e),onHandshakeComplete:EC.bind(null,e),onMutationResult:Ey.bind(null,e)}),e.onNetworkStatusChange.push(async t=>{t?(e.writeStream.inhibitBackoff(),await Ed(e)):(await e.writeStream.stop(),e.writePipeline.length>0&&(sm(p1,`Stopping write stream with ${e.writePipeline.length} pending writes`),e.writePipeline=[]))})),e.writeStream}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ek="AsyncQueue";class ER{constructor(e,t,r,n,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=n,this.removalCallback=i,this.deferred=new sS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,n,i){let s=new ER(e,t,Date.now()+r,n,i);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sb(sw.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ED(e,t){if(sC(Ek,`${t}: ${e}`),oh(e))return new sb(sw.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e){e?this.comparator=(t,r)=>e(t,r)||s$.comparator(t.key,r.key):this.comparator=(e,t)=>s$.comparator(e.key,t.key),this.keyedMap=cs(),this.sortedSet=new aO(this.comparator)}static emptySet(e){return new E_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof E_)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=r.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){let e=[];return(this.forEach(t=>{e.push(t.toString())}),0===e.length)?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let r=new E_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.changeMap=new aO(s$.comparator)}track(e){let t=e.doc.key,r=this.changeMap.get(t);if(!r){this.changeMap=this.changeMap.insert(t,e);return}0!==e.type&&3===r.type?this.changeMap=this.changeMap.insert(t,e):3===e.type&&1!==r.type?this.changeMap=this.changeMap.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.changeMap=this.changeMap.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.changeMap=this.changeMap.remove(t):1===e.type&&2===r.type?this.changeMap=this.changeMap.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):sB()}getChanges(){let e=[];return this.changeMap.inorderTraversal((t,r)=>{e.push(r)}),e}}class EN{constructor(e,t,r,n,i,s,o,a,A){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=A}static fromInitialDocuments(e,t,r,n,i){let s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new EN(e,t,E_.emptySet(t),s,r,n,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(this.fromCache!==e.fromCache||this.hasCachedResults!==e.hasCachedResults||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!l0(this.query,e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==r[e].type||!t[e].doc.isEqual(r[e].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.viewSnap=void 0,this.listeners=[]}}function EM(){return new EL}class EL{constructor(){this.queries=new ct(e=>l1(e),l0),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}}async function EO(e,t){let r=sv(e),n=t.query,i=!1,s=r.queries.get(n);if(s||(i=!0,s=new EF),i)try{s.viewSnap=await r.onListen(n)}catch(r){let e=ED(r,`Initialization of query '${l2(t.query)}' failed`);t.onError(e);return}r.queries.set(n,s),s.listeners.push(t),t.applyOnlineStateChange(r.onlineState),s.viewSnap&&t.onViewSnapshot(s.viewSnap)&&EV(r)}async function Ex(e,t){let r=sv(e),n=t.query,i=!1,s=r.queries.get(n);if(s){let e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return r.queries.delete(n),r.onUnlisten(n)}function EU(e,t){let r=sv(e),n=!1;for(let e of t){let t=e.query,i=r.queries.get(t);if(i){for(let t of i.listeners)t.onViewSnapshot(e)&&(n=!0);i.viewSnap=e}}n&&EV(r)}function EP(e,t,r){let n=sv(e),i=n.queries.get(t);if(i)for(let e of i.listeners)e.onError(r);n.queries.delete(t)}function EJ(e,t){let r=sv(e);r.onlineState=t;let n=!1;r.queries.forEach((e,r)=>{for(let e of r.listeners)e.applyOnlineStateChange(t)&&(n=!0)}),n&&EV(r)}function EV(e){e.snapshotsInSyncListeners.forEach(e=>{e.next()})}class EH{constructor(e,t,r){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=r||{}}onViewSnapshot(e){if(!this.options.includeMetadataChanges){let t=[];for(let r of e.docChanges)3!==r.type&&t.push(r);e=new EN(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),t=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),t=!0),this.snap=e,t}onError(e){this.queryObserver.error(e)}applyOnlineStateChange(e){this.onlineState=e;let t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t}shouldRaiseInitialEvent(e,t){if(!e.fromCache)return!0;let r="Offline"!==t;return(!this.options.waitForSyncWhenOnline||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}shouldRaiseEvent(e){if(e.docChanges.length>0)return!0;let t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return(!!e.syncStateChanged||!!t)&&!0===this.options.includeMetadataChanges}raiseInitialEvent(e){e=EN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,t,r,n){this.targetId=e,this.fromCache=t,this.addedKeys=r,this.removedKeys=n}static fromSnapshot(e,t){let r=cg(),n=cg();for(let e of t.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:n=n.add(e.doc.key)}return new EG(e,t.fromCache,r,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.serializer=e}toDocumentKey(e){return ux(this.serializer,e)}toMutableDocument(e){return e.metadata.exists?uY(this.serializer,e.document,!1):AZ.newNoDocument(this.toDocumentKey(e.metadata.name),this.toSnapshotVersion(e.metadata.readTime))}toSnapshotVersion(e){return uN(e)}}class EY{constructor(e,t,r){this.bundleMetadata=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=EW(e)}addSizedElement(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),!e.payload.documentMetadata.exists&&++t;let r=sq.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}getQueryDocumentMapping(e){let t=new Map,r=new Ej(this.serializer);for(let n of e)if(n.metadata.queries){let e=r.toDocumentKey(n.metadata.name);for(let r of n.metadata.queries){let n=(t.get(r)||cg()).add(e);t.set(r,n)}}return t}async complete(){let e=await f$(this.localStore,new Ej(this.serializer),this.documents,this.bundleMetadata.id),t=this.getQueryDocumentMapping(this.documents);for(let e of this.queries)await f0(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,changedCollectionGroups:this.collectionGroups,changedDocs:e}}}function EW(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}function Eq(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(e){this.key=e}}class Ez{constructor(e){this.key=e}}class E${constructor(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=cg(),this.mutatedKeys=cg(),this.docComparator=l7(e),this.documentSet=new E_(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(e,t){let r=t?t.changeSet:new ET,n=t?t.documentSet:this.documentSet,i=t?t.mutatedKeys:this.mutatedKeys,s=n,o=!1,a="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,A="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((e,t)=>{let l=n.get(e),c=l4(this.query,t)?t:null,u=!!l&&this.mutatedKeys.has(l.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),d=!1;l&&c?l.data.isEqual(c.data)?u!==h&&(r.track({type:3,doc:c}),d=!0):!this.shouldWaitForSyncedDocument(l,c)&&(r.track({type:2,doc:c}),d=!0,(a&&this.docComparator(c,a)>0||A&&0>this.docComparator(c,A))&&(o=!0)):!l&&c?(r.track({type:0,doc:c}),d=!0):l&&!c&&(r.track({type:1,doc:l}),d=!0,(a||A)&&(o=!0)),d&&(c?(s=s.add(c),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){let e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),r.track({type:1,doc:e})}return{documentSet:s,changeSet:r,needsRefill:o,mutatedKeys:i}}shouldWaitForSyncedDocument(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,n){let i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;let s=e.changeSet.getChanges();s.sort((e,t)=>EX(e.type,t.type)||this.docComparator(e.doc,t.doc)),this.applyTargetChange(r),n=null!=n&&n;let o=t&&!n?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current&&!n?1:0,A=a!==this.syncState;return(this.syncState=a,0!==s.length||A)?{snapshot:new EN(this.query,e.documentSet,i,s,e.mutatedKeys,0===a,A,!1,!!r&&r.resumeToken.approximateByteSize()>0),limboChanges:o}:{limboChanges:o}}applyOnlineStateChange(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new ET,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations}applyTargetChange(e){e&&(e.addedDocuments.forEach(e=>this._syncedDocuments=this._syncedDocuments.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this._syncedDocuments=this._syncedDocuments.delete(e)),this.current=e.current)}updateLimboDocuments(){if(!this.current)return[];let e=this.limboDocuments;this.limboDocuments=cg(),this.documentSet.forEach(e=>{this.shouldBeInLimbo(e.key)&&(this.limboDocuments=this.limboDocuments.add(e.key))});let t=[];return e.forEach(e=>{this.limboDocuments.has(e)||t.push(new Ez(e))}),this.limboDocuments.forEach(r=>{e.has(r)||t.push(new EK(r))}),t}synchronizeWithPersistedState(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=cg();let t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)}computeInitialSnapshot(){return EN.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,0===this.syncState,this.hasCachedResults)}}function EX(e,t){let r=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sB()}};return r(e)-r(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EZ="SyncEngine";class E0{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class E1{constructor(e){this.key=e,this.receivedDocument=!1}}class E2{constructor(e,t,r,n,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=n,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.syncEngineListener={},this.queryViewsByQuery=new ct(e=>l1(e),l0),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new aO(s$.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new gV,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=go.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return!0===this._isPrimaryClient}}function E4(e,t,r,n,i,s,o){let a=new E2(e,t,r,n,i,s);return o&&(a._isPrimaryClient=!0),a}async function E5(e,t){let r,n;let i=mb(e),s=i.queryViewsByQuery.get(t);if(s)r=s.targetId,i.sharedClientState.addLocalQueryTarget(r),n=s.view.computeInitialSnapshot();else{let e=await fU(i.localStore,lY(t)),s=i.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,n=await E3(i,t,r,"current"===s,e.resumeToken),i.isPrimaryClient&&p6(i.remoteStore,e)}return n}async function E3(e,t,r,n,i){e.applyDocChanges=(t,r,n)=>md(e,t,r,n);let s=await fV(e.localStore,t,!0),o=new E$(t,s.remoteKeys),a=o.computeDocChanges(s.documents),A=uu.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==e.onlineState,i),l=o.applyChanges(a,e.isPrimaryClient,A);ml(e,r,l.limboChanges);let c=new E0(t,r,o);return e.queryViewsByQuery.set(t,c),e.queriesByTarget.has(r)?e.queriesByTarget.get(r).push(t):e.queriesByTarget.set(r,[t]),l.snapshot}async function E9(e,t){let r=sv(e),n=r.queryViewsByQuery.get(t),i=r.queriesByTarget.get(n.targetId);if(i.length>1){r.queriesByTarget.set(n.targetId,i.filter(e=>!l0(e,t))),r.queryViewsByQuery.delete(t);return}r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(n.targetId),r.sharedClientState.isActiveQueryTarget(n.targetId)||await fJ(r.localStore,n.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(n.targetId),p7(r.remoteStore,n.targetId),ma(r,n.targetId)}).catch(oi)):(ma(r,n.targetId),await fJ(r.localStore,n.targetId,!0))}async function E8(e,t,r){let n=mS(e);try{let e=await fS(n.localStore,t);n.sharedClientState.addPendingMutation(e.batchId),ms(n,e.batchId,r),await mh(n,e.changes),await Ed(n.remoteStore)}catch(t){let e=ED(t,"Failed to persist write");r.reject(e)}}async function E6(e,t){let r=sv(e);try{let e=await fN(r.localStore,t);t.targetChanges.forEach((e,t)=>{let n=r.activeLimboResolutionsByTarget.get(t);n&&(sQ(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.receivedDocument=!0:e.modifiedDocuments.size>0?sQ(n.receivedDocument):e.removedDocuments.size>0&&(sQ(n.receivedDocument),n.receivedDocument=!1))}),await mh(r,e,t)}catch(e){await oi(e)}}function E7(e,t,r){let n=sv(e);if(n.isPrimaryClient&&0===r||!n.isPrimaryClient&&1===r){let e=[];n.queryViewsByQuery.forEach((r,n)=>{let i=n.view.applyOnlineStateChange(t);i.snapshot&&e.push(i.snapshot)}),EJ(n.eventManager,t),e.length&&n.syncEngineListener.onWatchChange(e),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function me(e,t,r){let n=sv(e);n.sharedClientState.updateQueryState(t,"rejected",r);let i=n.activeLimboResolutionsByTarget.get(t),s=i&&i.key;if(s){let e=new aO(s$.comparator);e=e.insert(s,AZ.newNoDocument(s,sj.min()));let r=cg().add(s),i=new uc(sj.min(),new Map,new aO(sU),e,r);await E6(n,i),n.activeLimboTargetsByKey=n.activeLimboTargetsByKey.remove(s),n.activeLimboResolutionsByTarget.delete(t),mu(n)}else await fJ(n.localStore,t,!1).then(()=>ma(n,t,r)).catch(oi)}async function mt(e,t){let r=sv(e),n=t.batch.batchId;try{let e=await fk(r.localStore,t);mo(r,n,null),mn(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await mh(r,e)}catch(e){await oi(e)}}async function mr(e,t,r){let n=sv(e);try{let e=await fD(n.localStore,t);mo(n,t,r),mn(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await mh(n,e)}catch(e){await oi(e)}}function mn(e,t){(e.pendingWritesCallbacks.get(t)||[]).forEach(e=>{e.resolve()}),e.pendingWritesCallbacks.delete(t)}function mi(e,t){e.pendingWritesCallbacks.forEach(e=>{e.forEach(e=>{e.reject(new sb(sw.CANCELLED,t))})}),e.pendingWritesCallbacks.clear()}function ms(e,t,r){let n=e.mutationUserCallbacks[e.currentUser.toKey()];n||(n=new aO(sU)),n=n.insert(t,r),e.mutationUserCallbacks[e.currentUser.toKey()]=n}function mo(e,t,r){let n=sv(e),i=n.mutationUserCallbacks[n.currentUser.toKey()];if(i){let e=i.get(t);e&&(r?e.reject(r):e.resolve(),i=i.remove(t)),n.mutationUserCallbacks[n.currentUser.toKey()]=i}}function ma(e,t,r=null){for(let n of(e.sharedClientState.removeLocalQueryTarget(t),e.queriesByTarget.get(t)))e.queryViewsByQuery.delete(n),r&&e.syncEngineListener.onWatchError(n,r);e.queriesByTarget.delete(t),e.isPrimaryClient&&e.limboDocumentRefs.removeReferencesForId(t).forEach(t=>{e.limboDocumentRefs.containsKey(t)||mA(e,t)})}function mA(e,t){e.enqueuedLimboResolutions.delete(t.path.canonicalString());let r=e.activeLimboTargetsByKey.get(t);null!==r&&(p7(e.remoteStore,r),e.activeLimboTargetsByKey=e.activeLimboTargetsByKey.remove(t),e.activeLimboResolutionsByTarget.delete(r),mu(e))}function ml(e,t,r){for(let n of r)n instanceof EK?(e.limboDocumentRefs.addReference(n.key,t),mc(e,n)):n instanceof Ez?(sm(EZ,"Document no longer in limbo: "+n.key),e.limboDocumentRefs.removeReference(n.key,t),e.limboDocumentRefs.containsKey(n.key)||mA(e,n.key)):sB()}function mc(e,t){let r=t.key,n=r.path.canonicalString();e.activeLimboTargetsByKey.get(r)||e.enqueuedLimboResolutions.has(n)||(sm(EZ,"New document in limbo: "+r),e.enqueuedLimboResolutions.add(n),mu(e))}function mu(e){for(;e.enqueuedLimboResolutions.size>0&&e.activeLimboTargetsByKey.size<e.maxConcurrentLimboResolutions;){let t=e.enqueuedLimboResolutions.values().next().value;e.enqueuedLimboResolutions.delete(t);let r=new s$(sq.fromString(t)),n=e.limboTargetIdGenerator.next();e.activeLimboResolutionsByTarget.set(n,new E1(r)),e.activeLimboTargetsByKey=e.activeLimboTargetsByKey.insert(r,n),p6(e.remoteStore,new hF(lY(lU(r.path)),n,"TargetPurposeLimboResolution",oQ.INVALID))}}async function mh(e,t,r){let n=sv(e),i=[],s=[],o=[];n.queryViewsByQuery.isEmpty()||(n.queryViewsByQuery.forEach((e,a)=>{o.push(n.applyDocChanges(a,t,r).then(e=>{if((e||r)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);let t=EG.fromSnapshot(a.targetId,e);s.push(t)}}))}),await Promise.all(o),n.syncEngineListener.onWatchChange(i),await fL(n.localStore,s))}async function md(e,t,r,n){let i=t.view.computeDocChanges(r);i.needsRefill&&(i=await fV(e.localStore,t.query,!1).then(({documents:e})=>t.view.computeDocChanges(e,i)));let s=n&&n.targetChanges.get(t.targetId),o=n&&null!=n.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return ml(e,t.targetId,a.limboChanges),a.snapshot}async function mg(e,t){let r=sv(e);if(!r.currentUser.isEqual(t)){sm(EZ,"User change. New user:",t.toKey());let e=await fb(r.localStore,t);r.currentUser=t,mi(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await mh(r,e.affectedDocuments)}}function mf(e,t){let r=sv(e),n=r.activeLimboResolutionsByTarget.get(t);if(n&&n.receivedDocument)return cg().add(n.key);{let e=cg(),n=r.queriesByTarget.get(t);if(!n)return e;for(let t of n){let n=r.queryViewsByQuery.get(t);e=e.unionWith(n.view.syncedDocuments)}return e}}async function mp(e,t){let r=sv(e),n=await fV(r.localStore,t.query,!0),i=t.view.synchronizeWithPersistedState(n);return r.isPrimaryClient&&ml(r,t.targetId,i.limboChanges),i}async function mE(e,t){let r=sv(e);return fq(r.localStore,t).then(e=>mh(r,e))}async function mm(e,t,r,n){let i=sv(e),s=await fG(i.localStore,t);if(null===s){sm(EZ,"Cannot apply mutation batch with id: "+t);return}"pending"===r?await Ed(i.remoteStore):"acknowledged"===r||"rejected"===r?(mo(i,t,n||null),mn(i,t),fj(i.localStore,t)):sB(),await mh(i,s)}async function mC(e,t){let r=sv(e);if(mb(r),mS(r),!0===t&&!0!==r._isPrimaryClient){let e=r.sharedClientState.getAllActiveQueryTargets(),t=await mI(r,e.toArray());for(let e of(r._isPrimaryClient=!0,await Ew(r.remoteStore,!0),t))p6(r.remoteStore,e)}else if(!1===t&&!1!==r._isPrimaryClient){let e=[],t=Promise.resolve();r.queriesByTarget.forEach((n,i)=>{r.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(ma(r,i),fJ(r.localStore,i,!0))),p7(r.remoteStore,i)}),await t,await mI(r,e),my(r),r._isPrimaryClient=!1,await Ew(r.remoteStore,!1)}}function my(e){let t=sv(e);t.activeLimboResolutionsByTarget.forEach((e,r)=>{p7(t.remoteStore,r)}),t.limboDocumentRefs.removeAllReferences(),t.activeLimboResolutionsByTarget=new Map,t.activeLimboTargetsByKey=new aO(s$.comparator)}async function mI(e,t,r){let n=sv(e),i=[],s=[];for(let e of t){let t;let r=n.queriesByTarget.get(e);if(r&&0!==r.length)for(let e of(t=await fU(n.localStore,lY(r[0])),r)){let t=n.queryViewsByQuery.get(e),r=await mp(n,t);r.snapshot&&s.push(r.snapshot)}else{let r=await fW(n.localStore,e);t=await fU(n.localStore,r),await E3(n,mB(r),e,!1,t.resumeToken)}i.push(t)}return n.syncEngineListener.onWatchChange(s),i}function mB(e){return lx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mQ(e){return fY(sv(e).localStore)}async function mv(e,t,r,n){let i=sv(e);if(i._isPrimaryClient){sm(EZ,"Ignoring unexpected query state notification.");return}let s=i.queriesByTarget.get(t);if(s&&s.length>0)switch(r){case"current":case"not-current":{let e=await fq(i.localStore,l6(s[0])),n=uc.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,aq.EMPTY_BYTE_STRING);await mh(i,e,n);break}case"rejected":await fJ(i.localStore,t,!0),ma(i,t,n);break;default:sB()}}async function mw(e,t,r){let n=mb(e);if(n._isPrimaryClient){for(let e of t){if(n.queriesByTarget.has(e)){sm(EZ,"Adding an already active target "+e);continue}let t=await fW(n.localStore,e),r=await fU(n.localStore,t);await E3(n,mB(t),r.targetId,!1,r.resumeToken),p6(n.remoteStore,r)}for(let e of r)n.queriesByTarget.has(e)&&await fJ(n.localStore,e,!1).then(()=>{p7(n.remoteStore,e),ma(n,e)}).catch(oi)}}function mb(e){let t=sv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=E6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=me.bind(null,t),t.syncEngineListener.onWatchChange=EU.bind(null,t.eventManager),t.syncEngineListener.onWatchError=EP.bind(null,t.eventManager),t}function mS(e){let t=sv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mt.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mr.bind(null,t),t}async function mk(e,t,r){try{let n=await t.getMetadata();if(await fX(e.localStore,n))return await t.close(),r._completeWith(Eq(n)),Promise.resolve(new Set);r._updateProgress(EW(n));let i=new EY(n,e.localStore,t.serializer),s=await t.nextElement();for(;s;){let e=await i.addSizedElement(s);e&&r._updateProgress(e),s=await t.nextElement()}let o=await i.complete();return await mh(e,o.changedDocs,void 0),await fZ(e.localStore,n),r._completeWith(o.progress),Promise.resolve(o.changedCollectionGroups)}catch(e){return sy(EZ,`Loading bundle failed with ${e}`),r._failWith(e),Promise.resolve(new Set)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=pL(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return fw(this.persistence,new f3,e.initialUser,this.serializer)}createPersistence(e){return new g$(gZ.factory,this.serializer)}createSharedClientState(e){return new pp}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class mD extends null{constructor(e,t,r){super(),this.onlineComponentProvider=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.onlineComponentProvider.initialize(this,e),await mS(this.onlineComponentProvider.syncEngine),await Ed(this.onlineComponentProvider.remoteStore),await this.persistence.setPrimaryStateListener(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return fw(this.persistence,new f3,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new gI(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){let r=new oB(t,this.persistence);return new oI(e.asyncQueue,r)}createPersistence(e){let t=fy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?gg.withCacheSize(this.cacheSizeBytes):gg.DEFAULT;return new fE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,pF(),pM(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new pp}}class m_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>E7(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=mg.bind(null,this.syncEngine),await Ew(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return EM()}createDatastore(e){let t=pL(e.databaseInfo.databaseId),r=pT(e.databaseInfo);return pj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return p5(this.localStore,this.datastore,e.asyncQueue,e=>E7(this.syncEngine,e,0),pN())}createSyncEngine(e,t){return E4(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await p8(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mT=10240;function mN(e,t=mT){let r=0;return{async read(){if(r<e.byteLength){let n={value:e.slice(r,r+t),done:!1};return r+=t,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}function mF(e,t,r,n){if(!0===t&&!0===n)throw new sb(sw.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function mM(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function mL(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{let t=mO(e);return t?`a custom ${t} object`:"an object"}}if("function"==typeof e)return"a function";return sB()}function mO(e){return e.constructor?e.constructor.name:null}function mx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sb(sw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let r=mL(e);throw new sb(sw.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(e,t){if(!(e instanceof Uint8Array))throw new sb(sw.INVALID_ARGUMENT,`NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${mL(e)}`);return mN(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.scheduleEvent(this.observer.next,e)}error(e){this.observer.error?this.scheduleEvent(this.observer.error,e):sC("Uncaught Error in snapshot listener:",e.toString())}mute(){this.muted=!0}scheduleEvent(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(e,t){this.payload=e,this.byteLength=t}isBundleMetadata(){return"metadata"in this.payload}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,t){this.reader=e,this.serializer=t,this.metadata=new sS,this.buffer=new Uint8Array,this.textDecoder=ui(),this.nextElementImpl().then(e=>{e&&e.isBundleMetadata()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.reader.cancel()}async getMetadata(){return this.metadata.promise}async nextElement(){return await this.getMetadata(),this.nextElementImpl()}async nextElementImpl(){let e=await this.readLength();if(null===e)return null;let t=this.textDecoder.decode(e),r=Number(t);return isNaN(r)&&this.raiseError(`length string (${t}) is not valid number`),new mJ(JSON.parse(await this.readJsonString(r)),e.length+r)}indexOfOpenBracket(){return this.buffer.findIndex(e=>123===e)}async readLength(){for(;0>this.indexOfOpenBracket()&&!await this.pullMoreDataToBuffer(););if(0===this.buffer.length)return null;let e=this.indexOfOpenBracket();e<0&&this.raiseError("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async readJsonString(e){for(;this.buffer.length<e;)await this.pullMoreDataToBuffer()&&this.raiseError("Reached the end of bundle when more is expected.");let t=this.textDecoder.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}raiseError(e){throw this.reader.cancel(),Error(`Invalid bundle format: ${e}`)}async pullMoreDataToBuffer(){let e=await this.reader.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}function mH(e,t){return new mV(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new sb(sw.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=await pW(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new cZ(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{let r=s$.fromPath(t);this.mutations.push(new c2(r,this.precondition(r)))}),await pY(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else if(e.isNoDocument())t=sj.min();else throw sB();let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new sb(sw.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return this.writtenDocs.has(e.toString())||!t?cO.none():t.isEqual(sj.min())?cO.exists(!1):cO.updateTime(t)}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(this.writtenDocs.has(e.toString())||!t)return cO.exists(!0);if(t.isEqual(sj.min()))throw new sb(sw.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cO.updateTime(t)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mj="FirestoreClient",mY=100,mW=11,mq=20,mK=22;class mz{constructor(e,t,r,n){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=n,this.user=sh.UNAUTHENTICATED,this.clientId=sx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async e=>{sm(mj,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(r,e=>(sm(mj,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:mY}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sb(sw.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new sS;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){let t=ED(r,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function m$(e,t){e.asyncQueue.verifyOperationInProgress(),sm(mj,"Initializing OfflineComponentProvider");let r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async e=>{n.isEqual(e)||(await fb(t.localStore,e),n=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function mX(e,t){e.asyncQueue.verifyOperationInProgress();let r=await m0(e);sm(mj,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(e=>Ev(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,r)=>Ev(t.remoteStore,r)),e._onlineComponents=t}function mZ(e){return"FirebaseError"===e.name?e.code===sw.FAILED_PRECONDITION||e.code===sw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||e.code===mK||e.code===mq||e.code===mW}async function m0(e){if(!e._offlineComponents){if(e._uninitializedComponentsProvider){sm(mj,"Using user provided OfflineComponentProvider");try{await m$(e,e._uninitializedComponentsProvider._offline)}catch(r){let t=r;if(!mZ(t))throw t;sy("Error using user provided cache. Falling back to memory cache: "+t),await m$(e,new mR)}}else sm(mj,"Using default OfflineComponentProvider"),await m$(e,new mR)}return e._offlineComponents}async function m1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(sm(mj,"Using user provided OnlineComponentProvider"),await mX(e,e._uninitializedComponentsProvider._online)):(sm(mj,"Using default OnlineComponentProvider"),await mX(e,new m_))),e._onlineComponents}function m2(e){return m0(e).then(e=>e.localStore)}function m4(e){return m1(e).then(e=>e.syncEngine)}function m5(e){return m1(e).then(e=>e.datastore)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(e,t){return e.timeoutSeconds===t.timeoutSeconds}function m9(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m8="ComponentProvider",m6=new Map;function m7(e){let t=m6.get(e);t&&(sm(m8,"Removing Datastore"),m6.delete(e),t.terminate())}function Ce(e,t,r,n){return new a7(e,t,r,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,m9(n.experimentalLongPollingOptions),n.useFetchStreams)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ct="firestore.googleapis.com",Cr=!0,Cn=5,Ci=30,Cs=!0;class Co{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new sb(sw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ct,this.ssl=Cr}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Cr;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=gd;else{if(e.cacheSizeBytes!==gh&&e.cacheSizeBytes<gp)throw new sb(sw.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${gp}`);this.cacheSizeBytes=e.cacheSizeBytes}mF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=Cs:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m9(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),Ca(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&m3(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}function Ca(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new sb(sw.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<Cn)throw new sb(sw.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is ${Cn})`);if(e.timeoutSeconds>Ci)throw new sb(sw.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is ${Ci})`)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Co({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new sb(sw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sb(sw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Co(e),void 0!==e.credentials&&(this._authCredentials=sL(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return m7(this),Promise.resolve()}}function Cl(e,t,r,n={}){var i;let s=(e=mx(e,CA))._getSettings(),o=`${t}:${r}`;if(s.host!==Ct&&s.host!==o&&sy("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=sh.MOCK_USER;else{t=q(n.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);let s=n.mockUserToken.sub||n.mockUserToken.user_id;if(!s)throw new sb(sw.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new sh(s)}e._authCredentials=new sD(new sk(t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cc(this.firestore,e,this._query)}}class Cu{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ch(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cu(this.firestore,e,this._key)}}class Ch extends null{constructor(e,t,r){super(e,t,lU(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Cu(this.firestore,null,new s$(e))}withConverter(e){return new Ch(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd="AsyncQueue";class Cg{constructor(){this.tail=Promise.resolve(),this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new pJ(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()}}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.verifyNotFailed(),this.enqueueInternal(e)}enterRestrictedMode(e){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=e||!1)}enqueue(e){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let t=new sS;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.retryableOps.push(e),this.retryNextOp()))}async retryNextOp(){if(0!==this.retryableOps.length){try{await this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(e){if(oh(e))sm(Cd,"Operation failed with retryable error: "+e);else throw e}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}}enqueueInternal(e){let t=this.tail.then(()=>(this.operationInProgress=!0,e().catch(e=>{throw this.failure=e,this.operationInProgress=!1,sC("INTERNAL UNHANDLED ERROR: ",Cp(e)),e}).then(e=>(this.operationInProgress=!1,e))));return this.tail=t,t}enqueueAfterDelay(e,t,r){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);let n=ER.createAndSchedule(this,e,t,r,e=>this.removeDelayedOperation(e));return this.delayedOperations.push(n),n}verifyNotFailed(){this.failure&&sB()}verifyOperationInProgress(){}async drain(){let e;do e=this.tail,await e;while(e!==this.tail)}containsDelayedOperation(e){for(let t of this.delayedOperations)if(t.timerId===e)return!0;return!1}runAllDelayedOperationsUntil(e){return this.drain().then(()=>{for(let t of(this.delayedOperations.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.delayedOperations))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.drain()})}skipDelaysForTimerId(e){this.timerIdsToSkip.push(e)}removeDelayedOperation(e){let t=this.delayedOperations.indexOf(e);this.delayedOperations.splice(t,1)}}function Cf(){return new Cg}function Cp(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class CE extends CA{constructor(e,t,r,n){super(e,t,r,n),this.type="firestore",this._queue=Cf(),this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||CC(this),this._firestoreClient.terminate()}}function Cm(e,t){let r="object"==typeof e?e:tr(),n="string"==typeof e?e:t||Ae,i=e8(r,"firestore").getImmediate({identifier:n});if(!i._initialized){let e=j("firestore");e&&Cl(i,...e)}return i}function CC(e){var t,r,n;let i=e._freezeSettings(),s=Ce(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new mz(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(r=i.localCache)||void 0===r?void 0:r._offlineComponentProvider)&&(null===(n=i.localCache)||void 0===n?void 0:n._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(e,t=!0){sg(te),e9(new ep("firestore",(e,{instanceIdentifier:r,options:n})=>{let i=e.getProvider("app").getImmediate(),s=new CE(new s_(e.getProvider("auth-internal")),new sM(e.getProvider("app-check-internal")),Ar(i,r),i);return n=Object.assign({useFetchStreams:t},n),s._setSettings(n),s},"PUBLIC").setMultipleInstances(!0)),ti(sc,su,e),ti(sc,su,"esm2017")}class CI{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this._byteString=e}static fromBase64String(e){try{return new CB(aq.fromBase64String(e))}catch(e){throw new sb(sw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new CB(aq.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new sb(sw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sz(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new sb(sw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sb(sw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sU(this._lat,e._lat)||sU(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cb=/^__.*__$/;class CS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new cW(e,this.data,this.fieldMask,t,this.fieldTransforms):new cG(e,this.data,t,this.fieldTransforms)}}class Ck{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cW(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function CR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sB()}}class CD{constructor(e,t,r,n,i,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===i&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new CD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var t;let r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){var t;let r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Cz(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(CR(this.dataSource)&&Cb.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class C_{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||pL(e)}createContext(e,t,r,n=!1){return new CD({dataSource:e,methodName:t,targetDoc:r,path:sz.emptyPath(),arrayElement:!1,hasConverter:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CT(e){let t=e._freezeSettings(),r=pL(e._databaseId);return new C_(e._databaseId,!!t.ignoreUndefinedProperties,r)}class CN extends null{_toFieldTransform(e){if(2===e.dataSource)e.fieldMask.push(e.path);else if(1===e.dataSource)throw e.createError(`${this._methodName}() can only appear at the top level of your update data`);else throw e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(e){return e instanceof CN}}function CF(e,t,r){return new CD({dataSource:3,targetDoc:t.settings.targetDoc,methodName:e._methodName,arrayElement:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class CM extends null{_toFieldTransform(e){return new cN(e.path,new cv)}isEqual(e){return e instanceof CM}}class CL extends null{constructor(e,t){super(e),this._elements=t}_toFieldTransform(e){let t=CF(this,e,!0),r=new cw(this._elements.map(e=>CP(e,t)));return new cN(e.path,r)}isEqual(e){return e instanceof CL&&deepEqual(this._elements,e._elements)}}class CO extends null{constructor(e,t){super(e),this._elements=t}_toFieldTransform(e){let t=CF(this,e,!0),r=new cS(this._elements.map(e=>CP(e,t)));return new cN(e.path,r)}isEqual(e){return e instanceof CO&&deepEqual(this._elements,e._elements)}}class Cx extends null{constructor(e,t){super(e),this._operand=t}_toFieldTransform(e){let t=new cR(e.serializer,cC(e.serializer,this._operand));return new cN(e.path,t)}isEqual(e){return e instanceof Cx&&this._operand===e._operand}}function CU(e,t,r,n=!1){return CP(r,e.createContext(n?4:3,t))}function CP(e,t){if(Cj(e=getModularInstance(e)))return CY("Unsupported field value:",t,e),CJ(e,t);if(e instanceof Cv)return CH(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),!(e instanceof Array))return CG(e,t);if(t.settings.arrayElement&&4!==t.dataSource)throw t.createError("Nested arrays are not supported");return CV(e,t)}function CJ(e,t){let r={};return aL(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):aM(e,(e,n)=>{let i=CP(n,t.childContextForField(e));null!=i&&(r[e]=i)}),{mapValue:{fields:r}}}function CV(e,t){let r=[],n=0;for(let i of e){let e=CP(i,t.childContextForArray(n));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),n++}return{arrayValue:{values:r}}}function CH(e,t){if(!CR(t.dataSource))throw t.createError(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.createError(`${e._methodName}() is not currently supported inside arrays`);let r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}function CG(e,t){if(null===(e=getModularInstance(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cC(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let r=sG.fromDate(e);return{timestampValue:uk(t.serializer,r)}}if(e instanceof sG){let r=new sG(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:uk(t.serializer,r)}}if(e instanceof Cw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};else if(e instanceof CB)return{bytesValue:uD(t.serializer,e._byteString)};else if(e instanceof Cu){let r=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(r))throw t.createError(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:uF(e.firestore._databaseId||t.databaseId,e._key.path)}}else throw t.createError(`Unsupported field value: ${mL(e)}`)}function Cj(e){return"object"==typeof e&&null!==e&&!(e instanceof Array)&&!(e instanceof Date)&&!(e instanceof sG)&&!(e instanceof Cw)&&!(e instanceof CB)&&!(e instanceof Cu)&&!(e instanceof Cv)}function CY(e,t,r){if(!Cj(r)||!mM(r)){let n=mL(r);if("an object"===n)throw t.createError(e+" a custom object");throw t.createError(e+" "+n)}}function CW(e,t,r){if((t=getModularInstance(t))instanceof CQ)return t._internalPath;if("string"==typeof t)return CK(e,t);throw Cz("Field path arguments must be of type string or ",e,!1,void 0,r)}let Cq=null;function CK(e,t,r){if(t.search(Cq)>=0)throw Cz(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new CQ(...t.split("."))._internalPath}catch(n){throw Cz(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Cz(e,t,r,n,i){let s=n&&!n.isEmpty(),o=void 0!==i,a=`Function ${t}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let A="";return(s||o)&&(A+=" (found",s&&(A+=` in field ${n}`),o&&(A+=` in document ${i}`),A+=")"),new sb(sw.INVALID_ARGUMENT,a+e+A)}function C$(e,t){return e.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(e,t,r,n,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Cu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value);{let e=new CZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}}}get(e){if(this._document){let t=this._document.data.field(C0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class CZ extends null{data(){return super.data()}}function C0(e,t){return"string"==typeof t?CK(e,t):t instanceof CQ?t._internalPath:t._delegate._internalPath}class C1 extends null{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new C1(e,t,r)}_apply(e){let t=this._parse(e);return ys(e._query,t),new Cc(e.firestore,e.converter,lK(e._query,t))}_parse(e){let t=CT(e.firestore);return C6(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class C2 extends null{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new C2(e,t)}_parse(e){let t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:lt.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return 0===t.getFilters().length?e:(yo(e._query,t),new Cc(e.firestore,e.converter,lK(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class C4 extends null{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new C4(e,t)}_apply(e){let t=C7(e._query,this._field,this._direction);return new Cc(e.firestore,e.converter,lz(e._query,t))}}class C5 extends null{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new C5(e,t,r)}_apply(e){return new Cc(e.firestore,e.converter,l$(e._query,this._limit,this._limitType))}}class C3 extends null{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new C3(e,t,r)}_apply(e){let t=C8(e,this.type,this._docOrFields,this._inclusive);return new Cc(e.firestore,e.converter,lX(e._query,t))}}class C9 extends null{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new C9(e,t,r)}_apply(e){let t=C8(e,this.type,this._docOrFields,this._inclusive);return new Cc(e.firestore,e.converter,lZ(e._query,t))}}function C8(e,t,r,n){if(r[0]=getModularInstance(r[0]),r[0]instanceof CX)return ye(e._query,e.firestore._databaseId,t,r[0]._document,n);{let i=CT(e.firestore);return yt(e._query,e.firestore._databaseId,i,t,r,n)}}function C6(e,t,r,n,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new sb(sw.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){yn(o,s);let t=[];for(let r of o)t.push(yr(n,e,r));a={arrayValue:{values:t}}}else a=yr(n,e,o)}else("in"===s||"not-in"===s||"array-contains-any"===s)&&yn(o,s),a=CU(r,t,o,"in"===s||"not-in"===s);return le.create(i,s,a)}function C7(e,t,r){if(null!==e.startAt)throw new sb(sw.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new sb(sw.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new A9(t,r)}function ye(e,t,r,n,i){if(!n)throw new sb(sw.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${r}().`);let s=[];for(let r of lj(e))if(r.field.isKeyField())s.push(AO(t,n.key));else{let e=n.data.field(r.field);if(a3(e))throw new sb(sw.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+r.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null!==e)s.push(e);else{let e=r.field.canonicalString();throw new sb(sw.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}}return new A1(s,i)}function yt(e,t,r,n,i,s){let o=e.explicitOrderBy;if(i.length>o.length)throw new sb(sw.INVALID_ARGUMENT,`Too many arguments provided to ${n}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let a=[];for(let s=0;s<i.length;s++){let A=i[s];if(o[s].field.isKeyField()){if("string"!=typeof A)throw new sb(sw.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${n}(), but got a ${typeof A}`);if(!lG(e)&&-1!==A.indexOf("/"))throw new sb(sw.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${n}() must be a plain document ID, but '${A}' contains a slash.`);let r=e.path.child(sq.fromString(A));if(!s$.isDocumentKey(r))throw new sb(sw.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${n}() must result in a valid document path, but '${r}' is not because it contains an odd number of segments.`);let i=new s$(r);a.push(AO(t,i))}else{let e=CU(r,n,A);a.push(e)}}return new A1(a,s)}function yr(e,t,r){if("string"==typeof(r=getModularInstance(r))){if(""===r)throw new sb(sw.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lG(t)&&-1!==r.indexOf("/"))throw new sb(sw.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);let n=t.path.child(sq.fromString(r));if(!s$.isDocumentKey(n))throw new sb(sw.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return AO(e,new s$(n))}if(r instanceof Cu)return AO(e,r._key);throw new sb(sw.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mL(r)}.`)}function yn(e,t){if(!Array.isArray(e)||0===e.length)throw new sb(sw.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function yi(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function ys(e,t){let r=ya(e.filters,yi(t.op));if(null!==r){if(r===t.op)throw new sb(sw.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`);throw new sb(sw.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}}function yo(e,t){let r=e;for(let e of t.getFlattenedFilters())ys(r,e),r=lK(r,e)}function ya(e,t){for(let r of e)for(let e of r.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yl extends null{data(e={}){return super.data(e)}}function yc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sB()}}class yu extends null{constructor(e){super(),this.firestore=e}convertBytes(e){return new CB(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cu(this.firestore,null,t)}}class yh{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new m_,this._offlineComponentProvider=new mD(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}new WeakMap;class yd{constructor(){this.existenceFilterMismatchCallbacksById=new Map}static get instance(){return yg||ur(yg=new yd),yg}notifyOnExistenceFilterMismatch(e){this.existenceFilterMismatchCallbacksById.forEach(t=>t(e))}onExistenceFilterMismatch(e){let t=Symbol(),r=this.existenceFilterMismatchCallbacksById;return r.set(t,e),()=>r.delete(t)}}let yg=null;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cy("node"),r(12781);var yf=r(48403);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yp="firebasestorage.googleapis.com",yE="storageBucket",ym=12e4,yC=6e5,yy=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends er{constructor(e,t,r=0){super(yB(e),`Firebase Storage: ${t} (${yB(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yI.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yB(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function yB(e){return"storage/"+e}function yQ(){let e="An unknown error occurred, please check the error payload for server response.";return new yI(l.UNKNOWN,e)}function yv(e){return new yI(l.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function yw(e){return new yI(l.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yb(){let e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yI(l.UNAUTHENTICATED,e)}function yS(){return new yI(l.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function yk(e){return new yI(l.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function yR(){return new yI(l.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yD(){return new yI(l.CANCELED,"User canceled the upload/download.")}function y_(e){return new yI(l.INVALID_URL,"Invalid URL '"+e+"'.")}function yT(e){return new yI(l.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function yN(){return new yI(l.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yE+"' property when initializing the app?")}function yF(){return new yI(l.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yM(){return new yI(l.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function yL(e){return new yI(l.INVALID_ARGUMENT,e)}function yO(){return new yI(l.APP_DELETED,"The Firebase app was deleted.")}function yx(e){return new yI(l.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yU(e,t){return new yI(l.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function yP(e){throw new yI(l.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(l||(l={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=yJ.makeFromUrl(e,t)}catch(t){return new yJ(e,"")}if(""===r.path)return r;throw yT(e)}static makeFromUrl(e,t){let r=null,n="([A-Za-z0-9.\\-_]+)";function i(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}let s=RegExp("^gs://"+n+"(/(.*))?$","i"),o={bucket:1,path:3};function a(e){e.path_=decodeURIComponent(e.path)}let A="v[A-Za-z0-9_]+",l=t.replace(/[.]/g,"\\."),c="(/([^?#]*).*)?$",u=RegExp(`^https?://${l}/${A}/b/${n}/o${c}`,"i"),h=t===yp?"(?:storage.googleapis.com|storage.cloud.google.com)":t,d="([^?#]*)",g=[{regex:s,indices:o,postModify:i},{regex:u,indices:{bucket:1,path:3},postModify:a},{regex:RegExp(`^https?://${h}/${n}/${d}`,"i"),indices:{bucket:1,path:2},postModify:a}];for(let t=0;t<g.length;t++){let n=g[t],i=n.regex.exec(e);if(i){let e=i[n.indices.bucket],t=i[n.indices.path];t||(t=""),r=new yJ(e,t),n.postModify(r);break}}if(null==r)throw y_(e);return r}}class yV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(e,t,r){let n=1,i=null,s=null,o=!1,a=0;function A(){return 2===a}let l=!1;function c(...e){l||(l=!0,t.apply(null,e))}function u(t){i=setTimeout(()=>{i=null,e(d,A())},t)}function h(){s&&clearTimeout(s)}function d(e,...t){let r;if(l){h();return}if(e||A()||o){h(),c.call(null,e,...t);return}n<64&&(n*=2),1===a?(a=2,r=0):r=(n+Math.random())*1e3,u(r)}let g=!1;function f(e){!g&&(g=!0,h(),!l&&(null!==i?(e||(a=2),clearTimeout(i),u(0)):e||(a=1)))}return u(0),s=setTimeout(()=>{o=!0,f(!0)},r),f}function yG(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(e){return void 0!==e}function yY(e){return"function"==typeof e}function yW(e){return"object"==typeof e&&!Array.isArray(e)}function yq(e){return"string"==typeof e||e instanceof String}function yK(e){return yz()&&e instanceof Blob}function yz(){return"undefined"!=typeof Blob}function y$(e,t,r,n){if(n<t)throw yL(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw yL(`Invalid value for '${e}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(e,t,r){let n=t;return null==r&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function yZ(e){let t=encodeURIComponent,r="?";for(let n in e)e.hasOwnProperty(n)&&(r=r+(t(n)+"=")+t(e[n])+"&");return r.slice(0,-1)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(e,t){let r=e>=500&&e<600,n=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return r||n||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(c||(c={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,t,r,n,i,s,o,a,A,l,c,u=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=n,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=A,this.progressCallback_=l,this.connectionFactory_=c,this.retry=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){let e=(e,t)=>{if(t){e(!1,new y2(!1,null,!0));return}let r=this.connectionFactory_();this.pendingConnection_=r;let n=e=>{let t=e.loaded,r=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,r)};null!==this.progressCallback_&&r.addUploadProgressListener(n),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&r.removeUploadProgressListener(n),this.pendingConnection_=null;let t=r.getErrorCode()===c.NO_ERROR,i=r.getStatus();if(!t||y0(i,this.additionalRetryCodes_)&&this.retry){e(!1,new y2(!1,null,r.getErrorCode()===c.ABORT));return}e(!0,new y2(-1!==this.successCodes_.indexOf(i),r))})},t=(e,t)=>{let r=this.resolve_,n=this.reject_,i=t.connection;if(t.wasSuccessCode)try{let e=this.callback_(i,i.getResponse());yj(e)?r(e):r()}catch(e){n(e)}else if(null!==i){let e=yQ();e.serverResponse=i.getErrorText(),n(this.errorCallback_?this.errorCallback_(i,e):e)}else n(t.canceled?this.appDelete_?yO():yD():yR())};this.canceled_?t(!1,new y2(!1,null,!0)):this.backoffId_=yH(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&yG(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class y2{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function y4(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function y5(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}function y3(e,t){t&&(e["X-Firebase-GMPID"]=t)}function y9(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function y8(e,t,r,n,i,s,o=!0){let a=yZ(e.urlParams),A=e.url+a,l=Object.assign({},e.headers);return y3(l,t),y4(l,r),y5(l,s),y9(l,n),new y1(A,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function y7(...e){let t=y6();if(void 0!==t){let r=new t;for(let t=0;t<e.length;t++)r.append(e[t]);return r.getBlob()}if(yz())return new Blob(e);throw new yI(l.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Ie(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(e){if(/[^-A-Za-z0-9+/=]/.test(e))throw yU("base64","Invalid character found");return Buffer.from(e,"base64").toString("binary")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class In{constructor(e,t){this.data=e,this.contentType=t||null}}function Ii(e,t){switch(e){case Ir.RAW:return new In(Is(t));case Ir.BASE64:case Ir.BASE64URL:return new In(Ia(e,t));case Ir.DATA_URL:return new In(Il(t),Ic(t))}throw yQ()}function Is(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<=127?t.push(n):n<=2047?t.push(192|n>>6,128|63&n):(64512&n)==55296?r<e.length-1&&(64512&e.charCodeAt(r+1))==56320?(n=65536|(1023&n)<<10|1023&e.charCodeAt(++r),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n)):t.push(239,191,189):(64512&n)==56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(t)}function Io(e){let t;try{t=decodeURIComponent(e)}catch(e){throw yU(Ir.DATA_URL,"Malformed data URL.")}return Is(t)}function Ia(e,t){let r;switch(e){case Ir.BASE64:{let r=-1!==t.indexOf("-"),n=-1!==t.indexOf("_");if(r||n)throw yU(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ir.BASE64URL:{let r=-1!==t.indexOf("+"),n=-1!==t.indexOf("/");if(r||n)throw yU(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}}try{r=It(t)}catch(t){if(t.message.includes("polyfill"))throw t;throw yU(e,"Invalid character found")}let n=new Uint8Array(r.length);for(let e=0;e<r.length;e++)n[e]=r.charCodeAt(e);return n}class IA{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(null===t)throw yU(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;null!=r&&(this.base64=Iu(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Il(e){let t=new IA(e);return t.base64?Ia(Ir.BASE64,t.rest):Io(t.rest)}function Ic(e){return new IA(e).contentType}function Iu(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t){let r=0,n="";yK(e)?(this.data_=e,r=e.size,n=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=n}size(){return this.size_}type(){return this.type_}slice(e,t){if(!yK(this.data_))return new Ih(new Uint8Array(this.data_.buffer,e,t-e),!0);{let r=Ie(this.data_,e,t);return null===r?null:new Ih(r)}}static getBlob(...e){if(yz()){let t=e.map(e=>e instanceof Ih?e.data_:e);return new Ih(y7.apply(null,t))}{let t=e.map(e=>yq(e)?Ii(Ir.RAW,e).data:e.data_),r=0;t.forEach(e=>{r+=e.byteLength});let n=new Uint8Array(r),i=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)n[i++]=e[t]}),new Ih(n,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(e){let t;try{t=JSON.parse(e)}catch(e){return null}return yW(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(e){if(0===e.length)return null;let t=e.lastIndexOf("/");return -1===t?"":e.slice(0,t)}function If(e,t){let r=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?r:e+"/"+r}function Ip(e){let t=e.lastIndexOf("/",e.length-2);return -1===t?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(e,t){return t}class Im{constructor(e,t,r,n){this.server=e,this.local=t||e,this.writable=!!r,this.xform=n||IE}}let IC=null;function Iy(e){return!yq(e)||e.length<2?e:Ip(e)}function II(){if(IC)return IC;let e=[];function t(e,t){return Iy(t)}e.push(new Im("bucket")),e.push(new Im("generation")),e.push(new Im("metageneration")),e.push(new Im("name","fullPath",!0));let r=new Im("name");function n(e,t){return void 0!==t?Number(t):t}r.xform=t,e.push(r);let i=new Im("size");return i.xform=n,e.push(i),e.push(new Im("timeCreated")),e.push(new Im("updated")),e.push(new Im("md5Hash",null,!0)),e.push(new Im("cacheControl",null,!0)),e.push(new Im("contentDisposition",null,!0)),e.push(new Im("contentEncoding",null,!0)),e.push(new Im("contentLanguage",null,!0)),e.push(new Im("contentType",null,!0)),e.push(new Im("metadata","customMetadata",!0)),IC=e}function IB(e,t){function r(){let r=new yJ(e.bucket,e.fullPath);return t._makeStorageReference(r)}Object.defineProperty(e,"ref",{get:r})}function IQ(e,t,r){let n={};n.type="file";let i=r.length;for(let e=0;e<i;e++){let i=r[e];n[i.local]=i.xform(n,t[i.server])}return IB(n,e),n}function Iv(e,t,r){let n=Id(t);return null===n?null:IQ(e,n,r)}function Iw(e,t,r,n){let i=Id(t);if(null===i||!yq(i.downloadTokens))return null;let s=i.downloadTokens;if(0===s.length)return null;let o=encodeURIComponent;return s.split(",").map(t=>{let i=e.bucket,s=e.fullPath;return yX("/b/"+o(i)+"/o/"+o(s),r,n)+yZ({alt:"media",token:t})})[0]}function Ib(e,t){let r={},n=t.length;for(let i=0;i<n;i++){let n=t[i];n.writable&&(r[n.server]=e[n.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IS="prefixes",Ik="items";function IR(e,t,r){let n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[IS])for(let i of r[IS]){let r=i.replace(/\/$/,""),s=e._makeStorageReference(new yJ(t,r));n.prefixes.push(s)}if(r[Ik])for(let i of r[Ik]){let r=e._makeStorageReference(new yJ(t,i.name));n.items.push(r)}return n}function ID(e,t,r){let n=Id(r);return null===n?null:IR(e,t,n)}class I_{constructor(e,t,r,n){this.url=e,this.method=t,this.handler=r,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(e){if(!e)throw yQ()}function IN(e,t){return function(r,n){let i=Iv(e,n,t);return IT(null!==i),i}}function IF(e,t){return function(r,n){let i=ID(e,t,n);return IT(null!==i),i}}function IM(e,t){return function(r,n){let i=Iv(e,n,t);return IT(null!==i),Iw(i,n,e.host,e._protocol)}}function IL(e){return function(t,r){let n;return(n=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?yS():yb():402===t.getStatus()?yw(e.bucket):403===t.getStatus()?yk(e.path):r).status=t.getStatus(),n.serverResponse=r.serverResponse,n}}function IO(e){let t=IL(e);return function(r,n){let i=t(r,n);return 404===r.getStatus()&&(i=yv(e.path)),i.serverResponse=n.serverResponse,i}}function Ix(e,t,r){let n=yX(t.fullServerUrl(),e.host,e._protocol),i="GET",s=e.maxOperationRetryTime,o=new I_(n,i,IN(e,r),s);return o.errorHandler=IO(t),o}function IU(e,t,r,n,i){let s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",r&&r.length>0&&(s.delimiter=r),n&&(s.pageToken=n),i&&(s.maxResults=i);let o=yX(t.bucketOnlyServerUrl(),e.host,e._protocol),a="GET",A=e.maxOperationRetryTime,l=new I_(o,a,IF(e,t.bucket),A);return l.urlParams=s,l.errorHandler=IL(t),l}function IP(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function IJ(e,t,r){let n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=IP(null,t)),n}function IV(e,t,r,n,i){let s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;let A=IJ(t,n,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ib(A,r)+"\r\n--"+a+"\r\nContent-Type: "+A.contentType+"\r\n\r\n",c="\r\n--"+a+"--",u=Ih.getBlob(l,n,c);if(null===u)throw yF();let h={name:A.fullPath},d=yX(s,e.host,e._protocol),g="POST",f=e.maxUploadRetryTime,p=new I_(d,g,IN(e,r),f);return p.urlParams=h,p.headers=o,p.body=u.uploadData(),p.errorHandler=IL(t),p}class IH{constructor(e,t,r,n){this.current=e,this.total=t,this.finalized=!!r,this.metadata=n||null}}function IG(e,t){let r=null;try{r=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){IT(!1)}let n=t||["active"];return IT(!!r&&-1!==n.indexOf(r)),r}function Ij(e,t,r,n,i){let s=t.bucketOnlyServerUrl(),o=IJ(t,n,i),a={name:o.fullPath},A=yX(s,e.host,e._protocol),l="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=Ib(o,r),h=new I_(A,l,function(e){let t;IG(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){IT(!1)}return IT(yq(t)),t},e.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=IL(t),h}function IY(e,t,r,n){let i={"X-Goog-Upload-Command":"query"},s=new I_(r,"POST",function(e){let t=IG(e,["active","final"]),r=null;try{r=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){IT(!1)}r||IT(!1);let i=Number(r);return IT(!isNaN(i)),new IH(i,n.size(),"final"===t)},e.maxUploadRetryTime);return s.headers=i,s.errorHandler=IL(t),s}let IW=null;function Iq(e,t,r,n,i,s,o,a){let A=new IH(0,0);if(o?(A.current=o.current,A.total=o.total):(A.current=0,A.total=n.size()),n.size()!==A.total)throw yM();let l=A.total-A.current,c=l;i>0&&(c=Math.min(c,i));let u=A.current,h=u+c,d="",g={"X-Goog-Upload-Command":d=0===c?"finalize":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":`${A.current}`},f=n.slice(u,h);if(null===f)throw yF();let p=new I_(r,"POST",function(e,r){let i;let o=IG(e,["active","final"]),a=A.current+c,l=n.size();return i="final"===o?IN(t,s)(e,r):null,new IH(a,l,"final"===o,i)},t.maxUploadRetryTime);return p.headers=g,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=IL(e),p}let IK={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Iz(e){switch(e){case"running":case"pausing":case"canceling":return IK.RUNNING;case"paused":return IK.PAUSED;case"success":return IK.SUCCESS;case"canceled":return IK.CANCELED;default:return IK.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,t,r){if(yY(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{let t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IX(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IZ=null;class I0 extends null{getResponse(){if(!this.body_)throw yP("cannot .getResponse() before receiving response");return Buffer.from(this.body_).toString("utf-8")}}function I1(){return IZ?IZ():new I0}class I2 extends null{getResponse(){if(!this.body_)throw yP("cannot .getResponse() before sending");return this.body_}}class I4 extends null{constructor(){super(...arguments),this.stream_=null}async send(e,t,r,n){if(this.sent_)throw yP("cannot .send() more than once");this.sent_=!0;try{let i=await this.fetch_(e,{method:t,headers:n||{},body:r});this.headers_=i.headers,this.statusCode_=i.status,this.errorCode_=c.NO_ERROR,this.stream_=i.body}catch(e){this.errorText_=null==e?void 0:e.message,this.statusCode_=0,this.errorCode_=c.NETWORK_ERROR}}getResponse(){if(!this.stream_)throw yP("cannot .getResponse() before sending");return this.stream_}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,t){this._service=e,t instanceof yJ?this._location=t:this._location=yJ.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new I5(e,t)}get root(){let e=new yJ(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ip(this._location.path)}get storage(){return this._service}get parent(){let e=Ig(this._location.path);if(null===e)return null;let t=new yJ(this._location.bucket,e);return new I5(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw yx(e)}}function I3(e,t){null!=t&&"number"==typeof t.maxResults&&y$("options.maxResults",1,1e3,t.maxResults);let r=t||{},n=IU(e.storage,e._location,"/",r.pageToken,r.maxResults);return e.storage.makeRequestWithTokens(n,I1)}function I9(e,t){let r=If(e._location.path,t),n=new yJ(e._location.bucket,r);return new I5(e.storage,n)}function I8(e,t){let r=null==t?void 0:t[yE];return null==r?null:yJ.makeFromBucketSpec(r,e)}function I6(e,t,r,n={}){e.host=`${t}:${r}`,e._protocol="http";let{mockUserToken:i}=n;i&&(e._overrideAuthToken="string"==typeof i?i:q(i,e.app.options.projectId))}class I7{constructor(e,t,r,n,i){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=n,this._firebaseVersion=i,this._bucket=null,this._host=yp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ym,this._maxUploadRetryTime=yC,this._requests=new Set,null!=n?this._bucket=yJ.makeFromBucketSpec(n,this._host):this._bucket=I8(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=yJ.makeFromBucketSpec(this._url,e):this._bucket=I8(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){y$("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){y$("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new I5(this,e)}_makeRequest(e,t,r,n,i=!0){if(this._deleted)return new yV(yO());{let s=y8(e,this._appId,r,n,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){let[r,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,n).getPromise()}}let Be="@firebase/storage",Bt="0.12.2",Br="storage";function Bn(e=tr(),t){let r=e8(e=ef(e),Br).getImmediate({identifier:t}),n=j("storage");return n&&Bi(r,...n),r}function Bi(e,t,r,n={}){I6(e,t,r,n)}function Bs(e,{instanceIdentifier:t}){return new I7(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t,te)}(function(){e9(new ep(Br,Bs,"PUBLIC").setMultipleInstances(!0)),ti(Be,Bt)})();function Bo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}Object.create;function Ba(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}Object.create,"function"==typeof SuppressedError&&SuppressedError;let BA=Ba,Bl=new en("auth","Firebase",Ba()),Bc=new eS("@firebase/auth");function Bu(e,...t){Bc.logLevel<=ty.WARN&&Bc.warn(`Auth (${te}): ${e}`,...t)}function Bh(e,...t){Bc.logLevel<=ty.ERROR&&Bc.error(`Auth (${te}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(e,...t){throw Bp(e,...t)}function Bg(e,...t){return Bp(e,...t)}function Bf(e,t,r){return new en("auth","Firebase",Object.assign(Object.assign({},BA()),{[t]:r})).create(t,{appName:e.name})}function Bp(e,...t){if("string"!=typeof e){let r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return Bl.create(e,...t)}function BE(e,t,...r){if(!e)throw Bp(t,...r)}function Bm(e){let t="INTERNAL ASSERTION FAILED: "+e;throw Bh(t),Error(t)}function BC(e,t){e||Bm(t)}function By(){return"http:"===BI()||"https:"===BI()}function BI(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(By()||$()||"connection"in navigator))||navigator.onLine}function BQ(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,t){this.shortDelay=e,this.longDelay=t,BC(t>e,"Short delay should be less than long delay!"),this.isMobile=z()||X()}get(){return BB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(e,t){BC(e.emulator,"Emulator should always be set here");let{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void Bm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void Bm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void Bm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Bk=new Bv(3e4,6e4);function BR(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function BD(e,t,r,n,i={}){return B_(e,i,async()=>{let i={},s={};n&&("GET"===t?s=n:i={body:JSON.stringify(n)});let o=eA(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Bb.fetch()(BN(e,e.config.apiHost,r,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))})}async function B_(e,t,r){e._canInitEmulator=!1;let n=Object.assign(Object.assign({},BS),t);try{let t=new BM(e),i=await Promise.race([r(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw BL(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let[t,r]=(i.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw BL(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw BL(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw BL(e,"user-disabled",s);let o=n[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(r)throw Bf(e,o,r);Bd(e,o)}}catch(t){if(t instanceof er)throw t;Bd(e,"network-request-failed",{message:String(t)})}}async function BT(e,t,r,n,i={}){let s=await BD(e,t,r,n,i);return"mfaPendingCredential"in s&&Bd(e,"multi-factor-auth-required",{_serverResponse:s}),s}function BN(e,t,r,n){let i=`${t}${r}?${n}`;return e.config.emulator?Bw(e.config,i):`${e.config.apiScheme}://${i}`}function BF(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Bg(this.auth,"network-request-failed")),Bk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function BL(e,t,r){let n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);let i=Bg(e,t,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(e){return void 0!==e&&void 0!==e.enterprise}class Bx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BF(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU(e,t){return BD(e,"GET","/v2/recaptchaConfig",BR(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(e,t){return BD(e,"POST","/v1/accounts:delete",t)}async function BJ(e,t){return BD(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function BH(e,t=!1){let r=ef(e),n=await r.getIdToken(t),i=Bj(n);BE(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");let s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:BV(BG(i.auth_time)),issuedAtTime:BV(BG(i.iat)),expirationTime:BV(BG(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function BG(e){return 1e3*Number(e)}function Bj(e){let[t,r,n]=e.split(".");if(void 0===t||void 0===r||void 0===n)return Bh("JWT malformed, contained fewer than 3 sections"),null;try{let e=x(r);if(!e)return Bh("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return Bh("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function BY(e){let t=Bj(e);return BE(t,"internal-error"),BE(void 0!==t.exp,"internal-error"),BE(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BW(e,t,r=!1){if(r)return t;try{return await t}catch(t){throw t instanceof er&&Bq(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function Bq({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=BV(this.lastLoginAt),this.creationTime=BV(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B$(e){var t;let r=e.auth,n=await e.getIdToken(),i=await BW(e,BJ(r,{idToken:n}));BE(null==i?void 0:i.users.length,r,"internal-error");let s=i.users[0];e._notifyReloadListener(s);let o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?B0(s.providerUserInfo):[],a=BZ(e.providerData,o),A=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(null==a?void 0:a.length),c=!!A&&l;Object.assign(e,{uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Bz(s.createdAt,s.lastLoginAt),isAnonymous:c})}async function BX(e){let t=ef(e);await B$(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function BZ(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function B0(e){return e.map(e=>{var{providerId:t}=e,r=Bo(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(e,t){let r=await B_(e,{},async()=>{let r=eA({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:i}=e.config,s=BN(e,n,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Bb.fetch()(s,{method:"POST",headers:o,body:r})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function B2(e,t){return BD(e,"POST","/v2/accounts:revokeToken",BR(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){BE(e.idToken,"internal-error"),BE(void 0!==e.idToken,"internal-error"),BE(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):BY(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return(BE(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:n,expiresIn:i}=await B1(e,t);this.updateTokensAndExpiration(r,n,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){let{refreshToken:r,accessToken:n,expirationTime:i}=t,s=new B4;return r&&(BE("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),n&&(BE("string"==typeof n,"internal-error",{appName:e}),s.accessToken=n),i&&(BE("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new B4,this.toJSON())}_performRefresh(){return Bm("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(e,t){BE("string"==typeof e||void 0===e,"internal-error",{appName:t})}class B3{constructor(e){var{uid:t,auth:r,stsTokenManager:n}=e,i=Bo(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Bz(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await BW(this,this.stsTokenManager.getToken(this.auth,e));return BE(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BH(this,e)}reload(){return BX(this)}_assign(e){this!==e&&(BE(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new B3(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){BE(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await B$(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await BW(this,BP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,n,i,s,o,a,A,l;let c=null!==(r=t.displayName)&&void 0!==r?r:void 0,u=null!==(n=t.email)&&void 0!==n?n:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,d=null!==(s=t.photoURL)&&void 0!==s?s:void 0,g=null!==(o=t.tenantId)&&void 0!==o?o:void 0,f=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,p=null!==(A=t.createdAt)&&void 0!==A?A:void 0,E=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:m,emailVerified:C,isAnonymous:y,providerData:I,stsTokenManager:B}=t;BE(m&&B,e,"internal-error");let Q=B4.fromJSON(this.name,B);BE("string"==typeof m,e,"internal-error"),B5(c,e.name),B5(u,e.name),BE("boolean"==typeof C,e,"internal-error"),BE("boolean"==typeof y,e,"internal-error"),B5(h,e.name),B5(d,e.name),B5(g,e.name),B5(f,e.name),B5(p,e.name),B5(E,e.name);let v=new B3({uid:m,auth:e,email:u,emailVerified:C,displayName:c,isAnonymous:y,photoURL:d,phoneNumber:h,tenantId:g,stsTokenManager:Q,createdAt:p,lastLoginAt:E});return I&&Array.isArray(I)&&(v.providerData=I.map(e=>Object.assign({},e))),f&&(v._redirectEventId=f),v}static async _fromIdTokenResponse(e,t,r=!1){let n=new B4;n.updateFromServerResponse(t);let i=new B3({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:r});return await B$(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B9=new Map;function B8(e){BC(e instanceof Function,"Expected a class definition");let t=B9.get(e);return t?BC(t instanceof e,"Instance stored in cache mismatched with class"):(t=new e,B9.set(e,t)),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}B6.type="NONE";let B7=B6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(e,t,r){return`firebase:${e}:${t}:${r}`}class Qt{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:n,name:i}=this.auth;this.fullUserKey=Qe(this.userKey,n.apiKey,i),this.fullPersistenceKey=Qe("persistence",n.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?B3._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Qt(B8(B7),e,r);let n=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=n[0]||B8(B7),s=Qe(r,e.config.apiKey,e.name),o=null;for(let r of t)try{let t=await r._get(s);if(t){let n=B3._fromJSON(e,t);r!==i&&(o=n),i=r;break}}catch(e){}let a=n.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length&&(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new Qt(i,e,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Qo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";{if(t.includes("edge/"))return"Edge";if(Qn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(QA(t))return"Blackberry";if(Ql(t))return"Webos";if(Qi(t))return"Safari";if((t.includes("chrome/")||Qs(t))&&!t.includes("edge/"))return"Chrome";if(Qa(t))return"Android";let r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function Qn(e=K()){return/firefox\//i.test(e)}function Qi(e=K()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Qs(e=K()){return/crios\//i.test(e)}function Qo(e=K()){return/iemobile/i.test(e)}function Qa(e=K()){return/android/i.test(e)}function QA(e=K()){return/blackberry/i.test(e)}function Ql(e=K()){return/webos/i.test(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(e,t=[]){let r;switch(e){case"Browser":r=Qr(K());break;case"Worker":r=`${Qr(K())}-${e}`;break;default:r=e}let n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${te}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=t=>new Promise((r,n)=>{try{let n=e(t);r(n)}catch(e){n(e)}});r.onAbort=t,this.queue.push(r);let n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(e,t={}){return BD(e,"GET","/v2/passwordPolicy",BR(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd=6;class Qg{constructor(e){var t,r,n,i;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:Qd,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,n,i,s,o;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(r=a.meetsMaxPasswordLength)||void 0===r||r),a.isValid&&(a.isValid=null===(n=a.containsLowercaseLetter)||void 0===n||n),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)r=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,n,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t,r,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QE(this),this.idTokenSubscription=new QE(this),this.beforeStateQueue=new Qu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=B8(t)),this._initializationPromise=this.queue(async()=>{var r,n;if(!this._deleted&&(this.persistenceManager=await Qt.create(this,e),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;let r=await this.assertedPersistence.getCurrentUser(),n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(e);(!r||r===s)&&(null==o?void 0:o.user)&&(n=o.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return(BE(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId)?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await B$(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let t=e?ef(e):null;return t&&BE(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&BE(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(B8(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new Qg(await Qh(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new en("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await B2(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&B8(e)||this._popupRedirectResolver;BE(t,this,"argument-error"),this.redirectPersistenceManager=await Qt.create(this,[B8(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,n){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(BE(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,r,n);return()=>{s=!0,i()}}{let r=e.addObserver(t);return()=>{s=!0,r()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return BE(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&Bu(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function Qp(e){return ef(e)}class QE{constructor(e){this.auth=e,this.observer=null,this.addObserver=eu(e=>this.observer=e)}get next(){return BE(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qm="recaptcha-enterprise",QC="NO_RECAPTCHA";class Qy{constructor(e){this.type=Qm,this.auth=Qp(e)}async verify(e="verify",t=!1){async function r(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,r)=>{BU(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(n=>{if(void 0===n.recaptchaKey)r(Error("recaptcha Enterprise site key undefined"));else{let r=new Bx(n);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,t(r.siteKey)}}).catch(e=>{r(e)})})}function n(t,r,n){let i=window.grecaptcha;BO(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{r(e)}).catch(()=>{r(QC)})}):n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{r(this.auth).then(r=>{if(!t&&BO(window.grecaptcha))n(r,e,i);else{i(Error("RecaptchaVerifier is only supported in browser"));return}}).catch(e=>{i(e)})})}}async function QI(e,t,r,n=!1){let i;let s=new Qy(e);try{i=await s.verify(r)}catch(e){i=await s.verify(r,!0)}let o=Object.assign({},t);return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function QB(e,t,r,n){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i||!i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return n(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await QI(e,t,r,"getOobCode"===r);return n(e,i)}});{let i=await QI(e,t,r,"getOobCode"===r);return n(e,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QQ(e,t){let r=e8(e,"auth");if(r.isInitialized()){let e=r.getImmediate();if(eo(r.getOptions(),null!=t?t:{}))return e;Bd(e,"already-initialized")}return r.initialize({options:t})}function Qv(e,t){let r=(null==t?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(B8);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}function Qw(e,t,r){let n=Qp(e);BE(n._canInitEmulator,n,"emulator-config-failed"),BE(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");let i=!!(null==r?void 0:r.disableWarnings),s=Qb(t),{host:o,port:a}=QS(t),A=null===a?"":`:${a}`;n.config.emulator={url:`${s}//${o}${A}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||QR()}function Qb(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function QS(e){let t=Qb(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};let n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){let e=i[1];return{host:e,port:Qk(n.substr(e.length+1))}}{let[e,t]=n.split(":");return{host:e,port:Qk(t)}}}function Qk(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function QR(){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bm("not implemented")}_getIdTokenResponse(e){return Bm("not implemented")}_linkToIdToken(e,t){return Bm("not implemented")}_getReauthenticationResolver(e){return Bm("not implemented")}}async function Q_(e,t){return BD(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QT(e,t){return BT(e,"POST","/v1/accounts:signInWithPassword",BR(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(e,t){return BT(e,"POST","/v1/accounts:signInWithEmailLink",BR(e,t))}async function QF(e,t){return BT(e,"POST","/v1/accounts:signInWithEmailLink",BR(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM extends QD{constructor(e,t,r,n=null){super("password",r),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new QM(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new QM(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return QB(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",QT);case"emailLink":return QN(e,{email:this._email,oobCode:this._password});default:Bd(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return QB(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Q_);case"emailLink":return QF(e,{idToken:t,email:this._email,oobCode:this._password});default:Bd(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(e,t){return BT(e,"POST","/v1/accounts:signInWithIdp",BR(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QO="http://localhost";class Qx extends QD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new Qx(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bd("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:n}=t,i=Bo(t,["providerId","signInMethod"]);if(!r||!n)return null;let s=new Qx(r,n);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return QL(e,this.buildRequest())}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,QL(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,QL(e,t)}buildRequest(){let e={requestUri:QO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=eA(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(e,t){return BT(e,"POST","/v1/accounts:signInWithPhoneNumber",BR(e,t))}async function QP(e,t){let r=await BT(e,"POST","/v1/accounts:signInWithPhoneNumber",BR(e,t));if(r.temporaryProof)throw BL(e,"account-exists-with-different-credential",r);return r}let QJ={USER_NOT_FOUND:"user-not-found"};async function QV(e,t){return BT(e,"POST","/v1/accounts:signInWithPhoneNumber",BR(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),QJ)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH extends null{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new QH({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new QH({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return QU(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return QP(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return QV(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:n}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:i}=e;return r||t||n||i?new QH({verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:i}):null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QG(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Qj(e){let t=el(ec(e)).link,r=t?el(ec(t)).deep_link_id:null,n=el(ec(e)).deep_link_id;return(n?el(ec(n)).link:null)||n||r||t||e}class QY{constructor(e){var t,r,n,i,s,o;let a=el(ec(e)),A=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(r=a.oobCode)&&void 0!==r?r:null,c=QG(null!==(n=a.mode)&&void 0!==n?n:null);BE(A&&l&&c,"argument-error"),this.apiKey=A,this.operation=c,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){let t=Qj(e);try{return new QY(t)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(){this.providerId=QW.PROVIDER_ID}static credential(e,t){return QM._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let r=QY.parseLink(t);return BE(r,"argument-error"),QM._fromEmailAndCode(e,r.code,r.tenantId)}}QW.PROVIDER_ID="password",QW.EMAIL_PASSWORD_SIGN_IN_METHOD="password",QW.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK extends Qq{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qz extends null{static credentialFromJSON(e){let t="string"==typeof e?JSON.parse(e):e;return BE("providerId"in t&&"signInMethod"in t,"argument-error"),Qx._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return BE(e.idToken||e.accessToken,"argument-error"),Qx._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Qz.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Qz.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:n,pendingToken:i,nonce:s,providerId:o}=e;if(!r&&!n&&!t&&!i||!o)return null;try{return new Qz(o)._credential({idToken:t,accessToken:r,nonce:s,pendingToken:i})}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q$ extends QK{constructor(){super("facebook.com")}static credential(e){return Qx._fromParams({providerId:Q$.PROVIDER_ID,signInMethod:Q$.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Q$.credentialFromTaggedObject(e)}static credentialFromError(e){return Q$.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Q$.credential(e.oauthAccessToken)}catch(e){return null}}}Q$.FACEBOOK_SIGN_IN_METHOD="facebook.com",Q$.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX extends QK{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qx._fromParams({providerId:QX.PROVIDER_ID,signInMethod:QX.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return QX.credentialFromTaggedObject(e)}static credentialFromError(e){return QX.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return QX.credential(t,r)}catch(e){return null}}}QX.GOOGLE_SIGN_IN_METHOD="google.com",QX.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ extends QK{constructor(){super("github.com")}static credential(e){return Qx._fromParams({providerId:QZ.PROVIDER_ID,signInMethod:QZ.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return QZ.credentialFromTaggedObject(e)}static credentialFromError(e){return QZ.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return QZ.credential(e.oauthAccessToken)}catch(e){return null}}}QZ.GITHUB_SIGN_IN_METHOD="github.com",QZ.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q0="http://localhost";class Q1 extends null{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return QL(e,this.buildRequest())}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,QL(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,QL(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let{providerId:t,signInMethod:r,pendingToken:n}="string"==typeof e?JSON.parse(e):e;return t&&r&&n&&t===r?new Q1(t,n):null}static _create(e,t){return new Q1(e,t)}buildRequest(){return{requestUri:Q0,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q2="saml.";class Q4 extends null{constructor(e){BE(e.startsWith(Q2),"argument-error"),super(e)}static credentialFromResult(e){return Q4.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Q4.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let t=Q1.fromJSON(e);return BE(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Q1._create(r,t)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5 extends QK{constructor(){super("twitter.com")}static credential(e,t){return Qx._fromParams({providerId:Q5.PROVIDER_ID,signInMethod:Q5.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Q5.credentialFromTaggedObject(e)}static credentialFromError(e){return Q5.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Q5.credential(t,r)}catch(e){return null}}}Q5.TWITTER_SIGN_IN_METHOD="twitter.com",Q5.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,n=!1){return new Q3({user:await B3._fromIdTokenResponse(e,r,n),providerId:Q9(r),_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){return await e._updateTokensIfNecessary(r,!0),new Q3({user:e,providerId:Q9(r),_tokenResponse:r,operationType:t})}}function Q9(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8 extends null{constructor(e,t,r,n){var i;super(t.code,t.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,Q8.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,n){return new Q8(e,t,r,n)}}function Q6(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(r=>{if("auth/multi-factor-auth-required"===r.code)throw Q8._fromErrorAndOperation(e,r,t,n);throw r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ve._fromServerResponse(e,t):"totpInfo"in t?vt._fromServerResponse(e,t):Bd(e,"internal-error")}}class ve extends null{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ve(t)}}class vt extends null{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new vt(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new vr("enroll",e,t)}static _fromMfaPendingCredential(e){return new vr("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return vr._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(r=e.multiFactorSession)||void 0===r?void 0:r.idToken)return vr._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){let r=Qp(e),n=t.customData._serverResponse,i=(n.mfaInfo||[]).map(e=>Q7._fromServerResponse(r,e));BE(n.mfaPendingCredential,r,"internal-error");let s=vr._fromMfaPendingCredential(n.mfaPendingCredential);return new vn(s,i,async e=>{let i=await e._process(r,s);delete n.mfaInfo,delete n.mfaPendingCredential;let o=Object.assign(Object.assign({},n),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":let a=await Q3._fromIdTokenResponse(r,t.operationType,o);return await r._updateCurrentUser(a.user),a;case"reauthenticate":return BE(t.user,r,"internal-error"),Q3._forOperation(t.user,t.operationType,o);default:Bd(r,"internal-error")}})}async resolveSignIn(e){let t=e;return this.signInResolver(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(e,t){return BD(e,"POST","/v2/accounts/mfaEnrollment:start",BR(e,t))}function vs(e,t){return BD(e,"POST","/v2/accounts/mfaEnrollment:finalize",BR(e,t))}function vo(e,t){return BD(e,"POST","/v2/accounts/mfaEnrollment:withdraw",BR(e,t))}class va{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Q7._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new va(e)}async getSession(){return vr._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){let r=e,n=await this.getSession(),i=await BW(this.user,r._process(this.user.auth,n,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){let t="string"==typeof e?e:e.uid,r=await this.user.getIdToken();try{let e=await BW(this.user,vo(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}}}new WeakMap;var vA="@firebase/auth",vl="1.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){BE(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vh(e){e9(new ep("auth",(t,{options:r})=>{let n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;BE(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});let A=new Qf(n,i,s,{apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qc(e)});return Qv(A,r),A},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),e9(new ep("auth-internal",e=>new vc(Qp(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),ti(vA,vl,vu(e)),ti(vA,vl,"esm2017")}function vd(e=tr()){let t=e8(e,"auth");if(t.isInitialized())return t.getImmediate();let r=QQ(e),n=G("auth");return n&&Qw(r,`http://${n}`),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(e,t){return BD(e,"POST","/v2/accounts/mfaSignIn:finalize",BR(e,t))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bb.initialize(yf.he,yf.Headers,yf.Response),vh("Node"),Bg("operation-not-supported-in-this-environment"),Qf.prototype.setPersistence=async()=>{};class vf{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Bm("unexpected MultiFactorSessionType")}}}class vp{static assertionForEnrollment(e,t){return vE._fromSecret(e,t)}static assertionForSignIn(e,t){return vE._fromEnrollmentId(e,t)}static async generateSecret(e){var t;let r=e;BE(void 0!==(null===(t=r.user)||void 0===t?void 0:t.auth),"internal-error");let n=await vi(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});return vm._fromStartTotpMfaEnrollmentResponse(n,r.user.auth)}}vp.FACTOR_ID="totp";class vE extends vf{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new vE(t,void 0,e)}static _fromEnrollmentId(e,t){return new vE(t,e)}async _finalizeEnroll(e,t,r){return BE(void 0!==this.secret,e,"argument-error"),vs(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){BE(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let r={verificationCode:this.otp};return vg(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class vm{constructor(e,t,r,n,i,s,o){this.sessionInfo=s,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=n,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new vm(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var r;let n=!1;return(vC(e)||vC(t))&&(n=!0),n&&(vC(e)&&(e=(null===(r=this.auth.currentUser)||void 0===r?void 0:r.email)||"unknownuser"),vC(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function vC(e){return void 0===e||(null==e?void 0:e.length)===0}let vy={apiKey:"AIzaSyB0kPDZbO-AD7cZDuAhmsM4-ZYE4-rlq64",authDomain:"elega-c96ed.firebaseapp.com",projectId:"elega-c96ed",storageBucket:"elega-c96ed.appspot.com",messagingSenderId:"431832590700",appId:"1:431832590700:web:6e34f3c53a144e5f61eb49",measurementId:"G-W8GMZRNE1X"},vI=0===tn().length?tt(vy):tn()[0],vB=Cm(vI);Bn(vI),vd(vI);let vQ=R()({providers:[(0,D.Z)({clientId:process.env.LINKEDIN_CLIENT_ID,clientSecret:process.env.LINKEDIN_CLIENT_SECRET,authorization:{params:{scope:"profile email openid"}},issuer:"https://www.linkedin.com",jwks_endpoint:"https://www.linkedin.com/oauth/openid/jwks",profile:async e=>({id:e.sub,name:e.name,firstname:e.given_name,lastname:e.family_name,email:e.email,picture:e.picture})})],adapter:E(vB),callbacks:{session:async({session:e,user:t})=>({...e,user:{...e.user,...t}})}}),vv="",vw=new h.AppRouteRouteModule({definition:{kind:d.x.APP_ROUTE,page:"/api/auth/[...nextauth]/route",pathname:"/api/auth/[...nextauth]",filename:"route",bundlePath:"app/api/auth/[...nextauth]/route"},resolvedPagePath:"/Users/mudit/workspace/staffing/elega/src/app/api/auth/[...nextauth]/route.js",nextConfigOutput:vv,userland:u}),{requestAsyncStorage:vb,staticGenerationAsyncStorage:vS,serverHooks:vk,headerHooks:vR,staticGenerationBailout:vD}=vw,v_="/api/auth/[...nextauth]/route";function vT(){return(0,g.patchFetch)({serverHooks:vk,staticGenerationAsyncStorage:vS})}},76959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addAdminServicesToServer=t.registerAdminService=void 0;let r=[];function n(e,t){r.push({getServiceDefinition:e,getHandlers:t})}function i(e){for(let{getServiceDefinition:t,getHandlers:n}of r)e.addService(t(),n())}t.registerAdminService=n,t.addAdminServicesToServer=i},33339:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackoffTimeout=void 0;let r=1e3,n=1.6,i=12e4,s=.2;function o(e,t){return Math.random()*(t-e)+e}class a{constructor(e,t){this.callback=e,this.initialDelay=r,this.multiplier=n,this.maxDelay=i,this.jitter=s,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var t,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||null===(r=(t=this.timerId).unref)||void 0===r||r.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+o(-t,t)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,null===(t=(e=this.timerId).ref)||void 0===t||t.call(e)}unref(){var e,t;this.hasRef=!1,null===(t=(e=this.timerId).unref)||void 0===t||t.call(e)}getEndTime(){return this.endTime}}t.BackoffTimeout=a},21860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentials=void 0;let n=r(46598);function i(e){return"getRequestHeaders"in e&&"function"==typeof e.getRequestHeaders}class s{static createFromMetadataGenerator(e){return new a(e)}static createFromGoogleCredential(e){return s.createFromMetadataGenerator((t,r)=>{let s;(s=i(e)?e.getRequestHeaders(t.service_url):new Promise((r,n)=>{e.getRequestMetadata(t.service_url,(e,t)=>{if(e){n(e);return}if(!t){n(Error("Headers not set by metadata plugin"));return}r(t)})})).then(e=>{let t=new n.Metadata;for(let r of Object.keys(e))t.add(r,e[r]);r(null,t)},e=>{r(e)})})}static createEmpty(){return new A}}t.CallCredentials=s;class o extends s{constructor(e){super(),this.creds=e}async generateMetadata(e){let t=new n.Metadata;for(let r of(await Promise.all(this.creds.map(t=>t.generateMetadata(e)))))t.merge(r);return t}compose(e){return new o(this.creds.concat([e]))}_equals(e){return this===e||e instanceof o&&this.creds.every((t,r)=>t._equals(e.creds[r]))}}class a extends s{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,r)=>{this.metadataGenerator(e,(e,n)=>{void 0!==n?t(n):r(e)})})}compose(e){return new o([this,e])}_equals(e){return this===e||e instanceof a&&this.metadataGenerator===e.metadataGenerator}}class A extends s{generateMetadata(e){return Promise.resolve(new n.Metadata)}compose(e){return e}_equals(e){return e instanceof A}}},62247:(e,t)=>{"use strict";function r(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length}Object.defineProperty(t,"__esModule",{value:!0}),t.InterceptingListenerImpl=t.isInterceptingListener=void 0,t.isInterceptingListener=r;class n{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,e=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(e),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,e=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=e,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(e),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,e=>{this.processingMetadata||this.processingMessage?this.pendingStatus=e:this.nextListener.onReceiveStatus(e)})}}t.InterceptingListenerImpl=n},4391:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextCallNumber=void 0;let r=0;function n(){return r++}t.getNextCallNumber=n},19238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDuplexStreamImpl=t.ClientWritableStreamImpl=t.ClientReadableStreamImpl=t.ClientUnaryCallImpl=t.callErrorFromStatus=void 0;let n=r(82361),i=r(12781),s=r(88905);function o(e,t){let r=`${e.code} ${s.Status[e.code]}: ${e.details}`,n=Error(r),i=`${n.stack}
for call at
${t}`;return Object.assign(Error(r),e,{stack:i})}t.callErrorFromStatus=o;class a extends n.EventEmitter{constructor(){super()}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}}t.ClientUnaryCallImpl=a;class A extends i.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}}t.ClientReadableStreamImpl=A;class l extends i.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_write(e,t,r){var n;let i={callback:r},s=Number(t);Number.isNaN(s)||(i.flags=s),null===(n=this.call)||void 0===n||n.sendMessageWithContext(i,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientWritableStreamImpl=l;class c extends i.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}_write(e,t,r){var n;let i={callback:r},s=Number(t);Number.isNaN(s)||(i.flags=s),null===(n=this.call)||void 0===n||n.sendMessageWithContext(i,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientDuplexStreamImpl=c},69473:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelCredentials=void 0;let n=r(24404),i=r(21860),s=r(6337);function o(e,t){if(e&&!(e instanceof Buffer))throw TypeError(`${t}, if provided, must be a Buffer.`)}class a{constructor(e){this.callCredentials=e||i.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,i){var a;if(o(e,"Root certificate"),o(t,"Private key"),o(r,"Certificate chain"),t&&!r)throw Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw Error("Certificate chain must be given with accompanying private key");return new l((0,n.createSecureContext)({ca:null!==(a=null!=e?e:(0,s.getDefaultRootsData)())&&void 0!==a?a:void 0,key:null!=t?t:void 0,cert:null!=r?r:void 0,ciphers:s.CIPHER_SUITES}),null!=i?i:{})}static createFromSecureContext(e,t){return new l(e,null!=t?t:{})}static createInsecure(){return new A}}t.ChannelCredentials=a;class A extends a{constructor(e){super(e)}compose(e){throw Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof A}}class l extends a{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},(null==t?void 0:t.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){return new c(this,this.callCredentials.compose(e))}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e||e instanceof l&&this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity}}class c extends a{constructor(e,t){super(t),this.channelCredentials=e}compose(e){let t=this.callCredentials.compose(e);return new c(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e||e instanceof c&&this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials)}}},8007:(e,t)=>{"use strict";function r(e,t){let r=Object.keys(e).sort(),n=Object.keys(t).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i+=1)if(r[i]!==n[i]||e[r[i]]!==t[n[i]])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.channelOptionsEqual=t.recognizedOptions=void 0,t.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0},t.channelOptionsEqual=r},45835:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelImplementation=void 0;let n=r(69473),i=r(95263);class s{constructor(e,t,r){if("string"!=typeof e)throw TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw TypeError("Channel options must be an object");this.internalChannel=new i.InternalChannel(e,t,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,r){this.internalChannel.watchConnectivityState(e,t,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,r,n,i){if("string"!=typeof e)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,r,n,i)}}t.ChannelImplementation=s},14174:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.getChannelzServiceDefinition=t.getChannelzHandlers=t.unregisterChannelzRef=t.registerChannelzSocket=t.registerChannelzServer=t.registerChannelzSubchannel=t.registerChannelzChannel=t.ChannelzCallTracker=t.ChannelzChildrenTracker=t.ChannelzTrace=void 0;let n=r(41808),i=r(75199),s=r(88905),o=r(50476),a=r(76959),A=r(42900);function l(e){return{channel_id:e.id,name:e.name}}function c(e){return{subchannel_id:e.id,name:e.name}}function u(e){return{server_id:e.id}}function h(e){return{socket_id:e.id,name:e.name}}let d=32;class g{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,r){let n=new Date;this.events.push({description:t,severity:e,timestamp:n,childChannel:(null==r?void 0:r.kind)==="channel"?r:void 0,childSubchannel:(null==r?void 0:r.kind)==="subchannel"?r:void 0}),this.events.length>=2*d&&(this.events=this.events.slice(d)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:T(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:T(e.timestamp),channel_ref:e.childChannel?l(e.childChannel):null,subchannel_ref:e.childSubchannel?c(e.childSubchannel):null}))}}}t.ChannelzTrace=g;class f{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(e){var t,r,n;switch(e.kind){case"channel":{let r=null!==(t=this.channelChildren.get(e.id))&&void 0!==t?t:{ref:e,count:0};r.count+=1,this.channelChildren.set(e.id,r);break}case"subchannel":{let t=null!==(r=this.subchannelChildren.get(e.id))&&void 0!==r?r:{ref:e,count:0};t.count+=1,this.subchannelChildren.set(e.id,t);break}case"socket":{let t=null!==(n=this.socketChildren.get(e.id))&&void 0!==n?n:{ref:e,count:0};t.count+=1,this.socketChildren.set(e.id,t)}}}unrefChild(e){switch(e.kind){case"channel":{let t=this.channelChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.channelChildren.delete(e.id):this.channelChildren.set(e.id,t));break}case"subchannel":{let t=this.subchannelChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.subchannelChildren.delete(e.id):this.subchannelChildren.set(e.id,t));break}case"socket":{let t=this.socketChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.socketChildren.delete(e.id):this.socketChildren.set(e.id,t))}}}getChildLists(){let e=[];for(let{ref:t}of this.channelChildren.values())e.push(t);let t=[];for(let{ref:e}of this.subchannelChildren.values())t.push(e);let r=[];for(let{ref:e}of this.socketChildren.values())r.push(e);return{channels:e,subchannels:t,sockets:r}}}t.ChannelzChildrenTracker=f;class p{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}t.ChannelzCallTracker=p;let E=1;function m(){return E++}let C=[],y=[],I=[],B=[];function Q(e,t,r){let n=m(),i={id:n,name:e,kind:"channel"};return r&&(C[n]={ref:i,getInfo:t}),i}function v(e,t,r){let n=m(),i={id:n,name:e,kind:"subchannel"};return r&&(y[n]={ref:i,getInfo:t}),i}function w(e,t){let r=m(),n={id:r,kind:"server"};return t&&(I[r]={ref:n,getInfo:e}),n}function b(e,t,r){let n=m(),i={id:n,name:e,kind:"socket"};return r&&(B[n]={ref:i,getInfo:t}),i}function S(e){switch(e.kind){case"channel":delete C[e.id];return;case"subchannel":delete y[e.id];return;case"server":delete I[e.id];return;case"socket":delete B[e.id];return}}function k(e){let t=Number.parseInt(e,16);return[t/256|0,t%256]}function R(e){return""===e?[]:[].concat(...e.split(":").map(e=>k(e)))}function D(e){if((0,n.isIPv4)(e))return Buffer.from(Uint8Array.from(e.split(".").map(e=>Number.parseInt(e))));if(!(0,n.isIPv6)(e))return null;{let t,r;let n=e.indexOf("::");-1===n?(t=e,r=""):(t=e.substring(0,n),r=e.substring(n+2));let i=Buffer.from(R(t)),s=Buffer.from(R(r)),o=Buffer.alloc(16-i.length-s.length,0);return Buffer.concat([i,o,s])}}function _(e){switch(e){case i.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case i.ConnectivityState.IDLE:return{state:"IDLE"};case i.ConnectivityState.READY:return{state:"READY"};case i.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case i.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function T(e){if(!e)return null;let t=e.getTime();return{seconds:t/1e3|0,nanos:t%1e3*1e6}}function N(e){let t=e.getInfo();return{ref:l(e.ref),data:{target:t.target,state:_(t.state),calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:T(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},channel_ref:t.children.channels.map(e=>l(e)),subchannel_ref:t.children.subchannels.map(e=>c(e))}}function F(e,t){let r=Number.parseInt(e.request.channel_id),n=C[r];if(void 0===n){t({code:s.Status.NOT_FOUND,details:"No channel data found for id "+r});return}t(null,{channel:N(n)})}function M(e,t){let r=Number.parseInt(e.request.max_results),n=[],i=Number.parseInt(e.request.start_channel_id);for(;i<C.length;i++){let e=C[i];if(void 0!==e&&(n.push(N(e)),n.length>=r))break}t(null,{channel:n,end:i>=I.length})}function L(e){let t=e.getInfo();return{ref:u(e.ref),data:{calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:T(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},listen_socket:t.listenerChildren.sockets.map(e=>h(e))}}function O(e,t){let r=Number.parseInt(e.request.server_id),n=I[r];if(void 0===n){t({code:s.Status.NOT_FOUND,details:"No server data found for id "+r});return}t(null,{server:L(n)})}function x(e,t){let r=Number.parseInt(e.request.max_results),n=[],i=Number.parseInt(e.request.start_server_id);for(;i<I.length;i++){let e=I[i];if(void 0!==e&&(n.push(L(e)),n.length>=r))break}t(null,{server:n,end:i>=I.length})}function U(e,t){let r=Number.parseInt(e.request.subchannel_id),n=y[r];if(void 0===n){t({code:s.Status.NOT_FOUND,details:"No subchannel data found for id "+r});return}let i=n.getInfo();t(null,{subchannel:{ref:c(n.ref),data:{target:i.target,state:_(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:T(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:i.children.sockets.map(e=>h(e))}})}function P(e){var t;return(0,o.isTcpSubchannelAddress)(e)?{address:"tcpip_address",tcpip_address:{ip_address:null!==(t=D(e.host))&&void 0!==t?t:void 0,port:e.port}}:{address:"uds_address",uds_address:{filename:e.path}}}function J(e,t){var r,n,i,o,a;let A=Number.parseInt(e.request.socket_id),l=B[A];if(void 0===l){t({code:s.Status.NOT_FOUND,details:"No socket data found for id "+A});return}let c=l.getInfo(),u=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!==(r=c.security.cipherSuiteStandardName)&&void 0!==r?r:void 0,other_name:null!==(n=c.security.cipherSuiteOtherName)&&void 0!==n?n:void 0,local_certificate:null!==(i=c.security.localCertificate)&&void 0!==i?i:void 0,remote_certificate:null!==(o=c.security.remoteCertificate)&&void 0!==o?o:void 0}}:null;t(null,{socket:{ref:h(l.ref),local:c.localAddress?P(c.localAddress):null,remote:c.remoteAddress?P(c.remoteAddress):null,remote_name:null!==(a=c.remoteName)&&void 0!==a?a:void 0,security:u,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:T(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:T(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:T(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:T(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}}})}function V(e,t){let r=Number.parseInt(e.request.server_id),n=I[r];if(void 0===n){t({code:s.Status.NOT_FOUND,details:"No server data found for id "+r});return}let i=Number.parseInt(e.request.start_socket_id),o=Number.parseInt(e.request.max_results),a=n.getInfo().sessionChildren.sockets.sort((e,t)=>e.id-t.id),A=[],l=0;for(;l<a.length&&(!(a[l].id>=i)||(A.push(h(a[l])),!(A.length>=o)));l++);t(null,{socket_ref:A,end:l>=a.length})}function H(){return{GetChannel:F,GetTopChannels:M,GetServer:O,GetServers:x,GetSubchannel:U,GetSocket:J,GetServerSockets:V}}t.registerChannelzChannel=Q,t.registerChannelzSubchannel=v,t.registerChannelzServer=w,t.registerChannelzSocket=b,t.unregisterChannelzRef=S,t.getChannelzHandlers=H;let G=null;function j(){if(G)return G;let e=(0,r(64663).J_)("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return G=(0,A.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service}function Y(){(0,a.registerAdminService)(j,H)}t.getChannelzServiceDefinition=j,t.setup=Y},53811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterceptingCall=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.InterceptorConfigurationError=void 0;let n=r(46598),i=r(62247),s=r(88905),o=r(17025);class a extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,a)}}t.InterceptorConfigurationError=a;class A{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}t.ListenerBuilder=A;class l{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}t.RequesterBuilder=l;let c={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}},u={start:(e,t,r)=>{r(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};class h{constructor(e,t){var r,n,i,s;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:null!==(r=t.start)&&void 0!==r?r:u.start,sendMessage:null!==(n=t.sendMessage)&&void 0!==n?n:u.sendMessage,halfClose:null!==(i=t.halfClose)&&void 0!==i?i:u.halfClose,cancel:null!==(s=t.cancel)&&void 0!==s?s:u.cancel}:this.requester=u}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var r,n,s,o,a,A;let l={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:null!==(o=null===(s=null==t?void 0:t.onReceiveMessage)||void 0===s?void 0:s.bind(t))&&void 0!==o?o:e=>{},onReceiveStatus:null!==(A=null===(a=null==t?void 0:t.onReceiveStatus)||void 0===a?void 0:a.bind(t))&&void 0!==A?A:e=>{}};this.processingMetadata=!0,this.requester.start(e,l,(e,t)=>{var r,n,s;let o;if(this.processingMetadata=!1,(0,i.isInterceptingListener)(t))o=t;else{let e={onReceiveMetadata:null!==(r=t.onReceiveMetadata)&&void 0!==r?r:c.onReceiveMetadata,onReceiveMessage:null!==(n=t.onReceiveMessage)&&void 0!==n?n:c.onReceiveMessage,onReceiveStatus:null!==(s=t.onReceiveStatus)&&void 0!==s?s:c.onReceiveStatus};o=new i.InterceptingListenerImpl(e,l)}this.nextCall.start(e,o),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}}function d(e,t,r){var n,i;let s=null!==(n=r.deadline)&&void 0!==n?n:1/0,o=r.host,a=null!==(i=r.parent)&&void 0!==i?i:null,A=r.propagate_flags,l=r.credentials,c=e.createCall(t,s,o,a,A);return l&&c.setCredentials(l),c}t.InterceptingCall=h;class g{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(e){this.call.cancelWithStatus(s.Status.INTERNAL,`Request message serialization failure: ${(0,o.getErrorMessage)(e)}`);return}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:e=>{var r;null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r||r.call(t,e)},onReceiveMessage:e=>{var i;let a;try{a=this.methodDefinition.responseDeserialize(e)}catch(e){r={code:s.Status.INTERNAL,details:`Response message parsing error: ${(0,o.getErrorMessage)(e)}`,metadata:new n.Metadata},this.call.cancelWithStatus(r.code,r.details);return}null===(i=null==t?void 0:t.onReceiveMessage)||void 0===i||i.call(t,a)},onReceiveStatus:e=>{var n,i;r?null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,r):null===(i=null==t?void 0:t.onReceiveStatus)||void 0===i||i.call(t,e)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class f extends g{constructor(e,t){super(e,t)}start(e,t){var r,n;let i=!1,s={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:e=>{var r;i=!0,null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,e)},onReceiveStatus:e=>{var r,n;i||null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,null),null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,e)}};super.start(e,s),this.call.startRead()}}class p extends g{}function E(e,t,r){let n=d(e,r.path,t);return r.responseStream?new p(n,r):new f(n,r)}function m(e,t,r,n){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0)throw new a("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0)throw new a("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];i=e.callInterceptors.length>0||e.callInterceptorProviders.length>0?[].concat(e.callInterceptors,e.callInterceptorProviders.map(e=>e(t))).filter(e=>e):[].concat(e.clientInterceptors,e.clientInterceptorProviders.map(e=>e(t))).filter(e=>e);let s=Object.assign({},r,{method_definition:t});return i.reduceRight((e,t)=>r=>t(r,e),e=>E(n,e,t))(s)}t.getInterceptingCall=m},10526:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;let n=r(19238),i=r(45835),s=r(75199),o=r(88905),a=r(46598),A=r(53811),l=Symbol(),c=Symbol(),u=Symbol(),h=Symbol();function d(e){return"function"==typeof e}function g(e){return e.stack.split("\n").slice(1).join("\n")}class f{constructor(e,t,r={}){var n,s;if(r=Object.assign({},r),this[c]=null!==(n=r.interceptors)&&void 0!==n?n:[],delete r.interceptors,this[u]=null!==(s=r.interceptor_providers)&&void 0!==s?s:[],delete r.interceptor_providers,this[c].length>0&&this[u].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[h]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[l]=r.channelOverride;else if(r.channelFactoryOverride){let n=r.channelFactoryOverride;delete r.channelFactoryOverride,this[l]=n(e,t,r)}else this[l]=new i.ChannelImplementation(e,t,r)}close(){this[l].close()}getChannel(){return this[l]}waitForReady(e,t){let r=n=>{let i;if(n){t(Error("Failed to connect before the deadline"));return}try{i=this[l].getConnectivityState(!0)}catch(e){t(Error("The channel has been closed"));return}if(i===s.ConnectivityState.READY)t();else try{this[l].watchConnectivityState(i,e,r)}catch(e){t(Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(d(e))return{metadata:new a.Metadata,options:{},callback:e};if(d(t))return e instanceof a.Metadata?{metadata:e,options:{},callback:t}:{metadata:new a.Metadata,options:e,callback:t};if(!(e instanceof a.Metadata&&t instanceof Object&&d(r)))throw Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,i,s,a,d){var f,p;let E=this.checkOptionalUnaryResponseArguments(s,a,d),m={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r},C={argument:i,metadata:E.metadata,call:new n.ClientUnaryCallImpl,channel:this[l],methodDefinition:m,callOptions:E.options,callback:E.callback};this[h]&&(C=this[h](C));let y=C.call,I={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(f=C.callOptions.interceptors)&&void 0!==f?f:[],callInterceptorProviders:null!==(p=C.callOptions.interceptor_providers)&&void 0!==p?p:[]},B=(0,A.getInterceptingCall)(I,C.methodDefinition,C.callOptions,C.channel);y.call=B;let Q=null,v=!1,w=Error();return B.start(C.metadata,{onReceiveMetadata:e=>{y.emit("metadata",e)},onReceiveMessage(e){null!==Q&&B.cancelWithStatus(o.Status.INTERNAL,"Too many responses received"),Q=e},onReceiveStatus(e){if(!v){if(v=!0,e.code===o.Status.OK){if(null===Q){let t=g(w);C.callback((0,n.callErrorFromStatus)({code:o.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else C.callback(null,Q)}else{let t=g(w);C.callback((0,n.callErrorFromStatus)(e,t))}w=null,y.emit("status",e)}}}),B.sendMessage(i),B.halfClose(),y}makeClientStreamRequest(e,t,r,i,s,a){var d,f;let p=this.checkOptionalUnaryResponseArguments(i,s,a),E={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r},m={metadata:p.metadata,call:new n.ClientWritableStreamImpl(t),channel:this[l],methodDefinition:E,callOptions:p.options,callback:p.callback};this[h]&&(m=this[h](m));let C=m.call,y={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(d=m.callOptions.interceptors)&&void 0!==d?d:[],callInterceptorProviders:null!==(f=m.callOptions.interceptor_providers)&&void 0!==f?f:[]},I=(0,A.getInterceptingCall)(y,m.methodDefinition,m.callOptions,m.channel);C.call=I;let B=null,Q=!1,v=Error();return I.start(m.metadata,{onReceiveMetadata:e=>{C.emit("metadata",e)},onReceiveMessage(e){null!==B&&I.cancelWithStatus(o.Status.INTERNAL,"Too many responses received"),B=e},onReceiveStatus(e){if(!Q){if(Q=!0,e.code===o.Status.OK){if(null===B){let t=g(v);m.callback((0,n.callErrorFromStatus)({code:o.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else m.callback(null,B)}else{let t=g(v);m.callback((0,n.callErrorFromStatus)(e,t))}v=null,C.emit("status",e)}}}),C}checkMetadataAndOptions(e,t){let r,n;return e instanceof a.Metadata?(r=e,n=t||{}):(n=e||{},r=new a.Metadata),{metadata:r,options:n}}makeServerStreamRequest(e,t,r,i,s,a){var d,f;let p=this.checkMetadataAndOptions(s,a),E={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r},m={argument:i,metadata:p.metadata,call:new n.ClientReadableStreamImpl(r),channel:this[l],methodDefinition:E,callOptions:p.options};this[h]&&(m=this[h](m));let C=m.call,y={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(d=m.callOptions.interceptors)&&void 0!==d?d:[],callInterceptorProviders:null!==(f=m.callOptions.interceptor_providers)&&void 0!==f?f:[]},I=(0,A.getInterceptingCall)(y,m.methodDefinition,m.callOptions,m.channel);C.call=I;let B=!1,Q=Error();return I.start(m.metadata,{onReceiveMetadata(e){C.emit("metadata",e)},onReceiveMessage(e){C.push(e)},onReceiveStatus(e){if(!B){if(B=!0,C.push(null),e.code!==o.Status.OK){let t=g(Q);C.emit("error",(0,n.callErrorFromStatus)(e,t))}Q=null,C.emit("status",e)}}}),I.sendMessage(i),I.halfClose(),C}makeBidiStreamRequest(e,t,r,i,s){var a,d;let f=this.checkMetadataAndOptions(i,s),p={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r},E={metadata:f.metadata,call:new n.ClientDuplexStreamImpl(t,r),channel:this[l],methodDefinition:p,callOptions:f.options};this[h]&&(E=this[h](E));let m=E.call,C={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(a=E.callOptions.interceptors)&&void 0!==a?a:[],callInterceptorProviders:null!==(d=E.callOptions.interceptor_providers)&&void 0!==d?d:[]},y=(0,A.getInterceptingCall)(C,E.methodDefinition,E.callOptions,E.channel);m.call=y;let I=!1,B=Error();return y.start(E.metadata,{onReceiveMetadata(e){m.emit("metadata",e)},onReceiveMessage(e){m.push(e)},onReceiveStatus(e){if(!I){if(I=!0,m.push(null),e.code!==o.Status.OK){let t=g(B);m.emit("error",(0,n.callErrorFromStatus)(e,t))}B=null,m.emit("status",e)}}}),m}}t.Client=f},55202:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionAlgorithms=void 0,function(e){e[e.identity=0]="identity",e[e.deflate=1]="deflate",e[e.gzip=2]="gzip"}(r||(t.CompressionAlgorithms=r={}))},34535:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionFilterFactory=t.CompressionFilter=void 0;let n=r(59796),i=r(55202),s=r(88905),o=r(47215),a=r(14386),A=e=>"number"==typeof e&&"string"==typeof i.CompressionAlgorithms[e];class l{async writeMessage(e,t){let r=e;t&&(r=await this.compressMessage(r));let n=Buffer.allocUnsafe(r.length+5);return n.writeUInt8(t?1:0,0),n.writeUInt32BE(r.length,1),r.copy(n,5),n}async readMessage(e){let t=1===e.readUInt8(0),r=e.slice(5);return t&&(r=await this.decompressMessage(r)),r}}class c extends l{async compressMessage(e){return e}async writeMessage(e,t){let r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r}decompressMessage(e){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}}class u extends l{compressMessage(e){return new Promise((t,r)=>{n.deflate(e,(e,n)=>{e?r(e):t(n)})})}decompressMessage(e){return new Promise((t,r)=>{n.inflate(e,(e,n)=>{e?r(e):t(n)})})}}class h extends l{compressMessage(e){return new Promise((t,r)=>{n.gzip(e,(e,n)=>{e?r(e):t(n)})})}decompressMessage(e){return new Promise((t,r)=>{n.unzip(e,(e,n)=>{e?r(e):t(n)})})}}class d extends l{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}}function g(e){switch(e){case"identity":return new c;case"deflate":return new u;case"gzip":return new h;default:return new d(e)}}class f extends o.BaseFilter{constructor(e,t){var r;super(),this.sharedFilterConfig=t,this.sendCompression=new c,this.receiveCompression=new c,this.currentCompressionAlgorithm="identity";let n=e["grpc.default_compression_algorithm"];if(void 0!==n){if(A(n)){let e=i.CompressionAlgorithms[n],s=null===(r=t.serverSupportedEncodingHeader)||void 0===r?void 0:r.split(",");(!s||s.includes(e))&&(this.currentCompressionAlgorithm=e,this.sendCompression=g(this.currentCompressionAlgorithm))}else a.log(s.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${n}`)}}async sendMetadata(e){let t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let e=t[0];"string"==typeof e&&(this.receiveCompression=g(e))}e.remove("grpc-encoding");let r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new c,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var t;let r;let n=await e;return r=!(this.sendCompression instanceof c)&&((null!==(t=n.flags)&&void 0!==t?t:0)&2)==0,{message:await this.sendCompression.writeMessage(n.message,r),flags:n.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=f;class p{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new f(this.options,this.sharedFilterConfig)}}t.CompressionFilterFactory=p},75199:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectivityState=void 0,function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.READY=2]="READY",e[e.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",e[e.SHUTDOWN=4]="SHUTDOWN"}(r||(t.ConnectivityState=r={}))},88905:(e,t)=>{"use strict";var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=t.Propagate=t.LogVerbosity=t.Status=void 0,function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(r||(t.Status=r={})),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.ERROR=2]="ERROR",e[e.NONE=3]="NONE"}(n||(t.LogVerbosity=n={})),function(e){e[e.DEADLINE=1]="DEADLINE",e[e.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",e[e.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",e[e.CANCELLATION=8]="CANCELLATION",e[e.DEFAULTS=65535]="DEFAULTS"}(i||(t.Propagate=i={})),t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},36648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restrictControlPlaneStatusCode=void 0;let n=r(88905),i=[n.Status.OK,n.Status.INVALID_ARGUMENT,n.Status.NOT_FOUND,n.Status.ALREADY_EXISTS,n.Status.FAILED_PRECONDITION,n.Status.ABORTED,n.Status.OUT_OF_RANGE,n.Status.DATA_LOSS];function s(e,t){return i.includes(e)?{code:n.Status.INTERNAL,details:`Invalid status from control plane: ${e} ${n.Status[e]} ${t}`}:{code:e,details:t}}t.restrictControlPlaneStatusCode=s},93117:(e,t)=>{"use strict";function r(...e){let t=1/0;for(let r of e){let e=r instanceof Date?r.getTime():r;e<t&&(t=e)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.deadlineToString=t.getRelativeTimeout=t.getDeadlineTimeoutString=t.minDeadline=void 0,t.minDeadline=r;let n=[["m",1],["S",1e3],["M",6e4],["H",36e5]];function i(e){let t=new Date().getTime();e instanceof Date&&(e=e.getTime());let r=Math.max(e-t,0);for(let[e,t]of n){let n=r/t;if(n<1e8)return String(Math.ceil(n))+e}throw Error("Deadline is too far in the future")}t.getDeadlineTimeoutString=i;let s=2147483647;function o(e){let t=(e instanceof Date?e.getTime():e)-new Date().getTime();return t<0?0:t>s?1/0:t}function a(e){if(e instanceof Date)return e.toISOString();{let t=new Date(e);return Number.isNaN(t.getTime())?""+e:t.toISOString()}}t.getRelativeTimeout=o,t.deadlineToString=a},95292:(e,t)=>{"use strict";function r(e){return{seconds:e/1e3|0,nanos:e%1e3*1e6|0}}function n(e){return 1e3*e.seconds+e.nanos/1e6|0}function i(e){return"number"==typeof e.seconds&&"number"==typeof e.nanos}Object.defineProperty(t,"__esModule",{value:!0}),t.isDuration=t.durationToMs=t.msToDuration=void 0,t.msToDuration=r,t.durationToMs=n,t.isDuration=i},17025:(e,t)=>{"use strict";function r(e){return e instanceof Error?e.message:String(e)}function n(e){return"object"==typeof e&&null!==e&&"code"in e&&"number"==typeof e.code?e.code:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.getErrorMessage=void 0,t.getErrorMessage=r,t.getErrorCode=n},26614:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutlierDetectionLoadBalancingConfig=t.BaseSubchannelWrapper=t.registerAdminService=t.FilterStackFactory=t.BaseFilter=t.PickResultType=t.QueuePicker=t.UnavailablePicker=t.ChildLoadBalancerHandler=t.subchannelAddressToString=t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.registerLoadBalancerType=t.createChildChannelControlHelper=t.BackoffTimeout=t.durationToMs=t.uriToString=t.createResolver=t.registerResolver=t.log=t.trace=void 0;var n=r(14386);Object.defineProperty(t,"trace",{enumerable:!0,get:function(){return n.trace}}),Object.defineProperty(t,"log",{enumerable:!0,get:function(){return n.log}});var i=r(25361);Object.defineProperty(t,"registerResolver",{enumerable:!0,get:function(){return i.registerResolver}}),Object.defineProperty(t,"createResolver",{enumerable:!0,get:function(){return i.createResolver}});var s=r(76228);Object.defineProperty(t,"uriToString",{enumerable:!0,get:function(){return s.uriToString}});var o=r(95292);Object.defineProperty(t,"durationToMs",{enumerable:!0,get:function(){return o.durationToMs}});var a=r(33339);Object.defineProperty(t,"BackoffTimeout",{enumerable:!0,get:function(){return a.BackoffTimeout}});var A=r(82728);Object.defineProperty(t,"createChildChannelControlHelper",{enumerable:!0,get:function(){return A.createChildChannelControlHelper}}),Object.defineProperty(t,"registerLoadBalancerType",{enumerable:!0,get:function(){return A.registerLoadBalancerType}}),Object.defineProperty(t,"getFirstUsableConfig",{enumerable:!0,get:function(){return A.getFirstUsableConfig}}),Object.defineProperty(t,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return A.validateLoadBalancingConfig}});var l=r(50476);Object.defineProperty(t,"subchannelAddressToString",{enumerable:!0,get:function(){return l.subchannelAddressToString}});var c=r(50868);Object.defineProperty(t,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return c.ChildLoadBalancerHandler}});var u=r(73184);Object.defineProperty(t,"UnavailablePicker",{enumerable:!0,get:function(){return u.UnavailablePicker}}),Object.defineProperty(t,"QueuePicker",{enumerable:!0,get:function(){return u.QueuePicker}}),Object.defineProperty(t,"PickResultType",{enumerable:!0,get:function(){return u.PickResultType}});var h=r(47215);Object.defineProperty(t,"BaseFilter",{enumerable:!0,get:function(){return h.BaseFilter}});var d=r(26846);Object.defineProperty(t,"FilterStackFactory",{enumerable:!0,get:function(){return d.FilterStackFactory}});var g=r(76959);Object.defineProperty(t,"registerAdminService",{enumerable:!0,get:function(){return g.registerAdminService}});var f=r(55074);Object.defineProperty(t,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return f.BaseSubchannelWrapper}});var p=r(98583);Object.defineProperty(t,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return p.OutlierDetectionLoadBalancingConfig}})},26846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterStackFactory=t.FilterStack=void 0;class r{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMessage(t);return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}}t.FilterStack=r;class n{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new n([...this.factories])}createFilter(){return new r(this.factories.map(e=>e.createFilter()))}}t.FilterStackFactory=n},47215:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFilter=void 0;class r{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}t.BaseFilter=r},29347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProxiedConnection=t.mapProxyName=void 0;let n=r(14386),i=r(88905),s=r(25361),o=r(13685),a=r(24404),A=r(14386),l=r(50476),c=r(76228),u=r(57310),h=r(89041),d="proxy";function g(e){A.trace(i.LogVerbosity.DEBUG,d,e)}function f(){let e,t="",r="";if(process.env.grpc_proxy)r="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)r="https_proxy",t=process.env.https_proxy;else{if(!process.env.http_proxy)return{};r="http_proxy",t=process.env.http_proxy}try{e=new u.URL(t)}catch(e){return(0,n.log)(i.LogVerbosity.ERROR,`cannot parse value of "${r}" env var`),{}}if("http:"!==e.protocol)return(0,n.log)(i.LogVerbosity.ERROR,`"${e.protocol}" scheme not supported in proxy URI`),{};let s=null;e.username&&(e.password?((0,n.log)(i.LogVerbosity.INFO,"userinfo found in proxy URI"),s=`${e.username}:${e.password}`):s=e.username);let o=e.hostname,a=e.port;""===a&&(a="80");let A={address:`${o}:${a}`};return s&&(A.creds=s),g("Proxy server "+A.address+" set by environment variable "+r),A}function p(){let e=process.env.no_grpc_proxy,t="no_grpc_proxy";return(e||(e=process.env.no_proxy,t="no_proxy"),e)?(g("No proxy server list set by environment variable "+t),e.split(",")):[]}function E(e,t){var r;let n={target:e,extraOptions:{}};if((null!==(r=t["grpc.enable_http_proxy"])&&void 0!==r?r:1)===0||"unix"===e.scheme)return n;let i=f();if(!i.address)return n;let s=(0,c.splitHostPort)(e.path);if(!s)return n;let o=s.host;for(let t of p())if(t===o)return g("Not using proxy for target in no_proxy list: "+(0,c.uriToString)(e)),n;let a={"grpc.http_connect_target":(0,c.uriToString)(e)};return i.creds&&(a["grpc.http_connect_creds"]=i.creds),{target:{scheme:"dns",path:i.address},extraOptions:a}}function m(e,t,r){var A;if(!("grpc.http_connect_target"in t))return Promise.resolve({});let u=t["grpc.http_connect_target"],d=(0,c.parseUri)(u);if(null===d)return Promise.resolve({});let f=(0,c.splitHostPort)(d.path);if(null===f)return Promise.resolve({});let p=`${f.host}:${null!==(A=f.port)&&void 0!==A?A:h.DEFAULT_PORT}`,E={method:"CONNECT",path:p},m={Host:p};(0,l.isTcpSubchannelAddress)(e)?(E.host=e.host,E.port=e.port):E.socketPath=e.path,"grpc.http_connect_creds"in t&&(m["Proxy-Authorization"]="Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")),E.headers=m;let C=(0,l.subchannelAddressToString)(e);return g("Using proxy "+C+" to connect to "+E.path),new Promise((e,t)=>{let A=o.request(E);A.once("connect",(o,l,u)=>{var h;if(A.removeAllListeners(),l.removeAllListeners(),200===o.statusCode){if(g("Successfully connected to "+E.path+" through proxy "+C),"secureContext"in r){let n=(0,s.getDefaultAuthority)(d),i=(0,c.splitHostPort)(n),o=null!==(h=null==i?void 0:i.host)&&void 0!==h?h:n,A=a.connect(Object.assign({host:o,servername:o,socket:l},r),()=>{g("Successfully established a TLS connection to "+E.path+" through proxy "+C),e({socket:A,realTarget:d})});A.on("error",e=>{g("Failed to establish a TLS connection to "+E.path+" through proxy "+C+" with error "+e.message),t()})}else g("Successfully established a plaintext connection to "+E.path+" through proxy "+C),e({socket:l,realTarget:d})}else(0,n.log)(i.LogVerbosity.ERROR,"Failed to connect to "+E.path+" through proxy "+C+" with status "+o.statusCode),t()}),A.once("error",e=>{A.removeAllListeners(),(0,n.log)(i.LogVerbosity.ERROR,"Failed to connect to proxy "+C+" with error "+e.message),t()}),A.end()})}t.mapProxyName=E,t.getProxiedConnection=m},88388:(e,t,r)=>{"use strict";p={value:!0},p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=p=void 0;let n=r(21860);p={enumerable:!0,get:function(){return n.CallCredentials}};let i=r(45835);p={enumerable:!0,get:function(){return i.ChannelImplementation}};let s=r(55202);p={enumerable:!0,get:function(){return s.CompressionAlgorithms}};let o=r(75199);p={enumerable:!0,get:function(){return o.ConnectivityState}};let a=r(69473);p={enumerable:!0,get:function(){return a.ChannelCredentials}};let A=r(10526);p={enumerable:!0,get:function(){return A.Client}};let l=r(88905);p={enumerable:!0,get:function(){return l.LogVerbosity}},p={enumerable:!0,get:function(){return l.Status}},p={enumerable:!0,get:function(){return l.Propagate}};let c=r(14386),u=r(42900);p={enumerable:!0,get:function(){return u.loadPackageDefinition}},p={enumerable:!0,get:function(){return u.makeClientConstructor}},p={enumerable:!0,get:function(){return u.makeClientConstructor}};let h=r(46598);p={enumerable:!0,get:function(){return h.Metadata}};let d=r(41798);p={enumerable:!0,get:function(){return d.Server}};let g=r(14288);p={enumerable:!0,get:function(){return g.ServerCredentials}};let f=r(71192);p={enumerable:!0,get:function(){return f.StatusBuilder}},p={combineChannelCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),combineCallCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),createInsecure:a.ChannelCredentials.createInsecure,createSsl:a.ChannelCredentials.createSsl,createFromSecureContext:a.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:n.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:n.CallCredentials.createFromGoogleCredential,createEmpty:n.CallCredentials.createEmpty},p=e=>e.close(),p=(e,t,r)=>e.waitForReady(t,r),p=(e,t)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},p=(e,t,r)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},p=e=>{c.setLogger(e)},p=e=>{c.setLoggerVerbosity(e)},p=e=>A.Client.prototype.getChannel.call(e);var p,E=r(53811);p={enumerable:!0,get:function(){return E.ListenerBuilder}},p={enumerable:!0,get:function(){return E.RequesterBuilder}},p={enumerable:!0,get:function(){return E.InterceptingCall}},p={enumerable:!0,get:function(){return E.InterceptorConfigurationError}};var m=r(14174);p={enumerable:!0,get:function(){return m.getChannelzServiceDefinition}},p={enumerable:!0,get:function(){return m.getChannelzHandlers}};var C=r(76959);p={enumerable:!0,get:function(){return C.addAdminServicesToServer}},p=r(26614);let y=r(89041),I=r(74871),B=r(38250),Q=r(38766),v=r(83887),w=r(98583),b=r(14174);(()=>{y.setup(),I.setup(),B.setup(),Q.setup(),v.setup(),w.setup(),b.setup()})()},95263:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalChannel=void 0;let n=r(69473),i=r(17039),s=r(80760),o=r(73184),a=r(88905),A=r(26846),l=r(34535),c=r(25361),u=r(14386),h=r(18879),d=r(29347),g=r(76228),f=r(75199),p=r(14174),E=r(43911),m=r(93117),C=r(21316),y=r(4391),I=r(36648),B=r(26230),Q=r(55074),v=2147483647,w=1e3,b=18e5,S=new Map,k=16777216,R=1048576;class D extends Q.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(e,r,n,i)=>{t.throttleKeepalive(i)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class _{constructor(e,t,r){var E,m,C,y,Q,_,T,N;if(this.credentials=t,this.options=r,this.connectivityState=f.ConnectivityState.IDLE,this.currentPicker=new o.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new p.ChannelzCallTracker,this.childrenTracker=new p.ChannelzChildrenTracker,"string"!=typeof e)throw TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw TypeError("Channel options must be an object");this.originalTarget=e;let F=(0,g.parseUri)(e);if(null===F)throw Error(`Could not parse target name "${e}"`);let M=(0,c.mapUriDefaultScheme)(F);if(null===M)throw Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},v),null===(m=(E=this.callRefTimer).unref)||void 0===m||m.call(E),0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new p.ChannelzTrace,this.channelzRef=(0,p.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,c.getDefaultAuthority)(M);let L=(0,d.mapProxyName)(M,r);this.target=L.target,this.options=Object.assign({},this.options,L.extraOptions),this.subchannelPool=(0,s.getSubchannelPool)((null!==(C=r["grpc.use_local_subchannel_pool"])&&void 0!==C?C:0)===0),this.retryBufferTracker=new B.MessageBufferTracker(null!==(y=r["grpc.retry_buffer_size"])&&void 0!==y?y:k,null!==(Q=r["grpc.per_rpc_retry_buffer_size"])&&void 0!==Q?Q:R),this.keepaliveTime=null!==(_=r["grpc.keepalive_time_ms"])&&void 0!==_?_:-1,this.idleTimeoutMs=Math.max(null!==(T=r["grpc.client_idle_timeout_ms"])&&void 0!==T?T:b,w);let O={createSubchannel:(e,t)=>{let r=this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),this.credentials);r.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",r.getChannelzRef());let n=new D(r,this);return this.wrappedSubchannels.add(n),n},updateState:(e,t)=>{this.currentPicker=t;let r=this.pickQueue.slice();for(let e of(this.pickQueue=[],r.length>0&&this.callRefTimerUnref(),r))e.doPick();this.updateState(e)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.refChild(e)},removeChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.unrefChild(e)}};this.resolvingLoadBalancer=new i.ResolvingLoadBalancer(this.target,O,r,(e,t)=>{e.retryThrottling?S.set(this.getTarget(),new B.RetryThrottler(e.retryThrottling.maxTokens,e.retryThrottling.tokenRatio,S.get(this.getTarget()))):S.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=t,this.currentResolutionError=null,process.nextTick(()=>{let e=this.configSelectionQueue;for(let t of(this.configSelectionQueue=[],e.length>0&&this.callRefTimerUnref(),e))t.getConfig()})},e=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+e.code+' and details "'+e.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,I.restrictControlPlaneStatusCode)(e.code,e.details)),{metadata:e.metadata}));let t=this.configSelectionQueue;for(let r of(this.configSelectionQueue=[],t.length>0&&this.callRefTimerUnref(),t))r.reportResolverError(e)}),this.filterStackFactory=new A.FilterStackFactory([new h.MaxMessageSizeFilterFactory(this.options),new l.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));let x=Error();(0,u.trace)(a.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null===(N=x.stack)||void 0===N?void 0:N.substring(x.stack.indexOf("\n")+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,u.trace)(null!=t?t:a.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,g.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,r,n;(null===(t=(e=this.callRefTimer).hasRef)||void 0===t?void 0:t.call(e))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(n=(r=this.callRefTimer).ref)||void 0===n||n.call(r))}callRefTimerUnref(){var e,t;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(t=(e=this.callRefTimer).unref)||void 0===t||t.call(e))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(t=>t===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){for(let t of((0,u.trace)(a.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,g.uriToString)(this.target)+" "+f.ConnectivityState[this.connectivityState]+" -> "+f.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+f.ConnectivityState[e]),this.connectivityState=e,this.connectivityStateWatchers.slice()))e!==t.currentState&&(t.timer&&clearTimeout(t.timer),this.removeConnectivityStateWatcher(t),t.callback());e!==f.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime)for(let t of(this.keepaliveTime=e,this.wrappedSubchannels))t.throttleKeepalive(e)}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return(this.resolvingLoadBalancer.exitIdle(),this.configSelector)?{type:"SUCCESS",config:this.configSelector(e,t)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(f.ConnectivityState.IDLE),this.currentPicker=new o.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var t,r;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let e=new Date().valueOf()-this.lastActivityTimestamp.valueOf();e>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-e)},e),null===(r=(t=this.idleTimer).unref)||void 0===r||r.call(t)}maybeStartIdleTimer(){this.connectivityState===f.ConnectivityState.SHUTDOWN||this.idleTimer||this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===a.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,r,n,i){let s=(0,y.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+s+'] method="'+t+'"'),new E.LoadBalancingCall(this,e,t,r,n,i,s)}createRetryingCall(e,t,r,n,i){let s=(0,y.getNextCallNumber)();return this.trace("createRetryingCall ["+s+'] method="'+t+'"'),new B.RetryingCall(this,e,t,r,n,i,s,this.retryBufferTracker,S.get(this.getTarget()))}createInnerCall(e,t,r,n,i){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall(e,t,r,n,i):this.createRetryingCall(e,t,r,n,i)}createResolvingCall(e,t,r,n,i){let s=(0,y.getNextCallNumber)();this.trace("createResolvingCall ["+s+'] method="'+e+'", deadline='+(0,m.deadlineToString)(t));let o={deadline:t,flags:null!=i?i:a.Propagate.DEFAULTS,host:null!=r?r:this.defaultAuthority,parentCall:n},A=new C.ResolvingCall(this,e,o,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),s);return this.onCallStart(),A.addStatusWatcher(e=>{this.onCallEnd(e)}),A}close(){this.resolvingLoadBalancer.destroy(),this.updateState(f.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,p.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,g.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,r){if(this.connectivityState===f.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let n=null;if(t!==1/0){let e=t instanceof Date?t:new Date(t),s=new Date;if(t===-1/0||e<=s){process.nextTick(r,Error("Deadline passed without connectivity state change"));return}n=setTimeout(()=>{this.removeConnectivityStateWatcher(i),r(Error("Deadline passed without connectivity state change"))},e.getTime()-s.getTime())}let i={currentState:e,callback:r,timer:n};this.connectivityStateWatchers.push(i)}getChannelzRef(){return this.channelzRef}createCall(e,t,r,n,i){if("string"!=typeof e)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===f.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall(e,t,r,n,i)}}t.InternalChannel=_},50868:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildLoadBalancerHandler=void 0;let n=r(82728),i=r(75199),s="child_load_balancer_helper";class o{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(e){this.parent=e,this.child=null}createSubchannel(e,t){return this.parent.channelControlHelper.createSubchannel(e,t)}updateState(e,t){var r;if(this.calledByPendingChild()){if(e===i.ConnectivityState.CONNECTING)return;null===(r=this.parent.currentChild)||void 0===r||r.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;let t=null!==(e=this.parent.pendingChild)&&void 0!==e?e:this.parent.currentChild;this.child===t&&this.parent.channelControlHelper.requestReresolution()}setChild(e){this.child=e}addChannelzChild(e){this.parent.channelControlHelper.addChannelzChild(e)}removeChannelzChild(e){this.parent.channelControlHelper.removeChannelzChild(e)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,r){let i;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let e=new this.ChildPolicyHelper(this),r=(0,n.createLoadBalancer)(t,e);e.setChild(r),null===this.currentChild?(this.currentChild=r,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=r,i=this.pendingChild)}else i=null===this.pendingChild?this.currentChild:this.pendingChild;this.latestConfig=t,i.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return s}}t.ChildLoadBalancerHandler=o},98583:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.OutlierDetectionLoadBalancer=t.OutlierDetectionLoadBalancingConfig=void 0;let i=r(75199),s=r(88905),o=r(95292),a=r(26614),A=r(82728),l=r(50868),c=r(73184),u=r(50476),h=r(55074),d=r(14386),g="outlier_detection";function f(e){d.trace(s.LogVerbosity.DEBUG,g,e)}let p="outlier_detection",E=(null!==(n=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)&&void 0!==n?n:"true")==="true",m={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},C={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function y(e,t,r,n){if(t in e&&typeof e[t]!==r){let i=n?`${n}.${t}`:t;throw Error(`outlier detection config ${i} parse error: expected ${r}, got ${typeof e[t]}`)}}function I(e,t,r){let n=r?`${r}.${t}`:t;if(t in e){if(!(0,o.isDuration)(e[t]))throw Error(`outlier detection config ${n} parse error: expected Duration, got ${typeof e[t]}`);if(!(e[t].seconds>=0&&e[t].seconds<=315576e6&&e[t].nanos>=0&&e[t].nanos<=999999999))throw Error(`outlier detection config ${n} parse error: values out of range for non-negative Duaration`)}}function B(e,t,r){let n=r?`${r}.${t}`:t;if(y(e,t,"number",r),t in e&&!(e[t]>=0&&e[t]<=100))throw Error(`outlier detection config ${n} parse error: value out of range for percentage (0-100)`)}class Q{constructor(e,t,r,n,i,s,o){if(this.childPolicy=o,o.length>0&&"pick_first"===o[0].getLoadBalancerName())throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=e?e:1e4,this.baseEjectionTimeMs=null!=t?t:3e4,this.maxEjectionTimeMs=null!=r?r:3e5,this.maxEjectionPercent=null!=n?n:10,this.successRateEjection=i?Object.assign(Object.assign({},m),i):null,this.failurePercentageEjection=s?Object.assign(Object.assign({},C),s):null}getLoadBalancerName(){return p}toJsonObject(){return{interval:(0,o.msToDuration)(this.intervalMs),base_ejection_time:(0,o.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,o.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(e=>e.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new Q(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var t;if(I(e,"interval"),I(e,"base_ejection_time"),I(e,"max_ejection_time"),B(e,"max_ejection_percent"),"success_rate_ejection"in e){if("object"!=typeof e.success_rate_ejection)throw Error("outlier detection config success_rate_ejection must be an object");y(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),B(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),y(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),y(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if("object"!=typeof e.failure_percentage_ejection)throw Error("outlier detection config failure_percentage_ejection must be an object");B(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),B(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),y(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),y(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new Q(e.interval?(0,o.durationToMs)(e.interval):null,e.base_ejection_time?(0,o.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,o.durationToMs)(e.max_ejection_time):null,null!==(t=e.max_ejection_percent)&&void 0!==t?t:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(A.validateLoadBalancingConfig))}}t.OutlierDetectionLoadBalancingConfig=Q;class v extends h.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=e.getConnectivityState(),e.addConnectivityStateListener((e,t,r,n)=>{if(this.childSubchannelState=r,!this.ejected)for(let e of this.stateListeners)e(this,t,r,n)})}getConnectivityState(){return this.ejected?i.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){let t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){for(let e of(this.ejected=!0,this.stateListeners))e(this,this.childSubchannelState,i.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){for(let e of(this.ejected=!1,this.stateListeners))e(this,i.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function w(){return{success:0,failure:0}}class b{constructor(){this.activeBucket=w(),this.inactiveBucket=w()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=w()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class S{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType!==c.PickResultType.COMPLETE)return t;{let e=t.subchannel,r=e.getMapEntry();if(!r)return Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel()});{let n=t.onCallEnded;return this.countCalls&&(n=e=>{var n;e===s.Status.OK?r.counter.addSuccess():r.counter.addFailure(),null===(n=t.onCallEnded)||void 0===n||n.call(t,e)}),Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel(),onCallEnded:n})}}}}class k{constructor(e){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new l.ChildLoadBalancerHandler((0,a.createChildChannelControlHelper)(e,{createSubchannel:(t,r)=>{let n=e.createSubchannel(t,r),i=this.addressMap.get((0,u.subchannelAddressToString)(t)),s=new v(n,i);return(null==i?void 0:i.currentEjectionTimestamp)!==null&&s.eject(),null==i||i.subchannelWrappers.push(s),s},updateState:(t,r)=>{t===i.ConnectivityState.READY?e.updateState(t,new S(r,this.isCountingEnabled())):e.updateState(t,r)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let e=0;for(let t of this.addressMap.values())null!==t.currentEjectionTimestamp&&(e+=1);return 100*e/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;f("Running success rate check");let r=t.request_volume,n=0,i=[];for(let[e,t]of this.addressMap){let s=t.counter.getLastSuccesses(),o=t.counter.getLastFailures();f("Stats for "+e+": successes="+s+" failures="+o+" targetRequestVolume="+r),s+o>=r&&(n+=1,i.push(s/(s+o)))}if(f("Found "+n+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+i+"]"),n<t.minimum_hosts)return;let s=i.reduce((e,t)=>e+t)/i.length,o=0;for(let e of i){let t=e-s;o+=t*t}let a=Math.sqrt(o/i.length),A=s-t.stdev_factor/1e3*a;for(let[n,i]of(f("stdev="+a+" ejectionThreshold="+A),this.addressMap.entries())){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let s=i.counter.getLastSuccesses(),o=i.counter.getLastFailures();if(s+o<r)continue;let a=s/(s+o);if(f("Checking candidate "+n+" successRate="+a),a<A){let r=100*Math.random();f("Candidate "+n+" randomNumber="+r+" enforcement_percentage="+t.enforcement_percentage),r<t.enforcement_percentage&&(f("Ejecting candidate "+n),this.eject(i,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;f("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let r=0;for(let e of this.addressMap.values())e.counter.getLastSuccesses()+e.counter.getLastFailures()>=t.request_volume&&(r+=1);if(!(r<t.minimum_hosts))for(let[r,n]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let i=n.counter.getLastSuccesses(),s=n.counter.getLastFailures();if(f("Candidate successes="+i+" failures="+s),!(i+s<t.request_volume)&&100*s/(s+i)>t.threshold){let i=100*Math.random();f("Candidate "+r+" randomNumber="+i+" enforcement_percentage="+t.enforcement_percentage),i<t.enforcement_percentage&&(f("Ejecting candidate "+r),this.eject(n,e))}}}eject(e,t){for(let t of(e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1,e.subchannelWrappers))t.eject()}uneject(e){for(let t of(e.currentEjectionTimestamp=null,e.subchannelWrappers))t.uneject()}switchAllBuckets(){for(let e of this.addressMap.values())e.counter.switchBuckets()}startTimer(e){var t,r;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),null===(r=(t=this.ejectionTimer).unref)||void 0===r||r.call(t)}runChecks(){let e=new Date;if(f("Ejection timer running"),this.switchAllBuckets(),this.latestConfig)for(let[t,r]of(this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e),this.addressMap.entries()))if(null===r.currentEjectionTimestamp)r.ejectionTimeMultiplier>0&&(r.ejectionTimeMultiplier-=1);else{let e=this.latestConfig.getBaseEjectionTimeMs(),n=this.latestConfig.getMaxEjectionTimeMs(),i=new Date(r.currentEjectionTimestamp.getTime());i.setMilliseconds(i.getMilliseconds()+Math.min(e*r.ejectionTimeMultiplier,Math.max(e,n))),i<new Date&&(f("Unejecting "+t),this.uneject(r))}}updateAddressList(e,t,r){if(!(t instanceof Q))return;let n=new Set;for(let t of e)n.add((0,u.subchannelAddressToString)(t));for(let e of n)this.addressMap.has(e)||(f("Adding map entry for "+e),this.addressMap.set(e,{counter:new b,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let e of this.addressMap.keys())n.has(e)||(f("Removing map entry for "+e),this.addressMap.delete(e));let i=(0,A.getFirstUsableConfig)(t.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(e,i,r),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig()){if(this.timerStartTime){f("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let e=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(e)}else f("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets()}else for(let e of(f("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer),this.addressMap.values()))this.uneject(e),e.ejectionTimeMultiplier=0;this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return p}}function R(){E&&(0,a.registerLoadBalancerType)(p,k,Q)}t.OutlierDetectionLoadBalancer=k,t.setup=R},38766:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.PickFirstLoadBalancer=t.shuffled=t.PickFirstLoadBalancingConfig=void 0;let n=r(82728),i=r(75199),s=r(73184),o=r(14386),a=r(88905),A="pick_first";function l(e){o.trace(a.LogVerbosity.DEBUG,A,e)}let c="pick_first",u=250;class h{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return c}toJsonObject(){return{[c]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&"boolean"!=typeof e.shuffleAddressList)throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new h(!0===e.shuffleAddressList)}}t.PickFirstLoadBalancingConfig=h;class d{constructor(e){this.subchannel=e}pick(e){return{pickResultType:s.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function g(e){let t=e.slice();for(let e=t.length-1;e>1;e--){let r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}t.shuffled=g;class f{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=i.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(e,t,r,n,i)=>{this.onSubchannelStateUpdate(e,t,r,i)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(i.ConnectivityState.READY,new d(this.currentPick)):0===this.children.length?this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){for(let{subchannel:e}of(this.stickyTransientFailureMode=!0,this.children))e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(null!==this.currentPick){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}onSubchannelStateUpdate(e,t,r,n){var s;if(null===(s=this.currentPick)||void 0===s?void 0:s.realSubchannelEquals(e)){r!==i.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[t,s]of this.children.entries())if(e.realSubchannelEquals(s.subchannel)){r===i.ConnectivityState.READY&&this.pickSubchannel(s.subchannel),r===i.ConnectivityState.TRANSIENT_FAILURE&&(s.hasReportedTransientFailure=!0,n&&(this.lastError=n),this.maybeEnterStickyTransientFailureMode(),t===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(t+1)),s.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[t,r]of this.children.entries())if(t>=e){let e=r.subchannel.getConnectivityState();if(e===i.ConnectivityState.IDLE||e===i.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var t,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===i.ConnectivityState.IDLE&&(l("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var t;null===(t=this.children[e])||void 0===t||t.subchannel.startConnecting()})),this.connectionDelayTimeout=null===(r=(t=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},u)).unref)||void 0===r?void 0:r.call(t)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(l("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,null!==this.currentPick&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=e,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,t){l(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let t=e.map(e=>({subchannel:this.channelControlHelper.createSubchannel(e,{}),hasReportedTransientFailure:!1}));for(let{subchannel:e}of t)e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef());for(let{subchannel:e}of(this.resetSubchannelList(),this.children=t,this.children))if(e.addConnectivityStateListener(this.subchannelStateListener),e.getConnectivityState()===i.ConnectivityState.READY){this.pickSubchannel(e);return}for(let e of this.children)e.subchannel.getConnectivityState()===i.ConnectivityState.TRANSIENT_FAILURE&&(e.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){t instanceof h&&(t.getShuffleAddressList()&&(e=g(e)),this.latestAddressList=e,this.connectToAddressList(e))}exitIdle(){this.currentState===i.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return c}}function p(){(0,n.registerLoadBalancerType)(c,f,h),(0,n.registerDefaultLoadBalancerType)(c)}t.PickFirstLoadBalancer=f,t.setup=p},83887:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.RoundRobinLoadBalancer=void 0;let n=r(82728),i=r(75199),s=r(73184),o=r(50476),a=r(14386),A=r(88905),l="round_robin";function c(e){a.trace(A.LogVerbosity.DEBUG,l,e)}let u="round_robin";class h{getLoadBalancerName(){return u}constructor(){}toJsonObject(){return{[u]:{}}}static createFromJson(e){return new h}}class d{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){let t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:s.PickResultType.COMPLETE,subchannel:t,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class g{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=i.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(e,t,r,n,s)=>{this.calculateAndUpdateState(),(r===i.ConnectivityState.TRANSIENT_FAILURE||r===i.ConnectivityState.IDLE)&&(s&&(this.lastError=s),this.channelControlHelper.requestReresolution(),e.startConnecting())}}countSubchannelsWithState(e){return this.subchannels.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(i.ConnectivityState.READY)>0){let e=this.subchannels.filter(e=>e.getConnectivityState()===i.ConnectivityState.READY),t=0;null!==this.currentReadyPicker&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()))<0&&(t=0),this.updateState(i.ConnectivityState.READY,new d(e,t))}else this.countSubchannelsWithState(i.ConnectivityState.CONNECTING)>0?this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this)):this.countSubchannelsWithState(i.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this))}updateState(e,t){c(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),e===i.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref(),this.channelControlHelper.removeChannelzChild(e.getChannelzRef());this.subchannels=[]}updateAddressList(e,t){for(let t of(this.resetSubchannelList(),c("Connect to address list "+e.map(e=>(0,o.subchannelAddressToString)(e))),this.subchannels=e.map(e=>this.channelControlHelper.createSubchannel(e,{})),this.subchannels)){t.ref(),t.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(t.getChannelzRef());let e=t.getConnectivityState();(e===i.ConnectivityState.IDLE||e===i.ConnectivityState.TRANSIENT_FAILURE)&&t.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return u}}function f(){(0,n.registerLoadBalancerType)(u,g,h)}t.RoundRobinLoadBalancer=g,t.setup=f},82728:(e,t)=>{"use strict";function r(e,t){var r,n,i,s,o,a,A,l,c,u;return{createSubchannel:null!==(n=null===(r=t.createSubchannel)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e.createSubchannel.bind(e),updateState:null!==(s=null===(i=t.updateState)||void 0===i?void 0:i.bind(t))&&void 0!==s?s:e.updateState.bind(e),requestReresolution:null!==(a=null===(o=t.requestReresolution)||void 0===o?void 0:o.bind(t))&&void 0!==a?a:e.requestReresolution.bind(e),addChannelzChild:null!==(l=null===(A=t.addChannelzChild)||void 0===A?void 0:A.bind(t))&&void 0!==l?l:e.addChannelzChild.bind(e),removeChannelzChild:null!==(u=null===(c=t.removeChannelzChild)||void 0===c?void 0:c.bind(t))&&void 0!==u?u:e.removeChannelzChild.bind(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.isLoadBalancerNameRegistered=t.createLoadBalancer=t.registerDefaultLoadBalancerType=t.registerLoadBalancerType=t.createChildChannelControlHelper=void 0,t.createChildChannelControlHelper=r;let n={},i=null;function s(e,t,r){n[e]={LoadBalancer:t,LoadBalancingConfig:r}}function o(e){i=e}function a(e,t){let r=e.getLoadBalancerName();return r in n?new n[r].LoadBalancer(t):null}function A(e){return e in n}function l(e,t=!1){for(let t of e)if(t.getLoadBalancerName() in n)return t;return t&&i?new n[i].LoadBalancingConfig:null}function c(e){if(!(null!==e&&"object"==typeof e))throw Error("Load balancing config must be an object");let t=Object.keys(e);if(1!==t.length)throw Error("Provided load balancing config has multiple conflicting entries");let r=t[0];if(r in n)return n[r].LoadBalancingConfig.createFromJson(e[r]);throw Error(`Unrecognized load balancing config name ${r}`)}t.registerLoadBalancerType=s,t.registerDefaultLoadBalancerType=o,t.createLoadBalancer=a,t.isLoadBalancerNameRegistered=A,t.getFirstUsableConfig=l,t.validateLoadBalancingConfig=c},43911:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadBalancingCall=void 0;let n=r(75199),i=r(88905),s=r(93117),o=r(46598),a=r(73184),A=r(76228),l=r(14386),c=r(36648),u=r(85158),h="load_balancing_call";class d{constructor(e,t,r,n,i,s,o){var a,l;this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=i,this.deadline=s,this.callNumber=o,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let c=this.methodName.split("/"),u="";c.length>=2&&(u=c[1]);let h=null!==(l=null===(a=(0,A.splitHostPort)(this.host))||void 0===a?void 0:a.host)&&void 0!==l?l:"localhost";this.serviceUrl=`https://${h}/${u}`}trace(e){l.trace(i.LogVerbosity.DEBUG,h,"["+this.callNumber+"] "+e)}outputStatus(e,t){var r,n;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'"');let i=Object.assign(Object.assign({},e),{progress:t});null===(r=this.listener)||void 0===r||r.onReceiveStatus(i),null===(n=this.onCallEnded)||void 0===n||n.call(this,i.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let r=this.channel.doPick(this.metadata,this.callConfig.pickInformation),A=r.subchannel?"("+r.subchannel.getChannelzRef().id+") "+r.subchannel.getAddress():""+r.subchannel;switch(this.trace("Pick result: "+a.PickResultType[r.pickResultType]+" subchannel: "+A+" status: "+(null===(e=r.status)||void 0===e?void 0:e.code)+" "+(null===(t=r.status)||void 0===t?void 0:t.details)),r.pickResultType){case a.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(e=>{var t,a,l;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let c=this.metadata.clone();if(c.merge(e),c.get("authorization").length>1&&this.outputStatus({code:i.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new o.Metadata},"PROCESSED"),r.subchannel.getConnectivityState()!==n.ConnectivityState.READY){this.trace("Picked subchannel "+A+" has state "+n.ConnectivityState[r.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&c.set("grpc-timeout",(0,s.getDeadlineTimeoutString)(this.deadline));try{this.child=r.subchannel.getRealSubchannel().createCall(c,this.host,this.methodName,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(e)},onReceiveMessage:e=>{this.trace("Received message"),this.listener.onReceiveMessage(e)},onReceiveStatus:e=>{this.trace("Received status"),e.rstCode===u.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(e,"REFUSED"):this.outputStatus(e,"PROCESSED")}})}catch(e){this.trace("Failed to start call on picked subchannel "+A+" with error "+e.message),this.outputStatus({code:i.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+e.message,metadata:new o.Metadata},"NOT_STARTED");return}null===(a=(t=this.callConfig).onCommitted)||void 0===a||a.call(t),null===(l=r.onCallStarted)||void 0===l||l.call(r),this.onCallEnded=r.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},e=>{let{code:t,details:r}=(0,c.restrictControlPlaneStatusCode)("number"==typeof e.code?e.code:i.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${e.message}`);this.outputStatus({code:t,details:r,metadata:new o.Metadata},"PROCESSED")});break;case a.PickResultType.DROP:let{code:l,details:h}=(0,c.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:l,details:h,metadata:r.status.metadata},"DROP")});break;case a.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:e,details:t}=(0,c.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:e,details:t,metadata:r.status.metadata},"PROCESSED")})}break;case a.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new o.Metadata},"PROCESSED")}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}}t.LoadBalancingCall=d},14386:(e,t,r)=>{"use strict";var n,i,s,o;Object.defineProperty(t,"__esModule",{value:!0}),t.isTracerEnabled=t.trace=t.log=t.setLoggerVerbosity=t.setLogger=t.getLogger=void 0;let a=r(88905),A=r(77282),l=r(37645).i8,c={error:(e,...t)=>{console.error("E "+e,...t)},info:(e,...t)=>{console.error("I "+e,...t)},debug:(e,...t)=>{console.error("D "+e,...t)}},u=a.LogVerbosity.ERROR;switch((null!==(i=null!==(n=process.env.GRPC_NODE_VERBOSITY)&&void 0!==n?n:process.env.GRPC_VERBOSITY)&&void 0!==i?i:"").toUpperCase()){case"DEBUG":u=a.LogVerbosity.DEBUG;break;case"INFO":u=a.LogVerbosity.INFO;break;case"ERROR":u=a.LogVerbosity.ERROR;break;case"NONE":u=a.LogVerbosity.NONE}let h=()=>c;t.getLogger=h;let d=e=>{c=e};t.setLogger=d;let g=e=>{u=e};t.setLoggerVerbosity=g;let f=(e,...t)=>{let r;if(e>=u){switch(e){case a.LogVerbosity.DEBUG:r=c.debug;break;case a.LogVerbosity.INFO:r=c.info;break;case a.LogVerbosity.ERROR:r=c.error}r||(r=c.error),r&&r.bind(c)(...t)}};t.log=f;let p=null!==(o=null!==(s=process.env.GRPC_NODE_TRACE)&&void 0!==s?s:process.env.GRPC_TRACE)&&void 0!==o?o:"",E=new Set,m=new Set;for(let e of p.split(","))e.startsWith("-")?m.add(e.substring(1)):E.add(e);let C=E.has("all");function y(e,r,n){I(r)&&(0,t.log)(e,new Date().toISOString()+" | v"+l+" "+A.pid+" | "+r+" | "+n)}function I(e){return!m.has(e)&&(C||E.has(e))}t.trace=y,t.isTracerEnabled=I},42900:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadPackageDefinition=t.makeClientConstructor=void 0;let n=r(10526),i={unary:n.Client.prototype.makeUnaryRequest,server_stream:n.Client.prototype.makeServerStreamRequest,client_stream:n.Client.prototype.makeClientStreamRequest,bidi:n.Client.prototype.makeBidiStreamRequest};function s(e){return["__proto__","prototype","constructor"].includes(e)}function o(e,t,r){r||(r={});class o extends n.Client{}return Object.keys(e).forEach(t=>{let r;if(s(t))return;let n=e[t];if("string"==typeof t&&"$"===t.charAt(0))throw Error("Method names cannot start with $");r=n.requestStream?n.responseStream?"bidi":"client_stream":n.responseStream?"server_stream":"unary";let A=n.requestSerialize,l=n.responseDeserialize,c=a(i[r],n.path,A,l);o.prototype[t]=c,Object.assign(o.prototype[t],n),n.originalName&&!s(n.originalName)&&(o.prototype[n.originalName]=o.prototype[t])}),o.service=e,o.serviceName=t,o}function a(e,t,r,n){return function(...i){return e.call(this,t,r,n,...i)}}function A(e){return"format"in e}function l(e){let t={};for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let n=e[r],i=r.split(".");if(i.some(e=>s(e)))continue;let a=i[i.length-1],l=t;for(let e of i.slice(0,-1))l[e]||(l[e]={}),l=l[e];A(n)?l[a]=n:l[a]=o(n,a,{})}return t}t.makeClientConstructor=o,t.loadPackageDefinition=l},18879:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaxMessageSizeFilterFactory=t.MaxMessageSizeFilter=void 0;let n=r(47215),i=r(88905),s=r(46598);class o extends n.BaseFilter{constructor(e){super(),this.maxSendMessageSize=i.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=i.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in e&&(this.maxSendMessageSize=e["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in e&&(this.maxReceiveMessageSize=e["grpc.max_receive_message_length"])}async sendMessage(e){if(-1===this.maxSendMessageSize)return e;{let t=await e;if(!(t.message.length>this.maxSendMessageSize))return t;throw{code:i.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${t.message.length} vs. ${this.maxSendMessageSize})`,metadata:new s.Metadata}}}async receiveMessage(e){if(-1===this.maxReceiveMessageSize)return e;{let t=await e;if(!(t.length>this.maxReceiveMessageSize))return t;throw{code:i.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`,metadata:new s.Metadata}}}}t.MaxMessageSizeFilter=o;class a{constructor(e){this.options=e}createFilter(){return new o(this.options)}}t.MaxMessageSizeFilterFactory=a},46598:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;let n=r(14386),i=r(88905),s=r(17025),o=/^[0-9a-z_.-]+$/,a=/^[ -~]*$/;function A(e){return o.test(e)}function l(e){return a.test(e)}function c(e){return e.endsWith("-bin")}function u(e){return!e.startsWith("grpc-")}function h(e){return e.toLowerCase()}function d(e,t){if(!A(e))throw Error('Metadata key "'+e+'" contains illegal characters');if(null!=t){if(c(e)){if(!Buffer.isBuffer(t))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(t))throw Error("keys that don't end with '-bin' must have String values");if(!l(t))throw Error('Metadata string value "'+t+'" contains illegal characters')}}}class g{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){d(e=h(e),t),this.internalRepr.set(e,[t])}add(e,t){d(e=h(e),t);let r=this.internalRepr.get(e);void 0===r?this.internalRepr.set(e,[t]):r.push(t)}remove(e){e=h(e),this.internalRepr.delete(e)}get(e){return e=h(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,r]of this.internalRepr)if(r.length>0){let n=r[0];e[t]=Buffer.isBuffer(n)?Buffer.from(n):n}return e}clone(){let e=new g(this.options),t=e.internalRepr;for(let[e,r]of this.internalRepr){let n=r.map(e=>Buffer.isBuffer(e)?Buffer.from(e):e);t.set(e,n)}return e}merge(e){for(let[t,r]of e.internalRepr){let e=(this.internalRepr.get(t)||[]).concat(r);this.internalRepr.set(t,e)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,r]of this.internalRepr)e[t]=r.map(f);return e}toJSON(){let e={};for(let[t,r]of this.internalRepr)e[t]=r;return e}static fromHttp2Headers(e){let t=new g;for(let r of Object.keys(e)){if(":"===r.charAt(0))continue;let o=e[r];try{c(r)?Array.isArray(o)?o.forEach(e=>{t.add(r,Buffer.from(e,"base64"))}):void 0!==o&&(u(r)?o.split(",").forEach(e=>{t.add(r,Buffer.from(e.trim(),"base64"))}):t.add(r,Buffer.from(o,"base64"))):Array.isArray(o)?o.forEach(e=>{t.add(r,e)}):void 0!==o&&t.add(r,o)}catch(t){let e=`Failed to add metadata entry ${r}: ${o}. ${(0,s.getErrorMessage)(t)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,n.log)(i.LogVerbosity.ERROR,e)}}return t}}t.Metadata=g;let f=e=>Buffer.isBuffer(e)?e.toString("base64"):e},73184:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.QueuePicker=t.UnavailablePicker=t.PickResultType=void 0;let i=r(46598),s=r(88905);!function(e){e[e.COMPLETE=0]="COMPLETE",e[e.QUEUE=1]="QUEUE",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",e[e.DROP=3]="DROP"}(n||(t.PickResultType=n={}));class o{constructor(e){this.status=Object.assign({code:s.Status.UNAVAILABLE,details:"No connection established",metadata:new i.Metadata},e)}pick(e){return{pickResultType:n.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}t.UnavailablePicker=o;class a{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:n.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}t.QueuePicker=a},89041:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.DEFAULT_PORT=void 0;let n=r(25361),i=r(9523),s=r(73837),o=r(58668),a=r(88905),A=r(46598),l=r(14386),c=r(88905),u=r(76228),h=r(41808),d=r(33339),g="dns_resolver";function f(e){l.trace(c.LogVerbosity.DEBUG,g,e)}t.DEFAULT_PORT=443;let p=3e4,E=s.promisify(i.resolveTxt),m=s.promisify(i.lookup);function C(...e){let t=[];for(let r=0;r<Math.max.apply(null,e.map(e=>e.length));r++)for(let n of e)r<n.length&&t.push(n[r]);return t}class y{constructor(e,r,n){var i,s,o;this.target=e,this.listener=r,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,f("Resolver constructed for target "+(0,u.uriToString)(e));let l=(0,u.splitHostPort)(e.path);null===l?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,h.isIPv4)(l.host)||(0,h.isIPv6)(l.host)?(this.ipResult=[{host:l.host,port:null!==(i=l.port)&&void 0!==i?i:t.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=l.host,this.port=null!==(s=l.port)&&void 0!==s?s:t.DEFAULT_PORT),this.percentage=100*Math.random(),1===n["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:a.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,u.uriToString)(this.target)}`,metadata:new A.Metadata};let c={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoff=new d.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},c),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!==(o=n["grpc.dns_min_time_between_resolutions_ms"])&&void 0!==o?o:p,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult){this.returnedIpResult||(f("Returning IP address for target "+(0,u.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(null===this.dnsHostname)f("Failed to parse DNS address "+(0,u.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:a.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,u.uriToString)(this.target)}`,metadata:new A.Metadata})}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;f("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=m(e,{all:!0}),this.pendingLookupPromise.then(e=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let t=e.filter(e=>4===e.family),r=e.filter(e=>6===e.family);this.latestLookupResult=C(r,t).map(e=>({host:e.address,port:+this.port}));let n="["+this.latestLookupResult.map(e=>e.host+":"+e.port).join(",")+"]";if(f("Resolved addresses for target "+(0,u.uriToString)(this.target)+": "+n),0===this.latestLookupResult.length){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},e=>{null!==this.pendingLookupPromise&&(f("Resolution error for target "+(0,u.uriToString)(this.target)+": "+e.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=E(e),this.pendingTxtPromise.then(e=>{if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,o.extractAndSelectServiceConfig)(e,this.percentage)}catch(e){this.latestServiceConfigError={code:a.Status.UNAVAILABLE,details:`Parsing service config failed with error ${e.message}`,metadata:new A.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},e=>{}))}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=null===(t=(e=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)||void 0===t?void 0:t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?f('resolution update delayed by "min time between resolutions" rate limit'):f("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}}function I(){(0,n.registerResolver)("dns",y),(0,n.registerDefaultScheme)("dns")}t.setup=I},38250:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;let n=r(41808),i=r(88905),s=r(46598),o=r(25361),a=r(76228),A=r(14386),l="ip_resolver";function c(e){A.trace(i.LogVerbosity.DEBUG,l,e)}let u="ipv4",h="ipv6",d=443;class g{constructor(e,t,r){var o;this.listener=t,this.addresses=[],this.error=null,this.hasReturnedResult=!1,c("Resolver constructed for target "+(0,a.uriToString)(e));let A=[];if(!(e.scheme===u||e.scheme===h)){this.error={code:i.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new s.Metadata};return}for(let t of e.path.split(",")){let r=(0,a.splitHostPort)(t);if(null===r||e.scheme===u&&!(0,n.isIPv4)(r.host)||e.scheme===h&&!(0,n.isIPv6)(r.host)){this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new s.Metadata};return}A.push({host:r.host,port:null!==(o=r.port)&&void 0!==o?o:d})}this.addresses=A,c("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}}function f(){(0,o.registerResolver)(u,g),(0,o.registerResolver)(h,g)}t.setup=f},74871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;let n=r(25361);class i{constructor(e,t,r){let n;this.listener=t,this.addresses=[],this.hasReturnedResult=!1,n=""===e.authority?"/"+e.path:e.path,this.addresses=[{path:n}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(e){return"localhost"}}function s(){(0,n.registerResolver)("unix",i)}t.setup=s},25361:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapUriDefaultScheme=t.getDefaultAuthority=t.createResolver=t.registerDefaultScheme=t.registerResolver=void 0;let n=r(76228),i={},s=null;function o(e,t){i[e]=t}function a(e){s=e}function A(e,t,r){if(void 0!==e.scheme&&e.scheme in i)return new i[e.scheme](e,t,r);throw Error(`No resolver could be created for target ${(0,n.uriToString)(e)}`)}function l(e){if(void 0!==e.scheme&&e.scheme in i)return i[e.scheme].getDefaultAuthority(e);throw Error(`Invalid target ${(0,n.uriToString)(e)}`)}function c(e){return void 0!==e.scheme&&e.scheme in i?e:null!==s?{scheme:s,authority:void 0,path:(0,n.uriToString)(e)}:null}t.registerResolver=o,t.registerDefaultScheme=a,t.createResolver=A,t.getDefaultAuthority=l,t.mapUriDefaultScheme=c},21316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingCall=void 0;let n=r(88905),i=r(93117),s=r(46598),o=r(14386),a=r(36648),A="resolving_call";class l{constructor(e,t,r,s,o,a){this.channel=e,this.method=t,this.filterStackFactory=s,this.credentials=o,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&n.Propagate.CANCELLATION&&r.parentCall.on("cancelled",()=>{this.cancelWithStatus(n.Status.CANCELLED,"Cancelled by parent call")}),r.flags&n.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,i.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){o.trace(n.LogVerbosity.DEBUG,A,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,i.deadlineToString)(this.deadline));let e=(0,i.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{this.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(e=>e(t)),process.nextTick(()=>{var e;null===(e=this.listener)||void 0===e||e.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw Error("sendMessageonChild called with child not populated");let r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(t=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,t.message),this.pendingHalfClose&&r.halfClose()},e=>{this.cancelWithStatus(e.code,e.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if("NONE"===e.type){this.channel.queueCallForConfig(this);return}if("ERROR"===e.type){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}let t=e.config;if(t.status!==n.Status.OK){let{code:e,details:r}=(0,a.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:e,details:r,metadata:new s.Metadata});return}if(t.methodConfig.timeout){let e=new Date;e.setSeconds(e.getSeconds()+t.methodConfig.timeout.seconds),e.setMilliseconds(e.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,i.minDeadline)(this.deadline,e),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(e=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(e,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(e))},onReceiveMessage:e=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(e).then(e=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(e),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},e=>{this.cancelWithStatus(e.code,e.details)})},onReceiveStatus:e=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=e:this.outputStatus(e)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},e=>{this.outputStatus(e)})}reportResolverError(e){var t;(null===(t=this.metadata)||void 0===t?void 0:t.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new s.Metadata})}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}}t.ResolvingCall=l},17039:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingLoadBalancer=void 0;let n=r(82728),i=r(58668),s=r(75199),o=r(25361),a=r(73184),A=r(33339),l=r(88905),c=r(46598),u=r(14386),h=r(88905),d=r(76228),g=r(50868),f="resolving_load_balancer";function p(e){u.trace(h.LogVerbosity.DEBUG,f,e)}let E=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function m(e,t,r,n){for(let i of r.name)switch(n){case"EMPTY":if(!i.service&&!i.method)return!0;break;case"SERVICE":if(i.service===e&&!i.method)return!0;break;case"SERVICE_AND_METHOD":if(i.service===e&&i.method===t)return!0}return!1}function C(e,t,r,n){for(let i of r)if(m(e,t,i,n))return i;return null}function y(e){return function(t,r){var n,i;let s=t.split("/").filter(e=>e.length>0),o=null!==(n=s[0])&&void 0!==n?n:"",a=null!==(i=s[1])&&void 0!==i?i:"";if(e&&e.methodConfig)for(let t of E){let r=C(o,a,e.methodConfig,t);if(r)return{methodConfig:r,pickInformation:{},status:l.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:l.Status.OK,dynamicFilterFactories:[]}}}class I{constructor(e,t,r,u,h){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=u,this.onFailedResolution=h,this.latestChildState=s.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=s.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,i.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(s.ConnectivityState.IDLE,new a.QueuePicker(this)),this.childLoadBalancer=new g.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(p("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(e,t)=>{this.latestChildState=e,this.latestChildPicker=t,this.updateState(e,t)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)}),this.innerResolver=(0,o.createResolver)(e,{onSuccessfulResolution:(e,t,r,i,s)=>{var o;this.backoffTimeout.stop(),this.backoffTimeout.reset();let a=null;null===t?null===r?(this.previousServiceConfig=null,a=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(r):a=this.previousServiceConfig:(a=t,this.previousServiceConfig=t);let A=null!==(o=null==a?void 0:a.loadBalancingConfig)&&void 0!==o?o:[],u=(0,n.getFirstUsableConfig)(A,!0);if(null===u){this.handleResolutionFailure({code:l.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new c.Metadata});return}this.childLoadBalancer.updateAddressList(e,u,s);let h=null!=a?a:this.defaultServiceConfig;this.onSuccessfulResolution(h,null!=i?i:y(h))},onError:e=>{this.handleResolutionFailure(e)}},r);let d={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new A.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},d),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===s.ConnectivityState.IDLE&&this.updateState(s.ConnectivityState.CONNECTING,new a.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(e,t){p((0,d.uriToString)(this.target)+" "+s.ConnectivityState[this.currentState]+" -> "+s.ConnectivityState[e]),e===s.ConnectivityState.IDLE&&(t=new a.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===s.ConnectivityState.IDLE&&(this.updateState(s.ConnectivityState.TRANSIENT_FAILURE,new a.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===s.ConnectivityState.IDLE||this.currentState===s.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=s.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=s.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}t.ResolvingLoadBalancer=I},26230:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetryingCall=t.MessageBufferTracker=t.RetryThrottler=void 0;let n=r(88905),i=r(46598),s=r(14386),o="retrying_call";class a{constructor(e,t,r){this.maxTokens=e,this.tokenRatio=t,r?this.tokens=r.tokens*(e/r.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}t.RetryThrottler=a;class A{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var r;let n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;return!(this.limitPerCall-n<e)&&!(this.totalLimit-this.totalAllocated<e)&&(this.allocatedPerCall.set(t,n+e),this.totalAllocated+=e,!0)}free(e,t){var r;if(this.totalAllocated<e)throw Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;if(n<e)throw Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${n}`);this.allocatedPerCall.set(t,n-e)}freeAll(e){var t;let r=null!==(t=this.allocatedPerCall.get(e))&&void 0!==t?t:0;if(this.totalAllocated<r)throw Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}}t.MessageBufferTracker=A;let l="grpc-previous-rpc-attempts";class c{constructor(e,t,r,n,i,s,o,a,A){if(this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=i,this.deadline=s,this.callNumber=o,this.bufferTracker=a,this.retryThrottler=A,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,t.methodConfig.retryPolicy){this.state="RETRY";let e=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(e.initialBackoff.substring(0,e.initialBackoff.length-1))}else t.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(e){s.trace(n.LogVerbosity.DEBUG,o,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;null===(t=this.listener)||void 0===t||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){for(let{call:r}of(this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new i.Metadata}),this.underlyingCalls))r.cancelWithStatus(e,t)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return null!==(t=this.writeBuffer[e-this.writeBufferOffset])&&void 0!==t?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let e=this.getBufferEntry(t);e.allocated&&this.bufferTracker.free(e.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[e].state){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&"COMPLETED"!==this.underlyingCalls[t].state&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(n.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let e=-1,t=-1;for(let[r,n]of this.underlyingCalls.entries())"ACTIVE"===n.state&&n.nextMessageToSend>e&&(e=n.nextMessageToSend,t=r);-1===t?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(e=>e===t||e.toString().toLowerCase()===n.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;let t=null===(e=this.callConfig)||void 0===e?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let r=Math.random()*this.nextRetryBackoffSec*1e3,n=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,n),r}maybeRetryCall(e,t){let r;if("RETRY"!==this.state){t(!1);return}let n=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(n.maxAttempts,5)){t(!1);return}if(null===e)r=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else r=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var e,r;if("RETRY"!==this.state){t(!1);return}(null===(r=null===(e=this.retryThrottler)||void 0===e?void 0:e.canRetryCall())||void 0===r||r)&&(t(!0),this.attempts+=1,this.startNewAttempt())},r)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)(null==t?void 0:t.state)==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,r){var n,i,s;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList(null!==(n=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)&&void 0!==n?n:[],e.code)){let n;if(null===(i=this.retryThrottler)||void 0===i||i.addCallFailed(),null===r)n=0;else if(r<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else n=r;setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(t),this.reportStatus(e))},n)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?(null===(s=this.retryThrottler)||void 0===s||s.addCallFailed(),this.maybeRetryCall(r,r=>{r||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e))}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(0===t.length)return null;try{return parseInt(t[0])}catch(e){return -1}}handleChildStatus(e,t){var r;if("COMPLETED"===this.underlyingCalls[t].state)return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===n.Status.OK){null===(r=this.retryThrottler)||void 0===r||r.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if("COMMITTED"===this.state){this.reportStatus(e);return}let i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,i)}}maybeStartHedgingAttempt(){if("HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,t,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let n=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(n.maxAttempts,5))return;let i=null!==(e=n.hedgingDelay)&&void 0!==e?e:"0s",s=Number(i.substring(0,i.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*s),null===(r=(t=this.hedgingTimer).unref)||void 0===r||r.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});let r=this.attempts-1,n=this.initialMetadata.clone();r>0&&n.set(l,`${r}`);let i=!1;e.start(n,{onReceiveMetadata:n=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),i=!0,r>0&&n.set(l,`${r}`),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMetadata(n)},onReceiveMessage:r=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMessage(r)},onReceiveStatus:n=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!i&&r>0&&n.metadata.set(l,`${r}`),this.handleChildStatus(n,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,r;let n=this.underlyingCalls[e],i=n.nextMessageToSend;null===(r=(t=this.getBufferEntry(i)).callback)||void 0===r||r.call(t),this.clearSentMessages(),n.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if("COMPLETED"!==t.state&&this.getBufferEntry(t.nextMessageToSend)){let r=this.getBufferEntry(t.nextMessageToSend);switch(r.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose()}}}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);let n={message:t,flags:e.flags},i=this.getNextBufferIndex(),s={entryType:"MESSAGE",message:n,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(s),s.allocated)for(let[n,s]of(null===(r=e.callback)||void 0===r||r.call(e),this.underlyingCalls.entries()))"ACTIVE"===s.state&&s.nextMessageToSend===i&&s.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(n)}},t);else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;let r=this.underlyingCalls[this.committedCallIndex];s.callback=e.callback,"ACTIVE"===r.state&&r.nextMessageToSend===i&&r.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){for(let e of(this.trace("startRead called"),this.readStarted=!0,this.underlyingCalls))(null==e?void 0:e.state)==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();for(let t of(this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1}),this.underlyingCalls))(null==t?void 0:t.state)==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}t.RetryingCall=c},24285:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2ServerCallStream=t.ServerDuplexStreamImpl=t.ServerWritableStreamImpl=t.ServerReadableStreamImpl=t.ServerUnaryCallImpl=void 0;let n=r(82361),i=r(85158),s=r(12781),o=r(59796),a=r(73837),A=r(88905),l=r(46598),c=r(69196),u=r(14386),h=r(17025),d="server_call",g=(0,a.promisify)(o.unzip),f=(0,a.promisify)(o.inflate);function p(e){u.trace(A.LogVerbosity.DEBUG,d,e)}let E="grpc-message",m="grpc-status",C="grpc-timeout",y=/(\d{1,8})\s*([HMSmun])/,I={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},B={"grpc-accept-encoding":"identity,deflate,gzip","grpc-encoding":"identity"},Q={[i.constants.HTTP2_HEADER_STATUS]:i.constants.HTTP_STATUS_OK,[i.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},v={waitForTrailers:!0};class w extends n.EventEmitter{constructor(e,t,r){super(),this.call=e,this.metadata=t,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerUnaryCallImpl=w;class b extends s.Readable{constructor(e,t,r,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,n)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerReadableStreamImpl=b;class S extends s.Writable{constructor(e,t,r,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.request=n,this.cancelled=!1,this.trailingMetadata=new l.Metadata,this.call.setupSurfaceCall(this),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,t,r){try{let t=this.call.serializeMessage(e);if(!this.call.write(t)){this.call.once("drain",r);return}}catch(e){this.emit("error",{details:(0,h.getErrorMessage)(e),code:A.Status.INTERNAL})}r()}_final(e){this.call.sendStatus({code:A.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerWritableStreamImpl=S;class k extends s.Duplex{constructor(e,t,r,n,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.deserialize=n,this.cancelled=!1,this.trailingMetadata=new l.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,i),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerDuplexStreamImpl=k,k.prototype._read=b.prototype._read,k.prototype._write=S.prototype._write,k.prototype._final=S.prototype._final;class R extends n.EventEmitter{constructor(e,t,r){super(),this.stream=e,this.handler=t,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=A.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=A.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",e=>{}),this.stream.once("close",()=>{var e;p("Request to method "+(null===(e=this.handler)||void 0===e?void 0:e.path)+" stream closed with rstCode "+this.stream.rstCode),!this.statusSent&&(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:A.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(e,t){return"deflate"===t?f(e.subarray(5)):"gzip"===t?g(e.subarray(5)):"identity"===t?e.subarray(5):Promise.reject({code:A.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},Q),B),t);this.stream.respond(r,v)}receiveMetadata(e){let t=l.Metadata.fromHttp2Headers(e);u.isTracerEnabled(d)&&p("Request to "+this.handler.path+" received headers "+JSON.stringify(t.toJSON()));let r=t.get(C);if(r.length>0){let e=r[0].toString().match(y);if(null===e){let e=Error("Invalid deadline");return e.code=A.Status.OUT_OF_RANGE,this.sendError(e),t}let n=+e[1]*I[e[2]]|0,i=new Date;this.deadline=i.setMilliseconds(i.getMilliseconds()+n),this.deadlineTimer=setTimeout(D,n,this),t.remove(C)}return t.remove(i.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(i.constants.HTTP2_HEADER_TE),t.remove(i.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(e){return new Promise((t,r)=>{let{stream:n}=this,i=0,s=this,o=[],a=this.maxReceiveMessageSize;function l(e){if(i+=e.byteLength,-1!==a&&i>a){n.removeListener("data",l),n.removeListener("end",c),n.removeListener("error",c),r({code:A.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${i} vs. ${a})`});return}o.push(e)}function c(a){if(n.removeListener("data",l),n.removeListener("end",c),n.removeListener("error",c),void 0!==a){r({code:A.Status.INTERNAL,details:a.message});return}if(0===i){r({code:A.Status.INTERNAL,details:"received empty unary message"});return}s.emit("receiveMessage");let u=Buffer.concat(o,i),h=1===u.readUInt8(0)?e:"identity",d=s.getDecompressedMessage(u,h);if(Buffer.isBuffer(d)){t(s.deserializeMessageWithInternalError(d));return}d.then(e=>t(s.deserializeMessageWithInternalError(e)),t=>r(t.code?t:{code:A.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`}))}this.stream.on("data",l),this.stream.on("end",c),this.stream.on("error",c)})}async deserializeMessageWithInternalError(e){try{return this.deserializeMessage(e)}catch(e){throw{details:(0,h.getErrorMessage)(e),code:A.Status.INTERNAL}}}serializeMessage(e){let t=this.handler.serialize(e),r=t.byteLength,n=Buffer.allocUnsafe(r+5);return n.writeUInt8(0,0),n.writeUInt32BE(r,1),t.copy(n,5),n}deserializeMessage(e){return this.handler.deserialize(e)}async sendUnaryMessage(e,t,r,n){if(!this.checkCancelled()){if(void 0===r&&(r=null),e){!Object.prototype.hasOwnProperty.call(e,"metadata")&&r&&(e.metadata=r),this.sendError(e);return}try{let e=this.serializeMessage(t);this.write(e),this.sendStatus({code:A.Status.OK,details:"OK",metadata:r})}catch(e){this.sendError({details:(0,h.getErrorMessage)(e),code:A.Status.INTERNAL})}}}sendStatus(e){var t,r;if(this.emit("callEnd",e.code),this.emit("streamEnd",e.code===A.Status.OK),!this.checkCancelled()){if(p("Request to method "+(null===(t=this.handler)||void 0===t?void 0:t.path)+" ended with status code: "+A.Status[e.code]+" details: "+e.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var t;let r=Object.assign({[m]:e.code,[E]:encodeURI(e.details)},null===(t=e.metadata)||void 0===t?void 0:t.toHttp2Headers());this.stream.sendTrailers(r),this.statusSent=!0}),this.stream.end());else{let t=Object.assign(Object.assign({[m]:e.code,[E]:encodeURI(e.details)},Q),null===(r=e.metadata)||void 0===r?void 0:r.toHttp2Headers());this.stream.respond(t,{endStream:!0}),this.statusSent=!0}}}sendError(e){let t={code:A.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&void 0!==e.metadata?e.metadata:null};"code"in e&&"number"==typeof e.code&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&"string"==typeof e.details&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(-1!==this.maxSendMessageSize&&e.length>this.maxSendMessageSize){this.sendError({code:A.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(e)}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=!0,e.emit("cancelled",t)}),this.once("callEnd",t=>e.emit("callEnd",t))}setupReadable(e,t){let r=new c.StreamDecoder,n=!1,i=!1,s=!1,o=async()=>{s||!n||i||(s=!0,await this.pushOrBufferMessage(e,null))};this.stream.on("data",async n=>{let s=r.write(n);for(let r of(i=!0,this.stream.pause(),s)){if(-1!==this.maxReceiveMessageSize&&r.length>this.maxReceiveMessageSize){this.sendError({code:A.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${r.length} vs. ${this.maxReceiveMessageSize})`});return}this.emit("receiveMessage");let n=1===r.readUInt8(0)?t:"identity",i=await this.getDecompressedMessage(r,n);if(!i)return;await this.pushOrBufferMessage(e,i)}i=!1,this.stream.resume(),await o()}),this.stream.once("end",async()=>{n=!0,await o()})}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){let t=this.messagesToPush.shift(),r=e.push(t);if(null===t||!1===r){this.canPush=!1;break}}return this.canPush}async pushOrBufferMessage(e,t){this.isPushPending?this.bufferedMessages.push(t):await this.pushMessage(e,t)}async pushMessage(e,t){if(null===t){p("Received end of stream"),this.canPush?e.push(null):this.messagesToPush.push(null);return}p("Received message of length "+t.length),this.isPushPending=!0;try{let r=await this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(r){this.bufferedMessages.length=0;let t=(0,h.getErrorCode)(r);(null===t||t<A.Status.OK||t>A.Status.UNAUTHENTICATED)&&(t=A.Status.INTERNAL),e.emit("error",{details:(0,h.getErrorMessage)(r),code:t})}this.isPushPending=!1,this.bufferedMessages.length>0&&await this.pushMessage(e,this.bufferedMessages.shift())}getPeer(){var e;let t=null===(e=this.stream.session)||void 0===e?void 0:e.socket;return null!=t&&t.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}}function D(e){let t=Error("Deadline exceeded");t.code=A.Status.DEADLINE_EXCEEDED,e.sendError(t),e.cancelled=!0,e.emit("cancelled","deadline")}t.Http2ServerCallStream=R},14288:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerCredentials=void 0;let n=r(6337);class i{static createInsecure(){return new s}static createSsl(e,t,r=!1){if(null!==e&&!Buffer.isBuffer(e))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw TypeError("keyCertPairs must be an array");if("boolean"!=typeof r)throw TypeError("checkClientCertificate must be a boolean");let i=[],s=[];for(let e=0;e<t.length;e++){let r=t[e];if(null===r||"object"!=typeof r)throw TypeError(`keyCertPair[${e}] must be an object`);if(!Buffer.isBuffer(r.private_key))throw TypeError(`keyCertPair[${e}].private_key must be a Buffer`);if(!Buffer.isBuffer(r.cert_chain))throw TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`);i.push(r.cert_chain),s.push(r.private_key)}return new o({ca:e||(0,n.getDefaultRootsData)()||void 0,cert:i,key:s,requestCert:r,ciphers:n.CIPHER_SUITES})}}t.ServerCredentials=i;class s extends i{_isSecure(){return!1}_getSettings(){return null}}class o extends i{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}},41798:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;let n=r(85158),i=r(88905),s=r(24285),o=r(14288),a=r(25361),A=r(14386),l=r(50476),c=r(76228),u=r(14174),h=2147483647,d=2147483647,g=2e4,{HTTP2_HEADER_PATH:f}=n.constants,p="server";function E(){}function m(e){return{code:i.Status.UNIMPLEMENTED,details:`The server does not implement the method ${e}`}}function C(e,t){let r=m(t);switch(e){case"unary":return(e,t)=>{t(r,null)};case"clientStream":return(e,t)=>{t(r,null)};case"serverStream":return e=>{e.emit("error",r)};case"bidi":return e=>{e.emit("error",r)};default:throw Error(`Invalid handlerType ${e}`)}}class y{constructor(e){var t,r,n,i;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new u.ChannelzTrace,this.callTracker=new u.ChannelzCallTracker,this.listenerChildrenTracker=new u.ChannelzChildrenTracker,this.sessionChildrenTracker=new u.ChannelzChildrenTracker,this.options=null!=e?e:{},0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,u.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!==(t=this.options["grpc.max_connection_age_ms"])&&void 0!==t?t:h,this.maxConnectionAgeGraceMs=null!==(r=this.options["grpc.max_connection_age_grace_ms"])&&void 0!==r?r:h,this.keepaliveTimeMs=null!==(n=this.options["grpc.keepalive_time_ms"])&&void 0!==n?n:d,this.keepaliveTimeoutMs=null!==(i=this.options["grpc.keepalive_timeout_ms"])&&void 0!==i?i:g,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var t,r,n;let i;let s=this.sessions.get(e),o=e.socket,a=o.remoteAddress?(0,l.stringToSubchannelAddress)(o.remoteAddress,o.remotePort):null,A=o.localAddress?(0,l.stringToSubchannelAddress)(o.localAddress,o.localPort):null;if(e.encrypted){let e=o,r=e.getCipher(),n=e.getCertificate(),s=e.getPeerCertificate();i={cipherSuiteStandardName:null!==(t=r.standardName)&&void 0!==t?t:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:n&&"raw"in n?n.raw:null,remoteCertificate:s&&"raw"in s?s.raw:null}}else i=null;return{remoteAddress:a,localAddress:A,security:i,remoteName:null,streamsStarted:s.streamTracker.callsStarted,streamsSucceeded:s.streamTracker.callsSucceeded,streamsFailed:s.streamTracker.callsFailed,messagesSent:s.messagesSent,messagesReceived:s.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:s.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:s.lastMessageSentTimestamp,lastMessageReceivedTimestamp:s.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(r=e.state.localWindowSize)&&void 0!==r?r:null,remoteFlowControlWindow:null!==(n=e.state.remoteWindowSize)&&void 0!==n?n:null}}}trace(e){A.trace(i.LogVerbosity.DEBUG,p,"("+this.channelzRef.id+") "+e)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService(e,t){if(null===e||"object"!=typeof e||null===t||"object"!=typeof t)throw Error("addService() requires two objects as arguments");let r=Object.keys(e);if(0===r.length)throw Error("Cannot add an empty service to a server");r.forEach(r=>{let n,i;let s=e[r];n=s.requestStream?s.responseStream?"bidi":"clientStream":s.responseStream?"serverStream":"unary";let o=t[r];if(void 0===o&&"string"==typeof s.originalName&&(o=t[s.originalName]),i=void 0!==o?o.bind(t):C(n,r),!1===this.register(s.path,i,s.responseSerialize,s.requestDeserialize,n))throw Error(`Method handler for ${s.path} already provided.`)})}removeService(e){if(null===e||"object"!=typeof e)throw Error("removeService() requires object as argument");Object.keys(e).forEach(t=>{let r=e[t];this.unregister(r.path)})}bind(e,t){throw Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,r){if(!0===this.started)throw Error("server is already started");if(this.shutdown)throw Error("bindAsync called after shutdown");if("string"!=typeof e)throw TypeError("port must be a string");if(null===t||!(t instanceof o.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if("function"!=typeof r)throw TypeError("callback must be a function");let s=(0,c.parseUri)(e);if(null===s)throw Error(`Could not parse port "${e}"`);let h=(0,a.mapUriDefaultScheme)(s);if(null===h)throw Error(`Could not get a default scheme for port "${e}"`);let d={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?d.maxSessionMemory=this.options["grpc-node.max_session_memory"]:d.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(d.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let g=(e,t)=>{process.nextTick(()=>r(e,t))},f=()=>{let e;if(t._isSecure()){let r=Object.assign(d,t._getSettings());r.enableTrace=1===this.options["grpc-node.tls_enable_trace"],(e=n.createSecureServer(r)).on("secureConnection",e=>{e.on("error",e=>{this.trace("An incoming TLS connection closed with error: "+e.message)})})}else e=n.createServer(d);return e.setTimeout(0,E),this._setupHandlers(e),e},p=(e,t,r)=>0===e.length?Promise.resolve({port:t,count:r}):Promise.all(e.map(e=>{let r;this.trace("Attempting to bind "+(0,l.subchannelAddressToString)(e)),r=(0,l.isTcpSubchannelAddress)(e)?{host:e.host,port:t}:e;let n=f();return new Promise((i,s)=>{let o=t=>{this.trace("Failed to bind "+(0,l.subchannelAddressToString)(e)+" with error "+t.message),i(t)};n.once("error",o),n.listen(r,()=>{let e;if(this.shutdown){n.close(),i(Error("bindAsync failed because server is shutdown"));return}let r=n.address();e="string"==typeof r?{path:r}:{host:r.address,port:r.port};let s=(0,u.registerChannelzSocket)((0,l.subchannelAddressToString)(e),()=>({localAddress:e,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(s),this.http2ServerList.push({server:n,channelzRef:s}),this.trace("Successfully bound "+(0,l.subchannelAddressToString)(e)),i("port"in e?e.port:t),n.removeListener("error",o)})})})).then(e=>{let n=0;for(let r of e)if("number"==typeof r&&(n+=1,r!==t))throw Error("Invalid state: multiple port numbers added from single address");return{port:t,count:n+r}}),m=e=>{if(0===e.length)return Promise.resolve({port:0,count:0});let t=e[0],r=f();return new Promise((n,i)=>{let s=r=>{this.trace("Failed to bind "+(0,l.subchannelAddressToString)(t)+" with error "+r.message),n(m(e.slice(1)))};r.once("error",s),r.listen(t,()=>{if(this.shutdown){r.close(),n({port:0,count:0});return}let t=r.address(),i={host:t.address,port:t.port},o=(0,u.registerChannelzSocket)((0,l.subchannelAddressToString)(i),()=>({localAddress:i,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(o),this.http2ServerList.push({server:r,channelzRef:o}),this.trace("Successfully bound "+(0,l.subchannelAddressToString)(i)),n(p(e.slice(1),t.port,1)),r.removeListener("error",s)})})},C={onSuccessfulResolution:(t,r,n)=>{let s;if(C.onSuccessfulResolution=()=>{},this.shutdown&&g(Error("bindAsync failed because server is shutdown"),0),0===t.length){g(Error(`No addresses resolved for port ${e}`),0);return}(s=(0,l.isTcpSubchannelAddress)(t[0])?0===t[0].port?m(t):p(t,t[0].port,0):p(t,1,0)).then(e=>{if(0===e.count){let e=`No address added out of total ${t.length} resolved`;A.log(i.LogVerbosity.ERROR,e),g(Error(e),0)}else e.count<t.length&&A.log(i.LogVerbosity.INFO,`WARNING Only ${e.count} addresses added out of total ${t.length} resolved`),g(null,e.port)},e=>{let r=`No address added out of total ${t.length} resolved`;A.log(i.LogVerbosity.ERROR,r),g(Error(r),0)})},onError:e=>{g(Error(e.details),0)}};(0,a.createResolver)(h,C,this.options).updateResolution()}forceShutdown(){for(let{server:e,channelzRef:t}of this.http2ServerList)e.listening&&e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,u.unregisterChannelzRef)(t))});this.started=!1,this.shutdown=!0,this.sessions.forEach((e,t)=>{t.destroy(n.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,u.unregisterChannelzRef)(this.channelzRef)}register(e,t,r,n,i){return!this.handlers.has(e)&&(this.handlers.set(e,{func:t,serialize:r,deserialize:n,type:i,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every(({server:e})=>!0!==e.listening))throw Error("server must be bound in order to start");if(!0===this.started)throw Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(e){let t=t=>{this.channelzEnabled&&(0,u.unregisterChannelzRef)(this.channelzRef),e(t)},r=0;function n(){0==--r&&t()}for(let{server:e,channelzRef:t}of(this.started=!1,this.shutdown=!0,this.http2ServerList))e.listening&&(r++,e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,u.unregisterChannelzRef)(t)),n()}));this.sessions.forEach((e,t)=>{t.closed||(r+=1,t.close(n))}),0===r&&t()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){let r=t[n.constants.HTTP2_HEADER_CONTENT_TYPE];return!!("string"==typeof r&&r.startsWith("application/grpc"))||(e.respond({[n.constants.HTTP2_HEADER_STATUS]:n.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);let t=this.handlers.get(e);return void 0===t?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):t}_respondWithError(e,t,r=null){let n=new s.Http2ServerCallStream(t,null,this.options);void 0===e.code&&(e.code=i.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed()),n.sendError(e)}_channelzHandler(e,t){let r=this.sessions.get(e.session);if(this.callTracker.addCallStarted(),null==r||r.streamTracker.addCallStarted(),!this._verifyContentType(e,t)){this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed();return}let n=t[f],o=this._retrieveHandler(n);if(!o){this._respondWithError(m(n),e,r);return}let a=new s.Http2ServerCallStream(e,o,this.options);a.once("callEnd",e=>{e===i.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),r&&(a.once("streamEnd",e=>{e?r.streamTracker.addCallSucceeded():r.streamTracker.addCallFailed()}),a.on("sendMessage",()=>{r.messagesSent+=1,r.lastMessageSentTimestamp=new Date}),a.on("receiveMessage",()=>{r.messagesReceived+=1,r.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(a,o,t)||(this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed(),a.sendError({code:i.Status.INTERNAL,details:`Unknown handler type: ${o.type}`}))}_streamHandler(e,t){if(!0!==this._verifyContentType(e,t))return;let r=t[f],n=this._retrieveHandler(r);if(!n){this._respondWithError(m(r),e,null);return}let o=new s.Http2ServerCallStream(e,n,this.options);this._runHandlerForCall(o,n,t)||o.sendError({code:i.Status.INTERNAL,details:`Unknown handler type: ${n.type}`})}_runHandlerForCall(e,t,r){var n;let i=e.receiveMetadata(r),s=null!==(n=i.get("grpc-encoding")[0])&&void 0!==n?n:"identity";i.remove("grpc-encoding");let{type:o}=t;if("unary"===o)I(e,t,i,s);else if("clientStream"===o)B(e,t,i,s);else if("serverStream"===o)Q(e,t,i,s);else{if("bidi"!==o)return!1;v(e,t,i,s)}return!0}_setupHandlers(e){if(null===e)return;let t=e.address(),r="null";t&&(r="string"==typeof t?t:t.address+":"+t.port),this.serverAddressString=r;let i=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",i.bind(this)),e.on("session",e=>{var t,r,i,s,o;if(!this.started){e.destroy();return}let a=(0,u.registerChannelzSocket)(null!==(t=e.socket.remoteAddress)&&void 0!==t?t:"unknown",this.getChannelzSessionInfoGetter(e),this.channelzEnabled),A={ref:a,streamTracker:new u.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(e,A);let l=e.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+l),this.sessionChildrenTracker.refChild(a));let c=null,d=null,g=!1;if(this.maxConnectionAgeMs!==h){let t=this.maxConnectionAgeMs/10,s=Math.random()*t*2-t;c=null===(i=(r=setTimeout(()=>{var t,r;g=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+l);try{e.goaway(n.constants.NGHTTP2_NO_ERROR,2147483647,Buffer.from("max_age"))}catch(t){e.destroy();return}e.close(),this.maxConnectionAgeGraceMs!==h&&(d=null===(r=(t=setTimeout(()=>{e.destroy()},this.maxConnectionAgeGraceMs)).unref)||void 0===r?void 0:r.call(t))},this.maxConnectionAgeMs+s)).unref)||void 0===i?void 0:i.call(r)}let f=null===(o=(s=setInterval(()=>{var t,r;let n=null===(r=(t=setTimeout(()=>{g=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+l),e.close()},this.keepaliveTimeoutMs)).unref)||void 0===r?void 0:r.call(t);try{e.ping((e,t,r)=>{clearTimeout(n)})}catch(t){e.destroy()}},this.keepaliveTimeMs)).unref)||void 0===o?void 0:o.call(s);e.on("close",()=>{this.channelzEnabled&&(g||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+l),this.sessionChildrenTracker.unrefChild(a),(0,u.unregisterChannelzRef)(a)),c&&clearTimeout(c),d&&clearTimeout(d),f&&clearTimeout(f),this.sessions.delete(e)})})}}async function I(e,t,r,n){try{let i=await e.receiveUnaryMessage(n);if(void 0===i||e.cancelled)return;let o=new s.ServerUnaryCallImpl(e,r,i);t.func(o,(t,r,n,i)=>{e.sendUnaryMessage(t,r,n,i)})}catch(t){e.sendError(t)}}function B(e,t,r,n){let i=new s.ServerReadableStreamImpl(e,r,t.deserialize,n);function o(t,r,n,s){i.destroy(),e.sendUnaryMessage(t,r,n,s)}e.cancelled||(i.on("error",o),t.func(i,o))}async function Q(e,t,r,n){try{let i=await e.receiveUnaryMessage(n);if(void 0===i||e.cancelled)return;let o=new s.ServerWritableStreamImpl(e,r,t.serialize,i);t.func(o)}catch(t){e.sendError(t)}}function v(e,t,r,n){let i=new s.ServerDuplexStreamImpl(e,r,t.serialize,t.deserialize,n);e.cancelled||t.func(i)}t.Server=y},58668:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndSelectServiceConfig=t.validateServiceConfig=t.validateRetryThrottling=void 0;let n=r(22037),i=r(88905),s=r(82728),o=/^\d+(\.\d{1,9})?s$/,a="node";function A(e){if("service"in e&&""!==e.service){if("string"!=typeof e.service)throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof e.service}`);if(!("method"in e)||""===e.method)return{service:e.service};if("string"!=typeof e.method)throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof e.service}`);return{service:e.service,method:e.method}}if("method"in e&&void 0!==e.method)throw Error("Invalid method config name: method set with empty or unset service");return{}}function l(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in e)||"string"!=typeof e.initialBackoff||!o.test(e.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in e)||"string"!=typeof e.maxBackoff||!o.test(e.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in e)||"number"!=typeof e.backoffMultiplier||e.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in e&&Array.isArray(e.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===e.retryableStatusCodes.length)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let t of e.retryableStatusCodes)if("number"==typeof t){if(!Object.values(i.Status).includes(t))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if("string"==typeof t){if(!Object.values(i.Status).includes(t.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:e.maxAttempts,initialBackoff:e.initialBackoff,maxBackoff:e.maxBackoff,backoffMultiplier:e.backoffMultiplier,retryableStatusCodes:e.retryableStatusCodes}}function c(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in e&&("string"!=typeof e.hedgingDelay||!o.test(e.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in e&&Array.isArray(e.nonFatalStatusCodes))for(let t of e.nonFatalStatusCodes)if("number"==typeof t){if(!Object.values(i.Status).includes(t))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if("string"==typeof t){if(!Object.values(i.Status).includes(t.toUpperCase()))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let t={maxAttempts:e.maxAttempts};return e.hedgingDelay&&(t.hedgingDelay=e.hedgingDelay),e.nonFatalStatusCodes&&(t.nonFatalStatusCodes=e.nonFatalStatusCodes),t}function u(e){var t;let r={name:[]};if(!("name"in e)||!Array.isArray(e.name))throw Error("Invalid method config: invalid name array");for(let t of e.name)r.name.push(A(t));if("waitForReady"in e){if("boolean"!=typeof e.waitForReady)throw Error("Invalid method config: invalid waitForReady");r.waitForReady=e.waitForReady}if("timeout"in e){if("object"==typeof e.timeout){if(!("seconds"in e.timeout)||"number"!=typeof e.timeout.seconds)throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in e.timeout)||"number"!=typeof e.timeout.nanos)throw Error("Invalid method config: invalid timeout.nanos");r.timeout=e.timeout}else if("string"==typeof e.timeout&&o.test(e.timeout)){let n=e.timeout.substring(0,e.timeout.length-1).split(".");r.timeout={seconds:0|n[0],nanos:(null!==(t=n[1])&&void 0!==t?t:0)|0}}else throw Error("Invalid method config: invalid timeout")}if("maxRequestBytes"in e){if("number"!=typeof e.maxRequestBytes)throw Error("Invalid method config: invalid maxRequestBytes");r.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if("number"!=typeof e.maxResponseBytes)throw Error("Invalid method config: invalid maxRequestBytes");r.maxResponseBytes=e.maxResponseBytes}if("retryPolicy"in e){if("hedgingPolicy"in e)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");r.retryPolicy=l(e.retryPolicy)}else"hedgingPolicy"in e&&(r.hedgingPolicy=c(e.hedgingPolicy));return r}function h(e){if(!("maxTokens"in e)||"number"!=typeof e.maxTokens||e.maxTokens<=0||e.maxTokens>1e3)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in e)||"number"!=typeof e.tokenRatio||e.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+e.maxTokens.toFixed(3),tokenRatio:+e.tokenRatio.toFixed(3)}}function d(e){let t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e){if("string"==typeof e.loadBalancingPolicy)t.loadBalancingPolicy=e.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy")}if("loadBalancingConfig"in e){if(Array.isArray(e.loadBalancingConfig))for(let r of e.loadBalancingConfig)t.loadBalancingConfig.push((0,s.validateLoadBalancingConfig)(r));else throw Error("Invalid service config: invalid loadBalancingConfig")}if("methodConfig"in e&&Array.isArray(e.methodConfig))for(let r of e.methodConfig)t.methodConfig.push(u(r));"retryThrottling"in e&&(t.retryThrottling=h(e.retryThrottling));let r=[];for(let e of t.methodConfig)for(let t of e.name){for(let e of r)if(t.service===e.service&&t.method===e.method)throw Error(`Invalid service config: duplicate name ${t.service}/${t.method}`);r.push(t)}return t}function g(e){if(!("serviceConfig"in e))throw Error("Invalid service config choice: missing service config");let t={serviceConfig:d(e.serviceConfig)};if("clientLanguage"in e){if(Array.isArray(e.clientLanguage))for(let r of(t.clientLanguage=[],e.clientLanguage))if("string"==typeof r)t.clientLanguage.push(r);else throw Error("Invalid service config choice: invalid clientLanguage");else throw Error("Invalid service config choice: invalid clientLanguage")}if("clientHostname"in e){if(Array.isArray(e.clientHostname))for(let r of(t.clientHostname=[],e.clientHostname))if("string"==typeof r)t.clientHostname.push(r);else throw Error("Invalid service config choice: invalid clientHostname");else throw Error("Invalid service config choice: invalid clientHostname")}if("percentage"in e){if("number"==typeof e.percentage&&0<=e.percentage&&e.percentage<=100)t.percentage=e.percentage;else throw Error("Invalid service config choice: invalid percentage")}let r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let t in e)if(!r.includes(t))throw Error(`Invalid service config choice: unexpected field ${t}`);return t}function f(e,t){if(!Array.isArray(e))throw Error("Invalid service config list");for(let r of e){let e=g(r);if("number"!=typeof e.percentage||!(t>e.percentage)){if(Array.isArray(e.clientHostname)){let t=!1;for(let r of e.clientHostname)r===n.hostname()&&(t=!0);if(!t)continue}if(Array.isArray(e.clientLanguage)){let t=!1;for(let r of e.clientLanguage)r===a&&(t=!0);if(!t)continue}return e.serviceConfig}}throw Error("No matching service config found")}function p(e,t){for(let r of e)if(r.length>0&&r[0].startsWith("grpc_config="))return f(JSON.parse(r.join("").substring(12)),t);return null}t.validateRetryThrottling=h,t.validateServiceConfig=d,t.extractAndSelectServiceConfig=p},71192:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBuilder=void 0;class r{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return null!==this.code&&(e.code=this.code),null!==this.details&&(e.details=this.details),null!==this.metadata&&(e.metadata=this.metadata),e}}t.StatusBuilder=r},69196:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDecoder=void 0,function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"}(r||(r={}));class n{constructor(){this.readState=r.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t,n=0,i=[];for(;n<e.length;)switch(this.readState){case r.NO_DATA:this.readCompressFlag=e.slice(n,n+1),n+=1,this.readState=r.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case r.READING_SIZE:if(t=Math.min(e.length-n,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,n,n+t),this.readSizeRemaining-=t,n+=t,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=r.READING_MESSAGE;else{let e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=r.NO_DATA,i.push(e)}}break;case r.READING_MESSAGE:if(t=Math.min(e.length-n,this.readMessageRemaining),this.readPartialMessage.push(e.slice(n,n+t)),this.readMessageRemaining-=t,n+=t,0===this.readMessageRemaining){let e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),t=Buffer.concat(e,this.readMessageSize+5);this.readState=r.NO_DATA,i.push(t)}break;default:throw Error("Unexpected read state")}return i}}t.StreamDecoder=n},50476:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringToSubchannelAddress=t.subchannelAddressToString=t.subchannelAddressEqual=t.isTcpSubchannelAddress=void 0;let n=r(41808);function i(e){return"port"in e}function s(e,t){return!e&&!t||!!e&&!!t&&(i(e)?i(t)&&e.host===t.host&&e.port===t.port:!i(t)&&e.path===t.path)}function o(e){return i(e)?e.host+":"+e.port:e.path}t.isTcpSubchannelAddress=i,t.subchannelAddressEqual=s,t.subchannelAddressToString=o;let a=443;function A(e,t){return(0,n.isIP)(e)?{host:e,port:null!=t?t:a}:{path:e}}t.stringToSubchannelAddress=A},59862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelCall=void 0;let n=r(85158),i=r(22037),s=r(88905),o=r(46598),a=r(69196),A=r(14386),l=r(88905),c="subchannel_call";function u(e){for(let[t,r]of Object.entries(i.constants.errno))if(r===e)return t;return"Unknown system error "+e}class h{constructor(e,t,r,i,A){this.http2Stream=e,this.callEventTracker=t,this.listener=r,this.transport=i,this.callId=A,this.decoder=new a.StreamDecoder,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=s.Status.UNKNOWN,this.finalStatus=null,this.internalError=null,e.on("response",(e,t)=>{let r="";for(let t of Object.keys(e))r+="		"+t+": "+e[t]+"\n";switch(this.trace("Received server headers:\n"+r),e[":status"]){case 400:this.mappedStatusCode=s.Status.INTERNAL;break;case 401:this.mappedStatusCode=s.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=s.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=s.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=s.Status.UNAVAILABLE;break;default:this.mappedStatusCode=s.Status.UNKNOWN}if(t&n.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(e);else{let t;try{t=o.Metadata.fromHttp2Headers(e)}catch(e){this.endCall({code:s.Status.UNKNOWN,details:e.message,metadata:new o.Metadata});return}this.listener.onReceiveMetadata(t)}}),e.on("trailers",e=>{this.handleTrailers(e)}),e.on("data",e=>{if(!this.statusOutput)for(let t of(this.trace("receive HTTP/2 data frame of length "+e.length),this.decoder.write(e)))this.trace("parsed message of length "+t.length),this.callEventTracker.addMessageReceived(),this.tryPush(t)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{process.nextTick(()=>{var t;let r;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),(null===(t=this.finalStatus)||void 0===t?void 0:t.code)===s.Status.OK)return;let i="";switch(e.rstCode){case n.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;r=s.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode}`;break;case n.constants.NGHTTP2_REFUSED_STREAM:r=s.Status.UNAVAILABLE,i="Stream refused by server";break;case n.constants.NGHTTP2_CANCEL:r=s.Status.CANCELLED,i="Call cancelled";break;case n.constants.NGHTTP2_ENHANCE_YOUR_CALM:r=s.Status.RESOURCE_EXHAUSTED,i="Bandwidth exhausted or memory limit exceeded";break;case n.constants.NGHTTP2_INADEQUATE_SECURITY:r=s.Status.PERMISSION_DENIED,i="Protocol not secure enough";break;case n.constants.NGHTTP2_INTERNAL_ERROR:r=s.Status.INTERNAL,null===this.internalError?i=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(r=s.Status.UNAVAILABLE,i=this.internalError.message):i=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:r=s.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:r,details:i,metadata:new o.Metadata,rstCode:e.rstCode})})}),e.on("error",e=>{"ERR_HTTP2_STREAM_ERROR"!==e.code&&(this.trace("Node error event: message="+e.message+" code="+e.code+" errno="+u(e.errno)+" syscall="+e.syscall),this.internalError=e),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:s.Status.UNAVAILABLE,details:"Connection dropped",metadata:new o.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){A.trace(l.LogVerbosity.DEBUG,c,"["+this.callId+"] "+e)}endCall(e){(null===this.finalStatus||this.finalStatus.code===s.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null===this.finalStatus||this.finalStatus.code===s.Status.OK&&(!this.readsClosed||0!==this.unpushedReadMessages.length||this.isReadFilterPending||this.isPushPending)||this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){let t;this.callEventTracker.onStreamEnd(!0);let r="";for(let t of Object.keys(e))r+="		"+t+": "+e[t]+"\n";this.trace("Received server trailers:\n"+r);try{t=o.Metadata.fromHttp2Headers(e)}catch(e){t=new o.Metadata}let n=t.getMap(),i=this.mappedStatusCode;if(i===s.Status.UNKNOWN&&"string"==typeof n["grpc-status"]){let e=Number(n["grpc-status"]);e in s.Status&&(i=e,this.trace("received status code "+e+" from server")),t.remove("grpc-status")}let a="";if("string"==typeof n["grpc-message"]){try{a=decodeURI(n["grpc-message"])}catch(e){a=n["grpc-message"]}t.remove("grpc-message"),this.trace('received status details string "'+a+'" from server')}let A={code:i,details:a,metadata:t};this.endCall(A)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let t;t=(null===(e=this.finalStatus)||void 0===e?void 0:e.code)===s.Status.OK?n.constants.NGHTTP2_NO_ERROR:n.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new o.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==s.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let r=t=>{process.nextTick(()=>{var r;let n=s.Status.UNAVAILABLE;(null==t?void 0:t.code)==="ERR_STREAM_WRITE_AFTER_END"&&(n=s.Status.INTERNAL),t&&this.cancelWithStatus(n,`Write error: ${t.message}`),null===(r=e.callback)||void 0===r||r.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,r)}catch(e){this.endCall({code:s.Status.UNAVAILABLE,details:`Write failed with error ${e.message}`,metadata:new o.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}t.Http2SubchannelCall=h},55074:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSubchannelWrapper=void 0;class r{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}}t.BaseSubchannelWrapper=r},80760:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubchannelPool=t.SubchannelPool=void 0;let n=r(8007),i=r(22757),s=r(50476),o=r(76228),a=r(87431),A=1e4;class l{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let r=this.pool[t].filter(e=>!e.subchannel.unrefIfOneRef());r.length>0&&(e=!1),this.pool[t]=r}e&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},A),null===(t=(e=this.cleanupTimer).unref)||void 0===t||t.call(e))}getOrCreateSubchannel(e,t,r,A){this.ensureCleanupTask();let l=(0,o.uriToString)(e);if(l in this.pool){for(let e of this.pool[l])if((0,s.subchannelAddressEqual)(t,e.subchannelAddress)&&(0,n.channelOptionsEqual)(r,e.channelArguments)&&A._equals(e.channelCredentials))return e.subchannel}let c=new i.Subchannel(e,t,r,A,new a.Http2SubchannelConnector(e));return l in this.pool||(this.pool[l]=[]),this.pool[l].push({subchannelAddress:t,channelArguments:r,channelCredentials:A,subchannel:c}),c.ref(),c}}t.SubchannelPool=l;let c=new l;function u(e){return e?c:new l}t.getSubchannelPool=u},22757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subchannel=void 0;let n=r(75199),i=r(33339),s=r(14386),o=r(88905),a=r(76228),A=r(50476),l=r(14174),c="subchannel",u=2147483647;class h{constructor(e,t,r,s,o){var a;this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=s,this.connector=o,this.connectivityState=n.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new l.ChannelzCallTracker,this.childrenTracker=new l.ChannelzChildrenTracker,this.streamTracker=new l.ChannelzCallTracker;let c={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new i.BackoffTimeout(()=>{this.handleBackoffTimer()},c),this.backoffTimeout.unref(),this.subchannelAddressString=(0,A.subchannelAddressToString)(t),this.keepaliveTime=null!==(a=r["grpc.keepalive_time_ms"])&&void 0!==a?a:-1,0===r["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new l.ChannelzTrace,this.channelzRef=(0,l.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){s.trace(o.LogVerbosity.DEBUG,c,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){s.trace(o.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING):this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,u);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.READY)?(this.transport=e,this.channelzEnabled&&this.childrenTracker.refChild(e.getChannelzRef()),e.addDisconnectListener(e=>{this.transitionToState([n.ConnectivityState.READY],n.ConnectivityState.IDLE),e&&this.keepaliveTime>0&&(this.keepaliveTime*=2,s.log(o.LogVerbosity.ERROR,`Connection to ${(0,a.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):e.shutdown()},e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.TRANSIENT_FAILURE,`${e}`)})}transitionToState(e,t,r){var i,s;if(-1===e.indexOf(this.connectivityState))return!1;this.trace(n.ConnectivityState[this.connectivityState]+" -> "+n.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+n.ConnectivityState[t]);let o=this.connectivityState;switch(this.connectivityState=t,t){case n.ConnectivityState.READY:this.stopBackoff();break;case n.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case n.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(i=this.transport)||void 0===i||i.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case n.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(s=this.transport)||void 0===s||s.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let e of this.stateListeners)e(this,o,t,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,l.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([n.ConnectivityState.CONNECTING,n.ConnectivityState.READY],n.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(e,t,r,n){let i;if(!this.transport)throw Error("Cannot create call, subchannel not READY");return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),i={onCallEnd:e=>{e.code===o.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):i={},this.transport.createCall(e,t,r,n,i)}startConnecting(){process.nextTick(()=>{this.transitionToState([n.ConnectivityState.IDLE],n.ConnectivityState.CONNECTING)||this.connectivityState!==n.ConnectivityState.TRANSIENT_FAILURE||(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}}t.Subchannel=h},6337:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultRootsData=t.CIPHER_SUITES=void 0;let n=r(57147);t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;let i=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,s=null;function o(){return i?(null===s&&(s=n.readFileSync(i)),s):null}t.getDefaultRootsData=o},87431:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelConnector=void 0;let n=r(85158),i=r(24404),s=r(14174),o=r(88905),a=r(29347),A=r(14386),l=r(25361),c=r(50476),u=r(76228),h=r(41808),d=r(59862),g=r(4391),f="transport",p="transport_flowctrl",E=r(37645).i8,{HTTP2_HEADER_AUTHORITY:m,HTTP2_HEADER_CONTENT_TYPE:C,HTTP2_HEADER_METHOD:y,HTTP2_HEADER_PATH:I,HTTP2_HEADER_TE:B,HTTP2_HEADER_USER_AGENT:Q}=n.constants,v=2e4,w=Buffer.from("too_many_pings","ascii");class b{constructor(e,t,r,i){this.session=e,this.remoteName=i,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=v,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new s.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,c.subchannelAddressToString)(t),0===r["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,s.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${E}`,r["grpc.secondary_user_agent"]].filter(e=>e).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in r?this.keepaliveWithoutCalls=1===r["grpc.keepalive_permit_without_calls"]:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(e,t,r)=>{let i=!1;e===n.constants.NGHTTP2_ENHANCE_YOUR_CALM&&r&&r.equals(w)&&(i=!0),this.trace("connection closed by GOAWAY with code "+e+" and data "+(null==r?void 0:r.toString())),this.reportDisconnectToOwner(i)}),e.once("error",e=>{this.trace("connection closed with error "+e.message)}),A.isTracerEnabled(f)&&(e.on("remoteSettings",t=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))}),e.on("localSettings",t=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,r;let n;let i=this.session.socket,s=i.remoteAddress?(0,c.stringToSubchannelAddress)(i.remoteAddress,i.remotePort):null,o=i.localAddress?(0,c.stringToSubchannelAddress)(i.localAddress,i.localPort):null;if(this.session.encrypted){let t=i,r=t.getCipher(),s=t.getCertificate(),o=t.getPeerCertificate();n={cipherSuiteStandardName:null!==(e=r.standardName)&&void 0!==e?e:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:s&&"raw"in s?s.raw:null,remoteCertificate:o&&"raw"in o?o.raw:null}}else n=null;return{remoteAddress:s,localAddress:o,security:n,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(t=this.session.state.localWindowSize)&&void 0!==t?t:null,remoteFlowControlWindow:null!==(r=this.session.state.remoteWindowSize)&&void 0!==r?r:null}}trace(e){A.trace(o.LogVerbosity.DEBUG,f,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){A.trace(o.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){A.trace(o.LogVerbosity.DEBUG,p,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){A.trace(o.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null===(t=(e=this.keepaliveTimeoutId).unref)||void 0===t||t.call(e));try{this.session.ping((e,t,r)=>{e&&(this.keepaliveTrace("Ping failed with error "+e.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch(e){this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimerId||this.keepaliveTimeoutId||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=null===(t=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)||void 0===t?void 0:t.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),0===this.activeCalls.size&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),1!==this.activeCalls.size||(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,r,n,i){let s,o,a;let A=e.toHttp2Headers();A[m]=t,A[Q]=this.userAgent,A[C]="application/grpc",A[y]="POST",A[I]=r,A[B]="trailers";try{s=this.session.request(A)}catch(e){throw this.handleDisconnect(),e}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),o={addMessageSent:()=>{var e;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null===(e=i.addMessageSent)||void 0===e||e.call(i)},addMessageReceived:()=>{var e;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null===(e=i.addMessageReceived)||void 0===e||e.call(i)},onCallEnd:e=>{var t;null===(t=i.onCallEnd)||void 0===t||t.call(i,e),this.removeActiveCall(a)},onStreamEnd:e=>{var t;e?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null===(t=i.onStreamEnd)||void 0===t||t.call(i,e)}}):o={addMessageSent:()=>{var e;null===(e=i.addMessageSent)||void 0===e||e.call(i)},addMessageReceived:()=>{var e;null===(e=i.addMessageReceived)||void 0===e||e.call(i)},onCallEnd:e=>{var t;null===(t=i.onCallEnd)||void 0===t||t.call(i,e),this.removeActiveCall(a)},onStreamEnd:e=>{var t;null===(t=i.onStreamEnd)||void 0===t||t.call(i,e)}},a=new d.Http2SubchannelCall(s,o,n,this,(0,g.getNextCallNumber)()),this.addActiveCall(a),a}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}shutdown(){this.session.close(),(0,s.unregisterChannelzRef)(this.channelzRef)}}class S{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){A.trace(o.LogVerbosity.DEBUG,f,(0,u.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,r,s){return this.isShutdown?Promise.reject():new Promise((o,a)=>{var A,d,g;let f;s.realTarget?(f=(0,u.uriToString)(s.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,u.uriToString)(s.realTarget))):(f=null,this.trace("creating HTTP/2 session to "+(0,c.subchannelAddressToString)(e)));let p=(0,l.getDefaultAuthority)(null!==(A=s.realTarget)&&void 0!==A?A:this.channelTarget),E=t._getConnectionOptions()||{};E.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in r?E.maxSessionMemory=r["grpc-node.max_session_memory"]:E.maxSessionMemory=Number.MAX_SAFE_INTEGER;let m="http://";if("secureContext"in E){if(m="https://",r["grpc.ssl_target_name_override"]){let e=r["grpc.ssl_target_name_override"];E.checkServerIdentity=(t,r)=>(0,i.checkServerIdentity)(e,r),E.servername=e}else{let e=null!==(g=null===(d=(0,u.splitHostPort)(p))||void 0===d?void 0:d.host)&&void 0!==g?g:"localhost";E.servername=e}s.socket&&(E.createConnection=(e,t)=>s.socket)}else E.createConnection=(t,r)=>s.socket?s.socket:h.connect(e);E=Object.assign(Object.assign(Object.assign({},E),e),{enableTrace:1===r["grpc-node.tls_enable_trace"]});let C=n.connect(m+p,E);this.session=C;let y="Failed to connect";C.unref(),C.once("connect",()=>{C.removeAllListeners(),o(new b(C,e,r,f)),this.session=null}),C.once("close",()=>{this.session=null,setImmediate(()=>{a(`${y} (${new Date().toISOString()})`)})}),C.once("error",e=>{y=e.message,this.trace("connection failed with error "+y)})})}connect(e,t,r){var n,s;if(this.isShutdown)return Promise.reject();let o=t._getConnectionOptions()||{};if("secureContext"in o){if(o.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){let e=r["grpc.ssl_target_name_override"];o.checkServerIdentity=(t,r)=>(0,i.checkServerIdentity)(e,r),o.servername=e}else if("grpc.http_connect_target"in r){let e=(0,l.getDefaultAuthority)(null!==(n=(0,u.parseUri)(r["grpc.http_connect_target"]))&&void 0!==n?n:{path:"localhost"}),t=(0,u.splitHostPort)(e);o.servername=null!==(s=null==t?void 0:t.host)&&void 0!==s?s:e}r["grpc-node.tls_enable_trace"]&&(o.enableTrace=!0)}return(0,a.getProxiedConnection)(e,r,o).then(n=>this.createSession(e,t,r,n))}shutdown(){var e;this.isShutdown=!0,null===(e=this.session)||void 0===e||e.close(),this.session=null}}t.Http2SubchannelConnector=S},76228:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uriToString=t.splitHostPort=t.parseUri=void 0;let r=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function n(e){let t=r.exec(e);return null===t?null:{scheme:t[1],authority:t[2],path:t[3]}}t.parseUri=n;let i=/^\d+$/;function s(e){if(e.startsWith("[")){let t=e.indexOf("]");if(-1===t)return null;let r=e.substring(1,t);if(-1===r.indexOf(":"))return null;if(!(e.length>t+1))return{host:r};if(":"!==e[t+1])return null;{let n=e.substring(t+2);return i.test(n)?{host:r,port:+n}:null}}{let t=e.split(":");return 2!==t.length?{host:e}:i.test(t[1])?{host:t[0],port:+t[1]}:null}}function o(e){let t="";return void 0!==e.scheme&&(t+=e.scheme+":"),void 0!==e.authority&&(t+="//"+e.authority+"/"),t+=e.path}t.splitHostPort=s,t.uriToString=o},64663:(e,t,r)=>{"use strict";var n;/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */n={value:!0},n=n=n=t.J_=n=n=n=void 0;let i=r(61232),s=r(57628),o=r(29530),a=r(5670);n=r(15304),n=function(e){return"@type"in e&&"string"==typeof e["@type"]};let A={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function l(e,t){return""===e?t:e+"."+t}function c(e){return e instanceof s.Service||e instanceof s.Type||e instanceof s.Enum}function u(e){return e instanceof s.Namespace||e instanceof s.Root}function h(e,t){let r=l(t,e.name);return c(e)?[[r,e]]:u(e)&&void 0!==e.nested?Object.keys(e.nested).map(t=>h(e.nested[t],r)).reduce((e,t)=>e.concat(t),[]):[]}function d(e,t){return function(r){return e.toObject(e.decode(r),t)}}function g(e){return function(t){if(Array.isArray(t))throw Error(`Failed to serialize message: expected object with ${e.name} structure, got array instead`);let r=e.fromObject(t);return e.encode(r).finish()}}function f(e,t,r,n){let s=e.resolvedRequestType,o=e.resolvedResponseType;return{path:"/"+t+"/"+e.name,requestStream:!!e.requestStream,responseStream:!!e.responseStream,requestSerialize:g(s),requestDeserialize:d(s,r),responseSerialize:g(o),responseDeserialize:d(o,r),originalName:i(e.name),requestType:E(s,n),responseType:E(o,n)}}function p(e,t,r,n){let i={};for(let s of e.methodsArray)i[s.name]=f(s,t,r,n);return i}function E(e,t){let r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:r.$type.toObject(r,A),fileDescriptorProtos:t}}function m(e,t){let r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,A),fileDescriptorProtos:t}}function C(e,t,r,n){if(e instanceof s.Service)return p(e,t,r,n);if(e instanceof s.Type)return E(e,n);if(e instanceof s.Enum)return m(e,n);throw Error("Type mismatch in reflection object handling")}function y(e,t){let r={};e.resolveAll();let n=e.toDescriptor("proto3").file.map(e=>Buffer.from(o.FileDescriptorProto.encode(e).finish()));for(let[i,s]of h(e,""))r[i]=C(s,i,t,n);return r}function I(e,t){t=t||{};let r=s.Root.fromDescriptor(e);return r.resolveAll(),y(r,t)}function B(e,t){return y((0,a.loadProtosWithOptionsSync)(e,t),t)}n=function(e,t){return(0,a.loadProtosWithOptions)(e,t).then(e=>y(e,t))},t.J_=B,n=function(e,t){t=t||{};let r=s.Root.fromJSON(e);return r.resolveAll(),y(r,t)},n=function(e,t){return I(o.FileDescriptorSet.decode(e),t)},n=function(e,t){return I(o.FileDescriptorSet.fromObject(e),t)},(0,a.addCommonProtos)()},5670:(e,t,r)=>{"use strict";/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty(t,"__esModule",{value:!0}),t.addCommonProtos=t.loadProtosWithOptionsSync=t.loadProtosWithOptions=void 0;let n=r(57147),i=r(71017),s=r(57628);function o(e,t){let r=e.resolvePath;e.resolvePath=(e,s)=>{if(i.isAbsolute(s))return s;for(let e of t){let t=i.join(e,s);try{return n.accessSync(t,n.constants.R_OK),t}catch(e){continue}}return process.emitWarning(`${s} not found in any of the include paths ${t}`),r(e,s)}}async function a(e,t){let r=new s.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));o(r,t.includeDirs)}let n=await r.load(e,t);return n.resolveAll(),n}function A(e,t){let r=new s.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))throw Error("The includeDirs option must be an array");o(r,t.includeDirs)}let n=r.loadSync(e,t);return n.resolveAll(),n}function l(){let e=r(522),t=r(24552),n=r(97105),i=r(8730);s.common("api",e.nested.google.nested.protobuf.nested),s.common("descriptor",t.nested.google.nested.protobuf.nested),s.common("source_context",n.nested.google.nested.protobuf.nested),s.common("type",i.nested.google.nested.protobuf.nested)}t.loadProtosWithOptions=a,t.loadProtosWithOptionsSync=A,t.addCommonProtos=l},81128:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.hkdf=void 0;let n=r(91276);function i(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}function s(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}function o(e){let t=s(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}function a(e){let t=s(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}function A(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}async function l(e,t,r,l,c){return(0,n.default)(i(e),o(t),s(r,"salt"),a(l),A(c,e))}t.hkdf=l,t.default=l},49339:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(6113);t.default=(e,t,r,i,s)=>{let o=parseInt(e.substr(3),10)>>3||20,a=(0,n.createHmac)(e,r.byteLength?r:new Uint8Array(o)).update(t).digest(),A=Math.ceil(s/o),l=new Uint8Array(o*A+i.byteLength+1),c=0,u=0;for(let t=1;t<=A;t++)l.set(i,u),l[u+i.byteLength]=t,l.set((0,n.createHmac)(e,a).update(l.subarray(c,u+i.byteLength+1)).digest(),u),c=u,u+=o;return l.slice(0,s)}},91276:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0});let i=r(6113),s=r(49339);"function"!=typeof i.hkdf||process.versions.electron||(n=async(...e)=>new Promise((t,r)=>{i.hkdf(...e,(e,n)=>{e?r(e):t(new Uint8Array(n))})})),t.default=async(e,t,r,i,o)=>(n||s.default)(e,t,r,i,o)},25409:e=>{"use strict";function t(e,t){for(var r=Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(i,o){r[n]=function(e){if(s){if(s=!1,e)o(e);else{for(var t=Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}}};try{e.apply(t||null,r)}catch(e){s&&(s=!1,o(e))}})}e.exports=t},1315:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=Array(64),i=Array(123),s=0;s<64;)i[n[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(e,t,r){for(var i,s=null,o=[],a=0,A=0;t<r;){var l=e[t++];switch(A){case 0:o[a++]=n[l>>2],i=(3&l)<<4,A=1;break;case 1:o[a++]=n[i|l>>4],i=(15&l)<<2,A=2;break;case 2:o[a++]=n[i|l>>6],o[a++]=n[63&l],A=0}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0)}return(A&&(o[a++]=n[i],o[a++]=61,1===A&&(o[a++]=61)),s)?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var o="invalid encoding";r.decode=function(e,t,r){for(var n,s=r,a=0,A=0;A<e.length;){var l=e.charCodeAt(A++);if(61===l&&a>1)break;if(void 0===(l=i[l]))throw Error(o);switch(a){case 0:n=l,a=1;break;case 1:t[r++]=n<<2|(48&l)>>4,n=l,a=2;break;case 2:t[r++]=(15&n)<<4|(60&l)>>2,n=l,a=3;break;case 3:t[r++]=(3&n)<<6|l,a=0}}if(1===a)throw Error(o);return r-s},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},74983:e=>{"use strict";function t(e,r){"string"==typeof e&&(r=e,e=void 0);var n=[];function i(e){if("string"!=typeof e){var r=s();if(t.verbose&&console.log("codegen: "+r),r="return "+r,e){for(var o=Object.keys(e),a=Array(o.length+1),A=Array(o.length),l=0;l<o.length;)a[l]=o[l],A[l]=e[o[l++]];return a[l]=r,Function.apply(null,a).apply(null,A)}return Function(r)()}for(var c=Array(arguments.length-1),u=0;u<c.length;)c[u]=arguments[++u];if(u=0,e=e.replace(/%([%dfijs])/g,function(e,t){var r=c[u++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"}),u!==c.length)throw Error("parameter count mismatch");return n.push(e),i}function s(t){return"function "+(t||r||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=s,i}e.exports=t,t.verbose=!1},13595:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},3824:(e,t,r)=>{"use strict";e.exports=s;var n=r(25409),i=r(23421)("fs");function s(e,t,r){return("function"==typeof t?(r=t,t={}):t||(t={}),r)?!t.xhr&&i&&i.readFile?i.readFile(e,function(n,i){return n&&"undefined"!=typeof XMLHttpRequest?s.xhr(e,t,r):n?r(n):r(null,t.binary?i:i.toString("utf8"))}):s.xhr(e,t,r):n(s,this,e,t)}s.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var i=0;i<n.responseText.length;++i)e.push(255&n.responseText.charCodeAt(i))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},1708:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function s(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:s,e.writeFloatBE=n?s:i,e.readFloatLE=n?o:a,e.readFloatBE=n?a:o}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var s=Math.floor(Math.log(t)/Math.LN2),o=8388607&Math.round(t*Math.pow(2,-s)*8388608);e((i<<31|s+127<<23|o)>>>0,r,n)}}function o(e,t,r){var n=e(t,r),i=(n>>31)*2+1,s=n>>>23&255,o=8388607&n;return 255===s?o?NaN:1/0*i:0===s?1401298464324817e-60*i*o:i*Math.pow(2,s-150)*(o+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=o.bind(null,i),e.readFloatBE=o.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function s(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:s,e.writeDoubleBE=n?s:i,e.readDoubleLE=n?o:a,e.readDoubleBE=n?a:o}():function(){function t(e,t,r,n,i,s){var o,a=n<0?1:0;if(a&&(n=-n),0===n)e(0,i,s+t),e(1/n>0?0:2147483648,i,s+r);else if(isNaN(n))e(0,i,s+t),e(2146959360,i,s+r);else if(n>17976931348623157e292)e(0,i,s+t),e((a<<31|2146435072)>>>0,i,s+r);else if(n<22250738585072014e-324)e((o=n/5e-324)>>>0,i,s+t),e((a<<31|o/4294967296)>>>0,i,s+r);else{var A=Math.floor(Math.log(n)/Math.LN2);1024===A&&(A=1023),e(4503599627370496*(o=n*Math.pow(2,-A))>>>0,i,s+t),e((a<<31|A+1023<<20|1048576*o&1048575)>>>0,i,s+r)}}function o(e,t,r,n,i){var s=e(n,i+t),o=e(n,i+r),a=(o>>31)*2+1,A=o>>>20&2047,l=4294967296*(1048575&o)+s;return 2047===A?l?NaN:1/0*a:0===A?5e-324*a*l:a*Math.pow(2,A-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=o.bind(null,i,0,4),e.readDoubleBE=o.bind(null,s,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},23421:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},59419:(e,t)=>{"use strict";var r=t,n=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=n(e),i="";r&&(i=t.shift()+"/");for(var s=0;s<t.length;)".."===t[s]?s>0&&".."!==t[s-1]?t.splice(--s,2):r?t.splice(s,1):++s:"."===t[s]?t.splice(s,1):++s;return i+t.join("/")};r.resolve=function(e,t,r){return(r||(t=i(t)),n(t))?t:(r||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},7474:e=>{"use strict";function t(e,t,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(r){if(r<1||r>i)return e(r);o+r>n&&(s=e(n),o=0);var a=t.call(s,o,o+=r);return 7&o&&(o=(7|o)+1),a}}e.exports=t},9774:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,s=[],o=0;t<r;)(n=e[t++])<128?s[o++]=n:n>191&&n<224?s[o++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[o++]=55296+(n>>10),s[o++]=56320+(1023&n)):s[o++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))},r.write=function(e,t,r){for(var n,i,s=r,o=0;o<e.length;++o)(n=e.charCodeAt(o))<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:((64512&n)==55296&&(64512&(i=e.charCodeAt(o+1)))==56320?(n=65536+((1023&n)<<10)+(1023&i),++o,t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128);return r-s}},83191:(e,t)=>{"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=i,t.serialize=s;var r=Object.prototype.toString,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},n=(t||{}).decode||o,i=0;i<e.length;){var s=e.indexOf("=",i);if(-1===s)break;var a=e.indexOf(";",i);if(-1===a)a=e.length;else if(a<s){i=e.lastIndexOf(";",s-1)+1;continue}var A=e.slice(i,s).trim();if(void 0===r[A]){var c=e.slice(s+1,a).trim();34===c.charCodeAt(0)&&(c=c.slice(1,-1)),r[A]=l(c,n)}i=a+1}return r}function s(e,t,r){var i=r||{},s=i.encode||a;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var o=s(t);if(o&&!n.test(o))throw TypeError("argument val is invalid");var l=e+"="+o;if(null!=i.maxAge){var c=i.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(c)}if(i.domain){if(!n.test(i.domain))throw TypeError("option domain is invalid");l+="; Domain="+i.domain}if(i.path){if(!n.test(i.path))throw TypeError("option path is invalid");l+="; Path="+i.path}if(i.expires){var u=i.expires;if(!A(u)||isNaN(u.valueOf()))throw TypeError("option expires is invalid");l+="; Expires="+u.toUTCString()}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.priority)switch("string"==typeof i.priority?i.priority.toLowerCase():i.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l}function o(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function a(e){return encodeURIComponent(e)}function A(e){return"[object Date]"===r.call(e)||e instanceof Date}function l(e,t){try{return t(e)}catch(t){return e}}},80816:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cryptoRuntime=t.base64url=t.generateSecret=t.generateKeyPair=t.errors=t.decodeJwt=t.decodeProtectedHeader=t.importJWK=t.importX509=t.importPKCS8=t.importSPKI=t.exportJWK=t.exportSPKI=t.exportPKCS8=t.UnsecuredJWT=t.createRemoteJWKSet=t.createLocalJWKSet=t.EmbeddedJWK=t.calculateJwkThumbprintUri=t.calculateJwkThumbprint=t.EncryptJWT=t.SignJWT=t.GeneralSign=t.FlattenedSign=t.CompactSign=t.FlattenedEncrypt=t.CompactEncrypt=t.jwtDecrypt=t.jwtVerify=t.generalVerify=t.flattenedVerify=t.compactVerify=t.GeneralEncrypt=t.generalDecrypt=t.flattenedDecrypt=t.compactDecrypt=void 0;var n=r(84393);Object.defineProperty(t,"compactDecrypt",{enumerable:!0,get:function(){return n.compactDecrypt}});var i=r(15483);Object.defineProperty(t,"flattenedDecrypt",{enumerable:!0,get:function(){return i.flattenedDecrypt}});var s=r(97327);Object.defineProperty(t,"generalDecrypt",{enumerable:!0,get:function(){return s.generalDecrypt}});var o=r(79884);Object.defineProperty(t,"GeneralEncrypt",{enumerable:!0,get:function(){return o.GeneralEncrypt}});var a=r(53619);Object.defineProperty(t,"compactVerify",{enumerable:!0,get:function(){return a.compactVerify}});var A=r(97764);Object.defineProperty(t,"flattenedVerify",{enumerable:!0,get:function(){return A.flattenedVerify}});var l=r(81270);Object.defineProperty(t,"generalVerify",{enumerable:!0,get:function(){return l.generalVerify}});var c=r(87664);Object.defineProperty(t,"jwtVerify",{enumerable:!0,get:function(){return c.jwtVerify}});var u=r(30192);Object.defineProperty(t,"jwtDecrypt",{enumerable:!0,get:function(){return u.jwtDecrypt}});var h=r(17376);Object.defineProperty(t,"CompactEncrypt",{enumerable:!0,get:function(){return h.CompactEncrypt}});var d=r(84587);Object.defineProperty(t,"FlattenedEncrypt",{enumerable:!0,get:function(){return d.FlattenedEncrypt}});var g=r(13354);Object.defineProperty(t,"CompactSign",{enumerable:!0,get:function(){return g.CompactSign}});var f=r(88151);Object.defineProperty(t,"FlattenedSign",{enumerable:!0,get:function(){return f.FlattenedSign}});var p=r(29102);Object.defineProperty(t,"GeneralSign",{enumerable:!0,get:function(){return p.GeneralSign}});var E=r(60011);Object.defineProperty(t,"SignJWT",{enumerable:!0,get:function(){return E.SignJWT}});var m=r(98481);Object.defineProperty(t,"EncryptJWT",{enumerable:!0,get:function(){return m.EncryptJWT}});var C=r(75547);Object.defineProperty(t,"calculateJwkThumbprint",{enumerable:!0,get:function(){return C.calculateJwkThumbprint}}),Object.defineProperty(t,"calculateJwkThumbprintUri",{enumerable:!0,get:function(){return C.calculateJwkThumbprintUri}});var y=r(89207);Object.defineProperty(t,"EmbeddedJWK",{enumerable:!0,get:function(){return y.EmbeddedJWK}});var I=r(7398);Object.defineProperty(t,"createLocalJWKSet",{enumerable:!0,get:function(){return I.createLocalJWKSet}});var B=r(90877);Object.defineProperty(t,"createRemoteJWKSet",{enumerable:!0,get:function(){return B.createRemoteJWKSet}});var Q=r(86113);Object.defineProperty(t,"UnsecuredJWT",{enumerable:!0,get:function(){return Q.UnsecuredJWT}});var v=r(7308);Object.defineProperty(t,"exportPKCS8",{enumerable:!0,get:function(){return v.exportPKCS8}}),Object.defineProperty(t,"exportSPKI",{enumerable:!0,get:function(){return v.exportSPKI}}),Object.defineProperty(t,"exportJWK",{enumerable:!0,get:function(){return v.exportJWK}});var w=r(51309);Object.defineProperty(t,"importSPKI",{enumerable:!0,get:function(){return w.importSPKI}}),Object.defineProperty(t,"importPKCS8",{enumerable:!0,get:function(){return w.importPKCS8}}),Object.defineProperty(t,"importX509",{enumerable:!0,get:function(){return w.importX509}}),Object.defineProperty(t,"importJWK",{enumerable:!0,get:function(){return w.importJWK}});var b=r(52673);Object.defineProperty(t,"decodeProtectedHeader",{enumerable:!0,get:function(){return b.decodeProtectedHeader}});var S=r(10133);Object.defineProperty(t,"decodeJwt",{enumerable:!0,get:function(){return S.decodeJwt}}),t.errors=r(39627);var k=r(28700);Object.defineProperty(t,"generateKeyPair",{enumerable:!0,get:function(){return k.generateKeyPair}});var R=r(52377);Object.defineProperty(t,"generateSecret",{enumerable:!0,get:function(){return R.generateSecret}}),t.base64url=r(71680);var D=r(5810);Object.defineProperty(t,"cryptoRuntime",{enumerable:!0,get:function(){return D.default}})},84393:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compactDecrypt=void 0;let n=r(15483),i=r(39627),s=r(23334);async function o(e,t,r){if(e instanceof Uint8Array&&(e=s.decoder.decode(e)),"string"!=typeof e)throw new i.JWEInvalid("Compact JWE must be a string or Uint8Array");let{0:o,1:a,2:A,3:l,4:c,length:u}=e.split(".");if(5!==u)throw new i.JWEInvalid("Invalid Compact JWE");let h=await (0,n.flattenedDecrypt)({ciphertext:l,iv:A||void 0,protected:o||void 0,tag:c||void 0,encrypted_key:a||void 0},t,r),d={plaintext:h.plaintext,protectedHeader:h.protectedHeader};return"function"==typeof t?{...d,key:h.key}:d}t.compactDecrypt=o},17376:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactEncrypt=void 0;let n=r(84587);class i{constructor(e){this._flattened=new n.FlattenedEncrypt(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}t.CompactEncrypt=i},15483:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenedDecrypt=void 0;let n=r(7864),i=r(17208),s=r(85042),o=r(39627),a=r(48581),A=r(4145),l=r(12865),c=r(23334),u=r(94481),h=r(96001),d=r(64540);async function g(e,t,r){var g;let f,p,E,m,C,y,I;if(!(0,A.default)(e))throw new o.JWEInvalid("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new o.JWEInvalid("JOSE Header missing");if("string"!=typeof e.iv)throw new o.JWEInvalid("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new o.JWEInvalid("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new o.JWEInvalid("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new o.JWEInvalid("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new o.JWEInvalid("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new o.JWEInvalid("JWE AAD incorrect type");if(void 0!==e.header&&!(0,A.default)(e.header))throw new o.JWEInvalid("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!(0,A.default)(e.unprotected))throw new o.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=(0,n.decode)(e.protected);f=JSON.parse(c.decoder.decode(t))}catch{throw new o.JWEInvalid("JWE Protected Header is invalid")}if(!(0,a.default)(f,e.header,e.unprotected))throw new o.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let B={...f,...e.header,...e.unprotected};if((0,h.default)(o.JWEInvalid,new Map,null==r?void 0:r.crit,f,B),void 0!==B.zip){if(!f||!f.zip)throw new o.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==B.zip)throw new o.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:Q,enc:v}=B;if("string"!=typeof Q||!Q)throw new o.JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof v||!v)throw new o.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");let w=r&&(0,d.default)("keyManagementAlgorithms",r.keyManagementAlgorithms),b=r&&(0,d.default)("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(w&&!w.has(Q))throw new o.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(b&&!b.has(v))throw new o.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');if(void 0!==e.encrypted_key)try{p=(0,n.decode)(e.encrypted_key)}catch{throw new o.JWEInvalid("Failed to base64url decode the encrypted_key")}let S=!1;"function"==typeof t&&(t=await t(f,e),S=!0);try{E=await (0,l.default)(Q,t,p,B,r)}catch(e){if(e instanceof TypeError||e instanceof o.JWEInvalid||e instanceof o.JOSENotSupported)throw e;E=(0,u.default)(v)}try{m=(0,n.decode)(e.iv)}catch{throw new o.JWEInvalid("Failed to base64url decode the iv")}try{C=(0,n.decode)(e.tag)}catch{throw new o.JWEInvalid("Failed to base64url decode the tag")}let k=c.encoder.encode(null!==(g=e.protected)&&void 0!==g?g:"");y=void 0!==e.aad?(0,c.concat)(k,c.encoder.encode("."),c.encoder.encode(e.aad)):k;try{I=(0,n.decode)(e.ciphertext)}catch{throw new o.JWEInvalid("Failed to base64url decode the ciphertext")}let R=await (0,i.default)(v,E,I,m,C,y);"DEF"===B.zip&&(R=await ((null==r?void 0:r.inflateRaw)||s.inflate)(R));let D={plaintext:R};if(void 0!==e.protected&&(D.protectedHeader=f),void 0!==e.aad)try{D.additionalAuthenticatedData=(0,n.decode)(e.aad)}catch{throw new o.JWEInvalid("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(D.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(D.unprotectedHeader=e.header),S)?{...D,key:t}:D}t.flattenedDecrypt=g},84587:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlattenedEncrypt=t.unprotected=void 0;let n=r(7864),i=r(50315),s=r(85042),o=r(87742),a=r(22090),A=r(39627),l=r(48581),c=r(23334),u=r(96001);t.unprotected=Symbol();class h{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,r){let h,d,g,f,p,E,m;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new A.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0,l.default)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new A.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let C={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if((0,u.default)(A.JWEInvalid,new Map,null==r?void 0:r.crit,this._protectedHeader,C),void 0!==C.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new A.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==C.zip)throw new A.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:y,enc:I}=C;if("string"!=typeof y||!y)throw new A.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof I||!I)throw new A.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if("dir"===y){if(this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===y&&this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let n;({cek:d,encryptedKey:h,parameters:n}=await (0,a.default)(y,I,e,this._cek,this._keyManagementParameters)),n&&(r&&t.unprotected in r?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...n}:this.setUnprotectedHeader(n):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...n}:this.setProtectedHeader(n))}if(this._iv||(this._iv=(0,o.default)(I)),f=this._protectedHeader?c.encoder.encode((0,n.encode)(JSON.stringify(this._protectedHeader))):c.encoder.encode(""),this._aad?(p=(0,n.encode)(this._aad),g=(0,c.concat)(f,c.encoder.encode("."),c.encoder.encode(p))):g=f,"DEF"===C.zip){let e=await ((null==r?void 0:r.deflateRaw)||s.deflate)(this._plaintext);({ciphertext:E,tag:m}=await (0,i.default)(I,e,d,this._iv,g))}else({ciphertext:E,tag:m}=await (0,i.default)(I,this._plaintext,d,this._iv,g));let B={ciphertext:(0,n.encode)(E),iv:(0,n.encode)(this._iv),tag:(0,n.encode)(m)};return h&&(B.encrypted_key=(0,n.encode)(h)),p&&(B.aad=p),this._protectedHeader&&(B.protected=c.decoder.decode(f)),this._sharedUnprotectedHeader&&(B.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(B.header=this._unprotectedHeader),B}}t.FlattenedEncrypt=h},97327:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generalDecrypt=void 0;let n=r(15483),i=r(39627),s=r(4145);async function o(e,t,r){if(!(0,s.default)(e))throw new i.JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(s.default))throw new i.JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new i.JWEInvalid("JWE Recipients has no members");for(let i of e.recipients)try{return await (0,n.flattenedDecrypt)({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:i.encrypted_key,header:i.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new i.JWEDecryptionFailed}t.generalDecrypt=o},79884:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralEncrypt=void 0;let n=r(84587),i=r(39627),s=r(94481),o=r(48581),a=r(22090),A=r(7864),l=r(96001);class c{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}class u{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){let r=new c(this,e,{crit:null==t?void 0:t.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,r,c;let u;if(!this._recipients.length)throw new i.JWEInvalid("at least one recipient must be added");if(e={deflateRaw:null==e?void 0:e.deflateRaw},1===this._recipients.length){let[t]=this._recipients,r=await new n.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e}),i={ciphertext:r.ciphertext,iv:r.iv,recipients:[{}],tag:r.tag};return r.aad&&(i.aad=r.aad),r.protected&&(i.protected=r.protected),r.unprotected&&(i.unprotected=r.unprotected),r.encrypted_key&&(i.recipients[0].encrypted_key=r.encrypted_key),r.header&&(i.recipients[0].header=r.header),i}for(let e=0;e<this._recipients.length;e++){let t=this._recipients[e];if(!(0,o.default)(this._protectedHeader,this._unprotectedHeader,t.unprotectedHeader))throw new i.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let r={...this._protectedHeader,...this._unprotectedHeader,...t.unprotectedHeader},{alg:n}=r;if("string"!=typeof n||!n)throw new i.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===n||"ECDH-ES"===n)throw new i.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof r.enc||!r.enc)throw new i.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(u){if(u!==r.enc)throw new i.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else u=r.enc;if((0,l.default)(i.JWEInvalid,new Map,t.options.crit,this._protectedHeader,r),void 0!==r.zip&&(!this._protectedHeader||!this._protectedHeader.zip))throw new i.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}let h=(0,s.default)(u),d={ciphertext:"",iv:"",recipients:[],tag:""};for(let i=0;i<this._recipients.length;i++){let s=this._recipients[i],o={};d.recipients.push(o);let l=({...this._protectedHeader,...this._unprotectedHeader,...s.unprotectedHeader}).alg.startsWith("PBES2")?2048+i:void 0;if(0===i){let t=await new n.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(h).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(s.unprotectedHeader).setKeyManagementParameters({p2c:l}).encrypt(s.key,{...s.options,...e,[n.unprotected]:!0});d.ciphertext=t.ciphertext,d.iv=t.iv,d.tag=t.tag,t.aad&&(d.aad=t.aad),t.protected&&(d.protected=t.protected),t.unprotected&&(d.unprotected=t.unprotected),o.encrypted_key=t.encrypted_key,t.header&&(o.header=t.header);continue}let{encryptedKey:g,parameters:f}=await (0,a.default)((null===(t=s.unprotectedHeader)||void 0===t?void 0:t.alg)||(null===(r=this._protectedHeader)||void 0===r?void 0:r.alg)||(null===(c=this._unprotectedHeader)||void 0===c?void 0:c.alg),u,s.key,h,{p2c:l});o.encrypted_key=(0,A.encode)(g),(s.unprotectedHeader||f)&&(o.header={...s.unprotectedHeader,...f})}return d}}t.GeneralEncrypt=u},89207:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmbeddedJWK=void 0;let n=r(51309),i=r(4145),s=r(39627);async function o(e,t){let r={...e,...null==t?void 0:t.header};if(!(0,i.default)(r.jwk))throw new s.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let o=await (0,n.importJWK)({...r.jwk,ext:!0},r.alg,!0);if(o instanceof Uint8Array||"public"!==o.type)throw new s.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return o}t.EmbeddedJWK=o},75547:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateJwkThumbprintUri=t.calculateJwkThumbprint=void 0;let n=r(91757),i=r(7864),s=r(39627),o=r(23334),a=r(4145),A=(e,t)=>{if("string"!=typeof e||!e)throw new s.JWKInvalid(`${t} missing or invalid`)};async function l(e,t){let r;if(!(0,a.default)(e))throw TypeError("JWK must be an object");if(null!=t||(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":A(e.crv,'"crv" (Curve) Parameter'),A(e.x,'"x" (X Coordinate) Parameter'),A(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":A(e.crv,'"crv" (Subtype of Key Pair) Parameter'),A(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":A(e.e,'"e" (Exponent) Parameter'),A(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":A(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new s.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}let l=o.encoder.encode(JSON.stringify(r));return(0,i.encode)(await (0,n.default)(t,l))}async function c(e,t){null!=t||(t="sha256");let r=await l(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}t.calculateJwkThumbprint=l,t.calculateJwkThumbprintUri=c},7398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLocalJWKSet=t.LocalJWKSet=t.isJWKSLike=void 0;let n=r(51309),i=r(39627),s=r(4145);function o(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new i.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}function a(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(A)}function A(e){return(0,s.default)(e)}function l(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}t.isJWKSLike=a;class c{constructor(e){if(this._cached=new WeakMap,!a(e))throw new i.JWKSInvalid("JSON Web Key Set malformed");this._jwks=l(e)}async getKey(e,t){let{alg:r,kid:n}={...e,...null==t?void 0:t.header},s=o(r),a=this._jwks.keys.filter(e=>{let t=s===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t}),{0:A,length:l}=a;if(0===l)throw new i.JWKSNoMatchingKey;if(1!==l){let e=new i.JWKSMultipleMatchingKeys,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(let e of a)try{yield await u(t,e,r)}catch{continue}},e}return u(this._cached,A,r)}}async function u(e,t,r){let s=e.get(t)||e.set(t,{}).get(t);if(void 0===s[r]){let e=await (0,n.importJWK)({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new i.JWKSInvalid("JSON Web Key Set members must be public keys");s[r]=e}return s[r]}function h(e){let t=new c(e);return async function(e,r){return t.getKey(e,r)}}t.LocalJWKSet=c,t.createLocalJWKSet=h},90877:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRemoteJWKSet=void 0;let n=r(25978),i=r(39627),s=r(7398);function o(){return"undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime}class a extends s.LocalJWKSet{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof i.JWKSNoMatchingKey&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&o()&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=(0,n.default)(this._url,this._timeoutDuration,this._options).then(e=>{if(!(0,s.isJWKSLike)(e))throw new i.JWKSInvalid("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}function A(e,t){let r=new a(e,t);return async function(e,t){return r.getKey(e,t)}}t.createRemoteJWKSet=A},13354:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactSign=void 0;let n=r(88151);class i{constructor(e){this._flattened=new n.FlattenedSign(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let r=await this._flattened.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}t.CompactSign=i},53619:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compactVerify=void 0;let n=r(97764),i=r(39627),s=r(23334);async function o(e,t,r){if(e instanceof Uint8Array&&(e=s.decoder.decode(e)),"string"!=typeof e)throw new i.JWSInvalid("Compact JWS must be a string or Uint8Array");let{0:o,1:a,2:A,length:l}=e.split(".");if(3!==l)throw new i.JWSInvalid("Invalid Compact JWS");let c=await (0,n.flattenedVerify)({payload:a,protected:o,signature:A},t,r),u={payload:c.payload,protectedHeader:c.protectedHeader};return"function"==typeof t?{...u,key:c.key}:u}t.compactVerify=o},88151:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlattenedSign=void 0;let n=r(7864),i=r(28406),s=r(48581),o=r(39627),a=r(23334),A=r(61287),l=r(96001);class c{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let r;if(!this._protectedHeader&&!this._unprotectedHeader)throw new o.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,s.default)(this._protectedHeader,this._unprotectedHeader))throw new o.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let c={...this._protectedHeader,...this._unprotectedHeader},u=(0,l.default)(o.JWSInvalid,new Map([["b64",!0]]),null==t?void 0:t.crit,this._protectedHeader,c),h=!0;if(u.has("b64")&&"boolean"!=typeof(h=this._protectedHeader.b64))throw new o.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:d}=c;if("string"!=typeof d||!d)throw new o.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,A.default)(d,e,"sign");let g=this._payload;h&&(g=a.encoder.encode((0,n.encode)(g))),r=this._protectedHeader?a.encoder.encode((0,n.encode)(JSON.stringify(this._protectedHeader))):a.encoder.encode("");let f=(0,a.concat)(r,a.encoder.encode("."),g),p=await (0,i.default)(d,e,f),E={signature:(0,n.encode)(p),payload:""};return h&&(E.payload=a.decoder.decode(g)),this._unprotectedHeader&&(E.header=this._unprotectedHeader),this._protectedHeader&&(E.protected=a.decoder.decode(r)),E}}t.FlattenedSign=c},97764:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenedVerify=void 0;let n=r(7864),i=r(99820),s=r(39627),o=r(23334),a=r(48581),A=r(4145),l=r(61287),c=r(96001),u=r(64540);async function h(e,t,r){var h;let d,g;if(!(0,A.default)(e))throw new s.JWSInvalid("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new s.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new s.JWSInvalid("JWS Protected Header incorrect type");if(void 0===e.payload)throw new s.JWSInvalid("JWS Payload missing");if("string"!=typeof e.signature)throw new s.JWSInvalid("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,A.default)(e.header))throw new s.JWSInvalid("JWS Unprotected Header incorrect type");let f={};if(e.protected)try{let t=(0,n.decode)(e.protected);f=JSON.parse(o.decoder.decode(t))}catch{throw new s.JWSInvalid("JWS Protected Header is invalid")}if(!(0,a.default)(f,e.header))throw new s.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let p={...f,...e.header},E=(0,c.default)(s.JWSInvalid,new Map([["b64",!0]]),null==r?void 0:r.crit,f,p),m=!0;if(E.has("b64")&&"boolean"!=typeof(m=f.b64))throw new s.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:C}=p;if("string"!=typeof C||!C)throw new s.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');let y=r&&(0,u.default)("algorithms",r.algorithms);if(y&&!y.has(C))throw new s.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(m){if("string"!=typeof e.payload)throw new s.JWSInvalid("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new s.JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let I=!1;"function"==typeof t&&(t=await t(f,e),I=!0),(0,l.default)(C,t,"verify");let B=(0,o.concat)(o.encoder.encode(null!==(h=e.protected)&&void 0!==h?h:""),o.encoder.encode("."),"string"==typeof e.payload?o.encoder.encode(e.payload):e.payload);try{d=(0,n.decode)(e.signature)}catch{throw new s.JWSInvalid("Failed to base64url decode the signature")}if(!await (0,i.default)(C,t,d,B))throw new s.JWSSignatureVerificationFailed;if(m)try{g=(0,n.decode)(e.payload)}catch{throw new s.JWSInvalid("Failed to base64url decode the payload")}else g="string"==typeof e.payload?o.encoder.encode(e.payload):e.payload;let Q={payload:g};return(void 0!==e.protected&&(Q.protectedHeader=f),void 0!==e.header&&(Q.unprotectedHeader=e.header),I)?{...Q,key:t}:Q}t.flattenedVerify=h},29102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralSign=void 0;let n=r(88151),i=r(39627);class s{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}class o{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){let r=new s(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new i.JWSInvalid("at least one signature must be added");let e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){let r=this._signatures[t],s=new n.FlattenedSign(this._payload);s.setProtectedHeader(r.protectedHeader),s.setUnprotectedHeader(r.unprotectedHeader);let{payload:o,...a}=await s.sign(r.key,r.options);if(0===t)e.payload=o;else if(e.payload!==o)throw new i.JWSInvalid("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(a)}return e}}t.GeneralSign=o},81270:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generalVerify=void 0;let n=r(97764),i=r(39627),s=r(4145);async function o(e,t,r){if(!(0,s.default)(e))throw new i.JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(s.default))throw new i.JWSInvalid("JWS Signatures missing or incorrect type");for(let i of e.signatures)try{return await (0,n.flattenedVerify)({header:i.header,payload:e.payload,protected:i.protected,signature:i.signature},t,r)}catch{}throw new i.JWSSignatureVerificationFailed}t.generalVerify=o},30192:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jwtDecrypt=void 0;let n=r(84393),i=r(64490),s=r(39627);async function o(e,t,r){let o=await (0,n.compactDecrypt)(e,t,r),a=(0,i.default)(o.protectedHeader,o.plaintext,r),{protectedHeader:A}=o;if(void 0!==A.iss&&A.iss!==a.iss)throw new s.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==A.sub&&A.sub!==a.sub)throw new s.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==A.aud&&JSON.stringify(A.aud)!==JSON.stringify(a.aud))throw new s.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");let l={payload:a,protectedHeader:A};return"function"==typeof t?{...l,key:o.key}:l}t.jwtDecrypt=o},98481:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncryptJWT=void 0;let n=r(17376),i=r(23334),s=r(93753);class o extends s.ProduceJWT{setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new n.CompactEncrypt(i.encoder.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}t.EncryptJWT=o},93753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProduceJWT=void 0;let n=r(58183),i=r(4145),s=r(42809);class o{constructor(e){if(!(0,i.default)(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:e}:this._payload={...this._payload,nbf:(0,n.default)(new Date)+(0,s.default)(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:e}:this._payload={...this._payload,exp:(0,n.default)(new Date)+(0,s.default)(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:(0,n.default)(new Date)}:this._payload={...this._payload,iat:e},this}}t.ProduceJWT=o},60011:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignJWT=void 0;let n=r(13354),i=r(39627),s=r(23334),o=r(93753);class a extends o.ProduceJWT{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var r;let o=new n.CompactSign(s.encoder.encode(JSON.stringify(this._payload)));if(o.setProtectedHeader(this._protectedHeader),Array.isArray(null===(r=this._protectedHeader)||void 0===r?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new i.JWTInvalid("JWTs MUST NOT use unencoded payload");return o.sign(e,t)}}t.SignJWT=a},86113:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsecuredJWT=void 0;let n=r(7864),i=r(23334),s=r(39627),o=r(64490),a=r(93753);class A extends a.ProduceJWT{encode(){let e=n.encode(JSON.stringify({alg:"none"})),t=n.encode(JSON.stringify(this._payload));return`${e}.${t}.`}static decode(e,t){let r;if("string"!=typeof e)throw new s.JWTInvalid("Unsecured JWT must be a string");let{0:a,1:A,2:l,length:c}=e.split(".");if(3!==c||""!==l)throw new s.JWTInvalid("Invalid Unsecured JWT");try{if(r=JSON.parse(i.decoder.decode(n.decode(a))),"none"!==r.alg)throw Error()}catch{throw new s.JWTInvalid("Invalid Unsecured JWT")}return{payload:(0,o.default)(r,n.decode(A),t),header:r}}}t.UnsecuredJWT=A},87664:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jwtVerify=void 0;let n=r(53619),i=r(64490),s=r(39627);async function o(e,t,r){var o;let a=await (0,n.compactVerify)(e,t,r);if((null===(o=a.protectedHeader.crit)||void 0===o?void 0:o.includes("b64"))&&!1===a.protectedHeader.b64)throw new s.JWTInvalid("JWTs MUST NOT use unencoded payload");let A={payload:(0,i.default)(a.protectedHeader,a.payload,r),protectedHeader:a.protectedHeader};return"function"==typeof t?{...A,key:a.key}:A}t.jwtVerify=o},7308:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exportJWK=t.exportPKCS8=t.exportSPKI=void 0;let n=r(1704),i=r(1704),s=r(37384);async function o(e){return(0,n.toSPKI)(e)}async function a(e){return(0,i.toPKCS8)(e)}async function A(e){return(0,s.default)(e)}t.exportSPKI=o,t.exportPKCS8=a,t.exportJWK=A},28700:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateKeyPair=void 0;let n=r(16468);async function i(e,t){return(0,n.generateKeyPair)(e,t)}t.generateKeyPair=i},52377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateSecret=void 0;let n=r(16468);async function i(e,t){return(0,n.generateSecret)(e,t)}t.generateSecret=i},51309:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importJWK=t.importPKCS8=t.importX509=t.importSPKI=void 0;let n=r(7864),i=r(1704),s=r(41012),o=r(39627),a=r(4145);async function A(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw TypeError('"spki" must be SPKI formatted string');return(0,i.fromSPKI)(e,t,r)}async function l(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw TypeError('"x509" must be X.509 formatted string');return(0,i.fromX509)(e,t,r)}async function c(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw TypeError('"pkcs8" must be PKCS#8 formatted string');return(0,i.fromPKCS8)(e,t,r)}async function u(e,t,r){var i;if(!(0,a.default)(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');if(null!=r||(r=!0!==e.ext),r)return(0,s.default)({...e,alg:t,ext:null!==(i=e.ext)&&void 0!==i&&i});return(0,n.decode)(e.k);case"RSA":if(void 0!==e.oth)throw new o.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return(0,s.default)({...e,alg:t});default:throw new o.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}t.importSPKI=A,t.importX509=l,t.importPKCS8=c,t.importJWK=u},10822:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unwrap=t.wrap=void 0;let n=r(50315),i=r(17208),s=r(87742),o=r(7864);async function a(e,t,r,i){let a=e.slice(0,7);i||(i=(0,s.default)(a));let{ciphertext:A,tag:l}=await (0,n.default)(a,r,t,i,new Uint8Array(0));return{encryptedKey:A,iv:(0,o.encode)(i),tag:(0,o.encode)(l)}}async function A(e,t,r,n,s){let o=e.slice(0,7);return(0,i.default)(o,t,r,n,s,new Uint8Array(0))}t.wrap=a,t.unwrap=A},23334:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatKdf=t.lengthAndInput=t.uint32be=t.uint64be=t.p2s=t.concat=t.decoder=t.encoder=void 0;let n=r(91757);t.encoder=new TextEncoder,t.decoder=new TextDecoder;let i=4294967296;function s(...e){let t=e.reduce((e,{length:t})=>e+t,0),r=new Uint8Array(t),n=0;return e.forEach(e=>{r.set(e,n),n+=e.length}),r}function o(e,r){return s(t.encoder.encode(e),new Uint8Array([0]),r)}function a(e,t,r){if(t<0||t>=i)throw RangeError(`value must be >= 0 and <= ${i-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function A(e){let t=Math.floor(e/i),r=e%i,n=new Uint8Array(8);return a(n,t,0),a(n,r,4),n}function l(e){let t=new Uint8Array(4);return a(t,e),t}function c(e){return s(l(e.length),e)}async function u(e,t,r){let i=Math.ceil((t>>3)/32),s=new Uint8Array(32*i);for(let t=0;t<i;t++){let i=new Uint8Array(4+e.length+r.length);i.set(l(t+1)),i.set(e,4),i.set(r,4+e.length),s.set(await (0,n.default)("sha256",i),32*t)}return s.slice(0,t>>3)}t.concat=s,t.p2s=o,t.uint64be=A,t.uint32be=l,t.lengthAndInput=c,t.concatKdf=u},94481:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bitLength=void 0;let n=r(39627),i=r(67917);function s(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new n.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}t.bitLength=s,t.default=e=>(0,i.default)(new Uint8Array(s(e)>>3))},89775:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(39627),i=r(87742),s=(e,t)=>{if(t.length<<3!==(0,i.bitLength)(e))throw new n.JWEInvalid("Invalid Initialization Vector length")};t.default=s},61287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(20858),i=r(87565),s=(e,t)=>{if(!(t instanceof Uint8Array)){if(!(0,i.default)(t))throw TypeError((0,n.withAlg)(e,t,...i.types,"Uint8Array"));if("secret"!==t.type)throw TypeError(`${i.types.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},o=(e,t,r)=>{if(!(0,i.default)(t))throw TypeError((0,n.withAlg)(e,t,...i.types));if("secret"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},a=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?s(e,t):o(e,t,r)};t.default=a},68797:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(39627);function i(e){if(!(e instanceof Uint8Array)||e.length<8)throw new n.JWEInvalid("PBES2 Salt Input must be 8 or more octets")}t.default=i},53700:(e,t)=>{"use strict";function r(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function n(e,t){return e.name===t}function i(e){return parseInt(e.name.slice(4),10)}function s(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}function o(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}function a(e,t,...A){switch(t){case"HS256":case"HS384":case"HS512":{if(!n(e.algorithm,"HMAC"))throw r("HMAC");let s=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==s)throw r(`SHA-${s}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!n(e.algorithm,"RSASSA-PKCS1-v1_5"))throw r("RSASSA-PKCS1-v1_5");let s=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==s)throw r(`SHA-${s}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!n(e.algorithm,"RSA-PSS"))throw r("RSA-PSS");let s=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==s)throw r(`SHA-${s}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw r("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!n(e.algorithm,"ECDSA"))throw r("ECDSA");let i=s(t);if(e.algorithm.namedCurve!==i)throw r(i,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}o(e,A)}function A(e,t,...s){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!n(e.algorithm,"AES-GCM"))throw r("AES-GCM");let i=parseInt(t.slice(1,4),10);if(e.algorithm.length!==i)throw r(i,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!n(e.algorithm,"AES-KW"))throw r("AES-KW");let i=parseInt(t.slice(1,4),10);if(e.algorithm.length!==i)throw r(i,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw r("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!n(e.algorithm,"PBKDF2"))throw r("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!n(e.algorithm,"RSA-OAEP"))throw r("RSA-OAEP");let s=parseInt(t.slice(9),10)||1;if(i(e.algorithm.hash)!==s)throw r(`SHA-${s}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}o(e,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.checkEncCryptoKey=t.checkSigCryptoKey=void 0,t.checkSigCryptoKey=a,t.checkEncCryptoKey=A},12865:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(34942),i=r(19109),s=r(93735),o=r(84921),a=r(7864),A=r(39627),l=r(94481),c=r(51309),u=r(61287),h=r(4145),d=r(10822);async function g(e,t,r,g,f){switch((0,u.default)(e,t,"decrypt"),e){case"dir":if(void 0!==r)throw new A.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new A.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let s,o;if(!(0,h.default)(g.epk))throw new A.JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!i.ecdhAllowed(t))throw new A.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let u=await (0,c.importJWK)(g.epk,e);if(void 0!==g.apu){if("string"!=typeof g.apu)throw new A.JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{s=(0,a.decode)(g.apu)}catch{throw new A.JWEInvalid("Failed to base64url decode the apu")}}if(void 0!==g.apv){if("string"!=typeof g.apv)throw new A.JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{o=(0,a.decode)(g.apv)}catch{throw new A.JWEInvalid("Failed to base64url decode the apv")}}let d=await i.deriveKey(u,t,"ECDH-ES"===e?g.enc:e,"ECDH-ES"===e?(0,l.bitLength)(g.enc):parseInt(e.slice(-5,-2),10),s,o);if("ECDH-ES"===e)return d;if(void 0===r)throw new A.JWEInvalid("JWE Encrypted Key missing");return(0,n.unwrap)(e.slice(-6),d,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new A.JWEInvalid("JWE Encrypted Key missing");return(0,o.decrypt)(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let n;if(void 0===r)throw new A.JWEInvalid("JWE Encrypted Key missing");if("number"!=typeof g.p2c)throw new A.JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');let i=(null==f?void 0:f.maxPBES2Count)||1e4;if(g.p2c>i)throw new A.JWEInvalid('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof g.p2s)throw new A.JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{n=(0,a.decode)(g.p2s)}catch{throw new A.JWEInvalid("Failed to base64url decode the p2s")}return(0,s.decrypt)(e,t,r,g.p2c,n)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new A.JWEInvalid("JWE Encrypted Key missing");return(0,n.unwrap)(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let n,i;if(void 0===r)throw new A.JWEInvalid("JWE Encrypted Key missing");if("string"!=typeof g.iv)throw new A.JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof g.tag)throw new A.JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');try{n=(0,a.decode)(g.iv)}catch{throw new A.JWEInvalid("Failed to base64url decode the iv")}try{i=(0,a.decode)(g.tag)}catch{throw new A.JWEInvalid("Failed to base64url decode the tag")}return(0,d.unwrap)(e,t,r,n,i)}default:throw new A.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}t.default=g},22090:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(34942),i=r(19109),s=r(93735),o=r(84921),a=r(7864),A=r(94481),l=r(39627),c=r(7308),u=r(61287),h=r(10822);async function d(e,t,r,d,g={}){let f,p,E;switch((0,u.default)(e,r,"encrypt"),e){case"dir":E=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!i.ecdhAllowed(r))throw new l.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:s,apv:o}=g,{epk:u}=g;u||(u=(await i.generateEpk(r)).privateKey);let{x:h,y:m,crv:C,kty:y}=await (0,c.exportJWK)(u),I=await i.deriveKey(r,u,"ECDH-ES"===e?t:e,"ECDH-ES"===e?(0,A.bitLength)(t):parseInt(e.slice(-5,-2),10),s,o);if(p={epk:{x:h,crv:C,kty:y}},"EC"===y&&(p.epk.y=m),s&&(p.apu=(0,a.encode)(s)),o&&(p.apv=(0,a.encode)(o)),"ECDH-ES"===e){E=I;break}E=d||(0,A.default)(t);let B=e.slice(-6);f=await (0,n.wrap)(B,I,E);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":E=d||(0,A.default)(t),f=await (0,o.encrypt)(e,r,E);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{E=d||(0,A.default)(t);let{p2c:n,p2s:i}=g;({encryptedKey:f,...p}=await (0,s.encrypt)(e,r,E,n,i));break}case"A128KW":case"A192KW":case"A256KW":E=d||(0,A.default)(t),f=await (0,n.wrap)(e,r,E);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{E=d||(0,A.default)(t);let{iv:n}=g;({encryptedKey:f,...p}=await (0,h.wrap)(e,r,E,n));break}default:throw new l.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:E,encryptedKey:f,parameters:p}}t.default=d},58183:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>Math.floor(e.getTime()/1e3)},20858:(e,t)=>{"use strict";function r(e,t,...n){if(n.length>2){let t=n.pop();e+=`one of type ${n.join(", ")}, or ${t}.`}else 2===n.length?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}function n(e,t,...i){return r(`Key for the ${e} algorithm must be `,t,...i)}Object.defineProperty(t,"__esModule",{value:!0}),t.withAlg=void 0,t.default=(e,...t)=>r("Key must be ",e,...t),t.withAlg=n},48581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=(...e)=>{let t;let r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0};t.default=r},4145:(e,t)=>{"use strict";function r(e){return"object"==typeof e&&null!==e}function n(e){if(!r(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},87742:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bitLength=void 0;let n=r(39627),i=r(67917);function s(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new n.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}t.bitLength=s,t.default=e=>(0,i.default)(new Uint8Array(s(e)>>3))},64490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(39627),i=r(23334),s=r(58183),o=r(42809),a=r(4145),A=e=>e.toLowerCase().replace(/^application\//,""),l=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)));t.default=(e,t,r={})=>{let c,u;let{typ:h}=r;if(h&&("string"!=typeof e.typ||A(e.typ)!==A(h)))throw new n.JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");try{c=JSON.parse(i.decoder.decode(t))}catch{}if(!(0,a.default)(c))throw new n.JWTInvalid("JWT Claims Set must be a top-level JSON object");let{requiredClaims:d=[],issuer:g,subject:f,audience:p,maxTokenAge:E}=r;for(let e of(void 0!==E&&d.push("iat"),void 0!==p&&d.push("aud"),void 0!==f&&d.push("sub"),void 0!==g&&d.push("iss"),new Set(d.reverse())))if(!(e in c))throw new n.JWTClaimValidationFailed(`missing required "${e}" claim`,e,"missing");if(g&&!(Array.isArray(g)?g:[g]).includes(c.iss))throw new n.JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");if(f&&c.sub!==f)throw new n.JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");if(p&&!l(c.aud,"string"==typeof p?[p]:p))throw new n.JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");switch(typeof r.clockTolerance){case"string":u=(0,o.default)(r.clockTolerance);break;case"number":u=r.clockTolerance;break;case"undefined":u=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:m}=r,C=(0,s.default)(m||new Date);if((void 0!==c.iat||E)&&"number"!=typeof c.iat)throw new n.JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(void 0!==c.nbf){if("number"!=typeof c.nbf)throw new n.JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(c.nbf>C+u)throw new n.JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==c.exp){if("number"!=typeof c.exp)throw new n.JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(c.exp<=C-u)throw new n.JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(E){let e=C-c.iat;if(e-u>("number"==typeof E?E:(0,o.default)(E)))throw new n.JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-u)throw new n.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return c}},42809:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=60,n=3600,i=86400,s=604800,o=31557600,a=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;t.default=e=>{let t=a.exec(e);if(!t)throw TypeError("Invalid time period format");let A=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(A);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(A*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(A*n);case"day":case"days":case"d":return Math.round(A*i);case"week":case"weeks":case"w":return Math.round(A*s);default:return Math.round(A*o)}}},64540:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};t.default=r},96001:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(39627);function i(e,t,r,i,s){let o;if(void 0!==s.crit&&void 0===i.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let a of(o=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,i.crit)){if(!o.has(a))throw new n.JOSENotSupported(`Extension Header Parameter "${a}" is not recognized`);if(void 0===s[a])throw new e(`Extension Header Parameter "${a}" is missing`);if(o.get(a)&&void 0===i[a])throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(i.crit)}t.default=i},34942:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unwrap=t.wrap=void 0;let n=r(14300),i=r(6113),s=r(39627),o=r(23334),a=r(13497),A=r(53700),l=r(24892),c=r(20858),u=r(43189),h=r(87565);function d(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function g(e,t,r){if((0,l.default)(e))return e;if(e instanceof Uint8Array)return(0,i.createSecretKey)(e);if((0,a.isCryptoKey)(e))return(0,A.checkEncCryptoKey)(e,t,r),i.KeyObject.from(e);throw TypeError((0,c.default)(e,...h.types,"Uint8Array"))}let f=(e,t,r)=>{let a=parseInt(e.slice(1,4),10),A=`aes${a}-wrap`;if(!(0,u.default)(A))throw new s.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let l=g(t,e,"wrapKey");d(l,e);let c=(0,i.createCipheriv)(A,l,n.Buffer.alloc(8,166));return(0,o.concat)(c.update(r),c.final())};t.wrap=f;let p=(e,t,r)=>{let a=parseInt(e.slice(1,4),10),A=`aes${a}-wrap`;if(!(0,u.default)(A))throw new s.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let l=g(t,e,"unwrapKey");d(l,e);let c=(0,i.createDecipheriv)(A,l,n.Buffer.alloc(8,166));return(0,o.concat)(c.update(r),c.final())};t.unwrap=p},1704:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromX509=t.fromSPKI=t.fromPKCS8=t.toPKCS8=t.toSPKI=void 0;let n=r(6113),i=r(14300),s=r(13497),o=r(24892),a=r(20858),A=r(87565),l=(e,t,r)=>{let i;if((0,s.isCryptoKey)(r)){if(!r.extractable)throw TypeError("CryptoKey is not extractable");i=n.KeyObject.from(r)}else if((0,o.default)(r))i=r;else throw TypeError((0,a.default)(r,...A.types));if(i.type!==e)throw TypeError(`key is not a ${e} key`);return i.export({format:"pem",type:t})},c=e=>l("public","spki",e);t.toSPKI=c;let u=e=>l("private","pkcs8",e);t.toPKCS8=u;let h=e=>(0,n.createPrivateKey)({key:i.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""),"base64"),type:"pkcs8",format:"der"});t.fromPKCS8=h;let d=e=>(0,n.createPublicKey)({key:i.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,""),"base64"),type:"spki",format:"der"});t.fromSPKI=d;let g=e=>(0,n.createPublicKey)({key:e,type:"spki",format:"pem"});t.fromX509=g},96945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=2,n=48;class i{constructor(e){if(e[0]!==n||(this.buffer=e,this.offset=1,this.decodeLength()!==e.length-this.offset))throw TypeError()}decodeLength(){let e=this.buffer[this.offset++];if(128&e){let t=-129&e;e=0;for(let r=0;r<t;r++)e=e<<8|this.buffer[this.offset+r];this.offset+=t}return e}unsignedInteger(){if(this.buffer[this.offset++]!==r)throw TypeError();let e=this.decodeLength();0===this.buffer[this.offset]&&(this.offset++,e--);let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}end(){if(this.offset!==this.buffer.length)throw TypeError()}}t.default=i},28654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(14300),i=r(39627),s=2,o=3,a=4,A=48,l=n.Buffer.from([0]),c=n.Buffer.from([s]),u=n.Buffer.from([o]),h=n.Buffer.from([A]),d=n.Buffer.from([a]),g=e=>{if(e<128)return n.Buffer.from([e]);let t=n.Buffer.alloc(5);t.writeUInt32BE(e,1);let r=1;for(;0===t[r];)r++;return t[r-1]=128|5-r,t.slice(r-1)},f=new Map([["P-256",n.Buffer.from("06 08 2A 86 48 CE 3D 03 01 07".replace(/ /g,""),"hex")],["secp256k1",n.Buffer.from("06 05 2B 81 04 00 0A".replace(/ /g,""),"hex")],["P-384",n.Buffer.from("06 05 2B 81 04 00 22".replace(/ /g,""),"hex")],["P-521",n.Buffer.from("06 05 2B 81 04 00 23".replace(/ /g,""),"hex")],["ecPublicKey",n.Buffer.from("06 07 2A 86 48 CE 3D 02 01".replace(/ /g,""),"hex")],["X25519",n.Buffer.from("06 03 2B 65 6E".replace(/ /g,""),"hex")],["X448",n.Buffer.from("06 03 2B 65 6F".replace(/ /g,""),"hex")],["Ed25519",n.Buffer.from("06 03 2B 65 70".replace(/ /g,""),"hex")],["Ed448",n.Buffer.from("06 03 2B 65 71".replace(/ /g,""),"hex")]]);class p{constructor(){this.length=0,this.elements=[]}oidFor(e){let t=f.get(e);if(!t)throw new i.JOSENotSupported("Invalid or unsupported OID");this.elements.push(t),this.length+=t.length}zero(){this.elements.push(c,n.Buffer.from([1]),l),this.length+=3}one(){this.elements.push(c,n.Buffer.from([1]),n.Buffer.from([1])),this.length+=3}unsignedInteger(e){if(128&e[0]){let t=g(e.length+1);this.elements.push(c,t,l,e),this.length+=2+t.length+e.length}else{let t=0;for(;0===e[t]&&(128&e[t+1])==0;)t++;let r=g(e.length-t);this.elements.push(c,g(e.length-t),e.slice(t)),this.length+=1+r.length+e.length-t}}octStr(e){let t=g(e.length);this.elements.push(d,g(e.length),e),this.length+=1+t.length+e.length}bitStr(e){let t=g(e.length+1);this.elements.push(u,g(e.length+1),l,e),this.length+=1+t.length+e.length+1}add(e){this.elements.push(e),this.length+=e.length}end(e=h){let t=g(this.length);return n.Buffer.concat([e,t,...this.elements],1+t.length+this.length)}}t.default=p},7864:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodeBase64=t.decodeBase64=void 0;let i=r(14300),s=r(23334);function o(e){let t=e;return t instanceof Uint8Array&&(t=s.decoder.decode(t)),t}i.Buffer.isEncoding("base64url")?t.encode=n=e=>i.Buffer.from(e).toString("base64url"):t.encode=n=e=>i.Buffer.from(e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");let a=e=>i.Buffer.from(e,"base64");t.decodeBase64=a;let A=e=>i.Buffer.from(e).toString("base64");t.encodeBase64=A;let l=e=>i.Buffer.from(o(e),"base64");t.decode=l},6601:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(6113),i=r(23334);function s(e,t,r,s,o,a){let A=(0,i.concat)(e,t,r,(0,i.uint64be)(e.length<<3)),l=(0,n.createHmac)(`sha${s}`,o);return l.update(A),l.digest().slice(0,a>>3)}t.default=s},9544:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(39627),i=r(24892),s=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new n.JOSENotSupported(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){let e=t.byteLength<<3;if(e!==r)throw new n.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}if((0,i.default)(t)&&"secret"===t.type){let e=t.symmetricKeySize<<3;if(e!==r)throw new n.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}throw TypeError("Invalid Content Encryption Key type")};t.default=s},69412:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setModulusLength=t.weakMap=void 0,t.weakMap=new WeakMap;let r=(e,t)=>{let n=e.readUInt8(1);if((128&n)==0)return 0===t?n:r(e.subarray(2+n),t-1);let i=127&n;n=0;for(let t=0;t<i;t++)n<<=8,n|=e.readUInt8(2+t);return 0===t?n:r(e.subarray(2+n),t-1)},n=(e,t)=>{let n=e.readUInt8(1);if((128&n)==0)return r(e.subarray(2),t);let i=127&n;return r(e.subarray(2+i),t)},i=e=>{var r,i;if(t.weakMap.has(e))return t.weakMap.get(e);let s=null!==(i=null===(r=e.asymmetricKeyDetails)||void 0===r?void 0:r.modulusLength)&&void 0!==i?i:n(e.export({format:"der",type:"pkcs1"}),"private"===e.type?1:0)-1<<3;return t.weakMap.set(e,s),s},s=(e,r)=>{t.weakMap.set(e,r)};t.setModulusLength=s,t.default=(e,t)=>{if(2048>i(e))throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}},43189:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0});let i=r(6113);t.default=e=>(n||(n=new Set((0,i.getCiphers)())),n.has(e))},17208:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(6113),i=r(89775),s=r(9544),o=r(23334),a=r(39627),A=r(4638),l=r(6601),c=r(13497),u=r(53700),h=r(24892),d=r(20858),g=r(43189),f=r(87565);function p(e,t,r,i,s,c){let u,d;let f=parseInt(e.slice(1,4),10);(0,h.default)(t)&&(t=t.export());let p=t.subarray(f>>3),E=t.subarray(0,f>>3),m=parseInt(e.slice(-3),10),C=`aes-${f}-cbc`;if(!(0,g.default)(C))throw new a.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let y=(0,l.default)(c,i,r,m,E,f);try{u=(0,A.default)(s,y)}catch{}if(!u)throw new a.JWEDecryptionFailed;try{let e=(0,n.createDecipheriv)(C,p,i);d=(0,o.concat)(e.update(r),e.final())}catch{}if(!d)throw new a.JWEDecryptionFailed;return d}function E(e,t,r,i,s,o){let A=parseInt(e.slice(1,4),10),l=`aes-${A}-gcm`;if(!(0,g.default)(l))throw new a.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);try{let e=(0,n.createDecipheriv)(l,t,i,{authTagLength:16});e.setAuthTag(s),o.byteLength&&e.setAAD(o,{plaintextLength:r.length});let a=e.update(r);return e.final(),a}catch{throw new a.JWEDecryptionFailed}}let m=(e,t,r,o,A,l)=>{let g;if((0,c.isCryptoKey)(t))(0,u.checkEncCryptoKey)(t,e,"decrypt"),g=n.KeyObject.from(t);else if(t instanceof Uint8Array||(0,h.default)(t))g=t;else throw TypeError((0,d.default)(t,...f.types,"Uint8Array"));switch((0,s.default)(e,g),(0,i.default)(e,o),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return p(e,g,r,o,A,l);case"A128GCM":case"A192GCM":case"A256GCM":return E(e,g,r,o,A,l);default:throw new a.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}};t.default=m},91757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(6113),i=(e,t)=>(0,n.createHash)(e).update(t).digest();t.default=i},99988:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(39627);function i(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}t.default=i},19109:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ecdhAllowed=t.generateEpk=t.deriveKey=void 0;let n=r(6113),i=r(73837),s=r(36841),o=r(23334),a=r(39627),A=r(13497),l=r(53700),c=r(24892),u=r(20858),h=r(87565),d=(0,i.promisify)(n.generateKeyPair);async function g(e,t,r,i,s=new Uint8Array(0),a=new Uint8Array(0)){let d,g;if((0,A.isCryptoKey)(e))(0,l.checkEncCryptoKey)(e,"ECDH"),d=n.KeyObject.from(e);else if((0,c.default)(e))d=e;else throw TypeError((0,u.default)(e,...h.types));if((0,A.isCryptoKey)(t))(0,l.checkEncCryptoKey)(t,"ECDH","deriveBits"),g=n.KeyObject.from(t);else if((0,c.default)(t))g=t;else throw TypeError((0,u.default)(t,...h.types));let f=(0,o.concat)((0,o.lengthAndInput)(o.encoder.encode(r)),(0,o.lengthAndInput)(s),(0,o.lengthAndInput)(a),(0,o.uint32be)(i)),p=(0,n.diffieHellman)({privateKey:g,publicKey:d});return(0,o.concatKdf)(p,i,f)}async function f(e){let t;if((0,A.isCryptoKey)(e))t=n.KeyObject.from(e);else if((0,c.default)(e))t=e;else throw TypeError((0,u.default)(e,...h.types));switch(t.asymmetricKeyType){case"x25519":return d("x25519");case"x448":return d("x448");case"ec":return d("ec",{namedCurve:(0,s.default)(t)});default:throw new a.JOSENotSupported("Invalid or unsupported EPK")}}t.deriveKey=g,t.generateEpk=f;let p=e=>["P-256","P-384","P-521","X25519","X448"].includes((0,s.default)(e));t.ecdhAllowed=p},50315:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(6113),i=r(89775),s=r(9544),o=r(23334),a=r(6601),A=r(13497),l=r(53700),c=r(24892),u=r(20858),h=r(39627),d=r(43189),g=r(87565);function f(e,t,r,i,s){let A=parseInt(e.slice(1,4),10);(0,c.default)(r)&&(r=r.export());let l=r.subarray(A>>3),u=r.subarray(0,A>>3),g=`aes-${A}-cbc`;if(!(0,d.default)(g))throw new h.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let f=(0,n.createCipheriv)(g,l,i),p=(0,o.concat)(f.update(t),f.final()),E=parseInt(e.slice(-3),10),m=(0,a.default)(s,i,p,E,u,A);return{ciphertext:p,tag:m}}function p(e,t,r,i,s){let o=parseInt(e.slice(1,4),10),a=`aes-${o}-gcm`;if(!(0,d.default)(a))throw new h.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let A=(0,n.createCipheriv)(a,r,i,{authTagLength:16});s.byteLength&&A.setAAD(s,{plaintextLength:t.length});let l=A.update(t);return A.final(),{ciphertext:l,tag:A.getAuthTag()}}let E=(e,t,r,o,a)=>{let d;if((0,A.isCryptoKey)(r))(0,l.checkEncCryptoKey)(r,e,"encrypt"),d=n.KeyObject.from(r);else if(r instanceof Uint8Array||(0,c.default)(r))d=r;else throw TypeError((0,u.default)(r,...g.types,"Uint8Array"));switch((0,s.default)(e,d),(0,i.default)(e,o),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return f(e,t,d,o,a);case"A128GCM":case"A192GCM":case"A256GCM":return p(e,t,d,o,a);default:throw new h.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}};t.default=E},25978:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(13685),i=r(95687),s=r(82361),o=r(39627),a=r(23334),A=async(e,t,r)=>{let A;switch(e.protocol){case"https:":A=i.get;break;case"http:":A=n.get;break;default:throw TypeError("Unsupported URL protocol.")}let{agent:l,headers:c}=r,u=A(e.href,{agent:l,timeout:t,headers:c}),[h]=await Promise.race([(0,s.once)(u,"response"),(0,s.once)(u,"timeout")]);if(!h)throw u.destroy(),new o.JWKSTimeout;if(200!==h.statusCode)throw new o.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");let d=[];for await(let e of h)d.push(e);try{return JSON.parse(a.decoder.decode((0,a.concat)(...d)))}catch{throw new o.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}};t.default=A},27691:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jwkImport=t.jwkExport=t.rsaPssParams=t.oneShotCallback=void 0;let[r,n]=process.versions.node.split(".").map(e=>parseInt(e,10));t.oneShotCallback=r>=16||15===r&&n>=13,t.rsaPssParams=!("electron"in process.versions)&&(r>=17||16===r&&n>=9),t.jwkExport=r>=16||15===r&&n>=9,t.jwkImport=r>=16||15===r&&n>=12},16468:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateKeyPair=t.generateSecret=void 0;let n=r(6113),i=r(73837),s=r(67917),o=r(69412),a=r(39627),A=(0,i.promisify)(n.generateKeyPair);async function l(e,t){let r;switch(e){case"HS256":case"HS384":case"HS512":case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128KW":case"A192KW":case"A256KW":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return(0,n.createSecretKey)((0,s.default)(new Uint8Array(r>>3)))}async function c(e,t){var r,n;switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":case"RSA1_5":{let e=null!==(r=null==t?void 0:t.modulusLength)&&void 0!==r?r:2048;if("number"!=typeof e||e<2048)throw new a.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");let n=await A("rsa",{modulusLength:e,publicExponent:65537});return(0,o.setModulusLength)(n.privateKey,e),(0,o.setModulusLength)(n.publicKey,e),n}case"ES256":return A("ec",{namedCurve:"P-256"});case"ES256K":return A("ec",{namedCurve:"secp256k1"});case"ES384":return A("ec",{namedCurve:"P-384"});case"ES512":return A("ec",{namedCurve:"P-521"});case"EdDSA":switch(null==t?void 0:t.crv){case void 0:case"Ed25519":return A("ed25519");case"Ed448":return A("ed448");default:throw new a.JOSENotSupported("Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448")}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":let i=null!==(n=null==t?void 0:t.crv)&&void 0!==n?n:"P-256";switch(i){case void 0:case"P-256":case"P-384":case"P-521":return A("ec",{namedCurve:i});case"X25519":return A("x25519");case"X448":return A("x448");default:throw new a.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}}t.generateSecret=l,t.generateKeyPair=c},36841:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCurve=t.weakMap=void 0;let n=r(14300),i=r(6113),s=r(39627),o=r(13497),a=r(24892),A=r(20858),l=r(87565),c=n.Buffer.from([42,134,72,206,61,3,1,7]),u=n.Buffer.from([43,129,4,0,34]),h=n.Buffer.from([43,129,4,0,35]),d=n.Buffer.from([43,129,4,0,10]);t.weakMap=new WeakMap;let g=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new s.JOSENotSupported("Unsupported key curve for this operation")}},f=(e,r)=>{var n;let p;if((0,o.isCryptoKey)(e))p=i.KeyObject.from(e);else if((0,a.default)(e))p=e;else throw TypeError((0,A.default)(e,...l.types));if("secret"===p.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(p.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${p.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${p.asymmetricKeyType.slice(1)}`;case"ec":{if(t.weakMap.has(p))return t.weakMap.get(p);let e=null===(n=p.asymmetricKeyDetails)||void 0===n?void 0:n.namedCurve;if(e||"private"!==p.type){if(!e){let t=p.export({format:"der",type:"spki"}),r=t[1]<128?14:15,n=t[r],i=t.slice(r+1,r+1+n);if(i.equals(c))e="prime256v1";else if(i.equals(u))e="secp384r1";else if(i.equals(h))e="secp521r1";else if(i.equals(d))e="secp256k1";else throw new s.JOSENotSupported("Unsupported key curve for this operation")}}else e=f((0,i.createPublicKey)(p),!0);if(r)return e;let o=g(e);return t.weakMap.set(p,o),o}default:throw TypeError("Invalid asymmetric key type for this operation")}};function p(e,r){t.weakMap.set(e,r)}t.setCurve=p,t.default=f},60569:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(6113),i=r(13497),s=r(53700),o=r(20858),a=r(87565);function A(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError((0,o.default)(t,...a.types));return(0,n.createSecretKey)(t)}if(t instanceof n.KeyObject)return t;if((0,i.isCryptoKey)(t))return(0,s.checkSigCryptoKey)(t,e,r),n.KeyObject.from(t);throw TypeError((0,o.default)(t,...a.types,"Uint8Array"))}t.default=A},47971:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(39627);function i(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}t.default=i},87565:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.types=void 0;let n=r(13497),i=r(24892);t.default=e=>(0,i.default)(e)||(0,n.isCryptoKey)(e);let s=["KeyObject"];t.types=s,(globalThis.CryptoKey||(null===n.default||void 0===n.default?void 0:n.default.CryptoKey))&&s.push("CryptoKey")},24892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(6113),i=r(73837);t.default=i.types.isKeyObject?e=>i.types.isKeyObject(e):e=>null!=e&&e instanceof n.KeyObject},41012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(14300),i=r(6113),s=r(7864),o=r(39627),a=r(36841),A=r(69412),l=r(28654),c=r(27691),u=e=>{if(c.jwkImport&&"oct"!==e.kty)return e.d?(0,i.createPrivateKey)({format:"jwk",key:e}):(0,i.createPublicKey)({format:"jwk",key:e});switch(e.kty){case"oct":return(0,i.createSecretKey)((0,s.decode)(e.k));case"RSA":{let t=new l.default,r=void 0!==e.d,s=n.Buffer.from(e.n,"base64"),o=n.Buffer.from(e.e,"base64");r?(t.zero(),t.unsignedInteger(s),t.unsignedInteger(o),t.unsignedInteger(n.Buffer.from(e.d,"base64")),t.unsignedInteger(n.Buffer.from(e.p,"base64")),t.unsignedInteger(n.Buffer.from(e.q,"base64")),t.unsignedInteger(n.Buffer.from(e.dp,"base64")),t.unsignedInteger(n.Buffer.from(e.dq,"base64")),t.unsignedInteger(n.Buffer.from(e.qi,"base64"))):(t.unsignedInteger(s),t.unsignedInteger(o));let a={key:t.end(),format:"der",type:"pkcs1"},c=r?(0,i.createPrivateKey)(a):(0,i.createPublicKey)(a);return(0,A.setModulusLength)(c,s.length<<3),c}case"EC":{let t=new l.default,r=void 0!==e.d,s=n.Buffer.concat([n.Buffer.alloc(1,4),n.Buffer.from(e.x,"base64"),n.Buffer.from(e.y,"base64")]);if(r){t.zero();let r=new l.default;r.oidFor("ecPublicKey"),r.oidFor(e.crv),t.add(r.end());let o=new l.default;o.one(),o.octStr(n.Buffer.from(e.d,"base64"));let A=new l.default;A.bitStr(s);let c=A.end(n.Buffer.from([161]));o.add(c);let u=o.end(),h=new l.default;h.add(u);let d=h.end(n.Buffer.from([4]));t.add(d);let g=t.end(),f=(0,i.createPrivateKey)({key:g,format:"der",type:"pkcs8"});return(0,a.setCurve)(f,e.crv),f}let o=new l.default;o.oidFor("ecPublicKey"),o.oidFor(e.crv),t.add(o.end()),t.bitStr(s);let A=t.end(),c=(0,i.createPublicKey)({key:A,format:"der",type:"spki"});return(0,a.setCurve)(c,e.crv),c}case"OKP":{let t=new l.default;if(void 0!==e.d){t.zero();let r=new l.default;r.oidFor(e.crv),t.add(r.end());let s=new l.default;s.octStr(n.Buffer.from(e.d,"base64"));let o=s.end(n.Buffer.from([4]));t.add(o);let a=t.end();return(0,i.createPrivateKey)({key:a,format:"der",type:"pkcs8"})}let r=new l.default;r.oidFor(e.crv),t.add(r.end()),t.bitStr(n.Buffer.from(e.x,"base64"));let s=t.end();return(0,i.createPublicKey)({key:s,format:"der",type:"spki"})}default:throw new o.JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}};t.default=u},37384:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(6113),i=r(7864),s=r(96945),o=r(39627),a=r(36841),A=r(13497),l=r(24892),c=r(20858),u=r(87565),h=r(27691),d=e=>{let t;if((0,A.isCryptoKey)(e)){if(!e.extractable)throw TypeError("CryptoKey is not extractable");t=n.KeyObject.from(e)}else if((0,l.default)(e))t=e;else if(e instanceof Uint8Array)return{kty:"oct",k:(0,i.encode)(e)};else throw TypeError((0,c.default)(e,...u.types,"Uint8Array"));if(h.jwkExport){if("secret"!==t.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new o.JOSENotSupported("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})}switch(t.type){case"secret":return{kty:"oct",k:(0,i.encode)(t.export())};case"private":case"public":switch(t.asymmetricKeyType){case"rsa":{let e;let r=t.export({format:"der",type:"pkcs1"}),n=new s.default(r);"private"===t.type&&n.unsignedInteger();let o=(0,i.encode)(n.unsignedInteger()),a=(0,i.encode)(n.unsignedInteger());return"private"===t.type&&(e={d:(0,i.encode)(n.unsignedInteger()),p:(0,i.encode)(n.unsignedInteger()),q:(0,i.encode)(n.unsignedInteger()),dp:(0,i.encode)(n.unsignedInteger()),dq:(0,i.encode)(n.unsignedInteger()),qi:(0,i.encode)(n.unsignedInteger())}),n.end(),{kty:"RSA",n:o,e:a,...e}}case"ec":{let e,r,s;let A=(0,a.default)(t);switch(A){case"secp256k1":e=64,r=33,s=-1;break;case"P-256":e=64,r=36,s=-1;break;case"P-384":e=96,r=35,s=-3;break;case"P-521":e=132,r=35,s=-3;break;default:throw new o.JOSENotSupported("Unsupported curve")}if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"EC",crv:A,x:(0,i.encode)(r.subarray(-e,-e/2)),y:(0,i.encode)(r.subarray(-e/2))}}let l=t.export({type:"pkcs8",format:"der"});return l.length<100&&(r+=s),{...d((0,n.createPublicKey)(t)),d:(0,i.encode)(l.subarray(r,r+e/2))}}case"ed25519":case"x25519":{let e=(0,a.default)(t);if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,i.encode)(r.subarray(-32))}}let r=t.export({type:"pkcs8",format:"der"});return{...d((0,n.createPublicKey)(t)),d:(0,i.encode)(r.subarray(-32))}}case"ed448":case"x448":{let e=(0,a.default)(t);if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,i.encode)(r.subarray("Ed448"===e?-57:-56))}}let r=t.export({type:"pkcs8",format:"der"});return{...d((0,n.createPublicKey)(t)),d:(0,i.encode)(r.subarray("Ed448"===e?-57:-56))}}default:throw new o.JOSENotSupported("Unsupported key asymmetricKeyType")}default:throw new o.JOSENotSupported("Unsupported key type")}};t.default=d},32410:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(6113),i=r(36841),s=r(39627),o=r(69412),a=r(27691),A={padding:n.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.constants.RSA_PSS_SALTLEN_DIGEST},l=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function c(e,t){switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(t.asymmetricKeyType))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");return t;case"RS256":case"RS384":case"RS512":if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,o.default)(t,e),t;case a.rsaPssParams&&"PS256":case a.rsaPssParams&&"PS384":case a.rsaPssParams&&"PS512":if("rsa-pss"===t.asymmetricKeyType){let{hashAlgorithm:r,mgf1HashAlgorithm:n,saltLength:i}=t.asymmetricKeyDetails,s=parseInt(e.slice(-3),10);if(void 0!==r&&(r!==`sha${s}`||n!==r))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(void 0!==i&&i>s>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");return(0,o.default)(t,e),{key:t,...A};case!a.rsaPssParams&&"PS256":case!a.rsaPssParams&&"PS384":case!a.rsaPssParams&&"PS512":if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,o.default)(t,e),{key:t,...A};case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let r=(0,i.default)(t),n=l.get(e);if(r!==n)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${n}, got ${r}`);return{dsaEncoding:"ieee-p1363",key:t}}default:throw new s.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}t.default=c},93735:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decrypt=t.encrypt=void 0;let n=r(73837),i=r(6113),s=r(67917),o=r(23334),a=r(7864),A=r(34942),l=r(68797),c=r(13497),u=r(53700),h=r(24892),d=r(20858),g=r(87565),f=(0,n.promisify)(i.pbkdf2);function p(e,t){if((0,h.default)(e))return e.export();if(e instanceof Uint8Array)return e;if((0,c.isCryptoKey)(e))return(0,u.checkEncCryptoKey)(e,t,"deriveBits","deriveKey"),i.KeyObject.from(e).export();throw TypeError((0,d.default)(e,...g.types,"Uint8Array"))}let E=async(e,t,r,n=2048,i=(0,s.default)(new Uint8Array(16)))=>{(0,l.default)(i);let c=(0,o.p2s)(e,i),u=parseInt(e.slice(13,16),10)>>3,h=p(t,e),d=await f(h,c,n,u,`sha${e.slice(8,11)}`);return{encryptedKey:await (0,A.wrap)(e.slice(-6),d,r),p2c:n,p2s:(0,a.encode)(i)}};t.encrypt=E;let m=async(e,t,r,n,i)=>{(0,l.default)(i);let s=(0,o.p2s)(e,i),a=parseInt(e.slice(13,16),10)>>3,c=p(t,e),u=await f(c,s,n,a,`sha${e.slice(8,11)}`);return(0,A.unwrap)(e.slice(-6),u,r)};t.decrypt=m},67917:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6113);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.randomFillSync}})},84921:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decrypt=t.encrypt=void 0;let n=r(6113),i=r(69412),s=r(13497),o=r(53700),a=r(24892),A=r(20858),l=r(87565),c=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");(0,i.default)(e,t)},u=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return n.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return n.constants.RSA_PKCS1_PADDING;default:return}},h=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function d(e,t,...r){if((0,a.default)(e))return e;if((0,s.isCryptoKey)(e))return(0,o.checkEncCryptoKey)(e,t,...r),n.KeyObject.from(e);throw TypeError((0,A.default)(e,...l.types))}let g=(e,t,r)=>{let i=u(e),s=h(e),o=d(t,e,"wrapKey","encrypt");return c(o,e),(0,n.publicEncrypt)({key:o,oaepHash:s,padding:i},r)};t.encrypt=g;let f=(e,t,r)=>{let i=u(e),s=h(e),o=d(t,e,"unwrapKey","decrypt");return c(o,e),(0,n.privateDecrypt)({key:o,oaepHash:s,padding:i},r)};t.decrypt=f},72341:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="node:crypto"},28406:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0});let i=r(6113),s=r(73837),o=r(99988),a=r(47971),A=r(32410),l=r(60569);n=i.sign.length>3?(0,s.promisify)(i.sign):i.sign;let c=async(e,t,r)=>{let s=(0,l.default)(e,t,"sign");if(e.startsWith("HS")){let t=i.createHmac((0,a.default)(e),s);return t.update(r),t.digest()}return n((0,o.default)(e),r,(0,A.default)(e,s))};t.default=c},4638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(6113).timingSafeEqual;t.default=n},99820:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0});let i=r(6113),s=r(73837),o=r(99988),a=r(32410),A=r(28406),l=r(60569),c=r(27691);n=i.verify.length>4&&c.oneShotCallback?(0,s.promisify)(i.verify):i.verify;let u=async(e,t,r,s)=>{let c=(0,l.default)(e,t,"verify");if(e.startsWith("HS")){let t=await (0,A.default)(e,c,s),n=r;try{return i.timingSafeEqual(n,t)}catch{return!1}}let u=(0,o.default)(e),h=(0,a.default)(e,c);try{return await n(u,s,h,r)}catch{return!1}};t.default=u},13497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCryptoKey=void 0;let n=r(6113),i=r(73837),s=n.webcrypto;t.default=s,t.isCryptoKey=i.types.isCryptoKey?e=>i.types.isCryptoKey(e):e=>!1},85042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deflate=t.inflate=void 0;let n=r(73837),i=r(59796),s=(0,n.promisify)(i.inflateRaw),o=(0,n.promisify)(i.deflateRaw),a=e=>s(e);t.inflate=a;let A=e=>o(e);t.deflate=A},71680:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;let n=r(7864);t.encode=n.encode,t.decode=n.decode},10133:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeJwt=void 0;let n=r(71680),i=r(23334),s=r(4145),o=r(39627);function a(e){let t,r;if("string"!=typeof e)throw new o.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");let{1:a,length:A}=e.split(".");if(5===A)throw new o.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(3!==A)throw new o.JWTInvalid("Invalid JWT");if(!a)throw new o.JWTInvalid("JWTs must contain a payload");try{t=(0,n.decode)(a)}catch{throw new o.JWTInvalid("Failed to base64url decode the payload")}try{r=JSON.parse(i.decoder.decode(t))}catch{throw new o.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,s.default)(r))throw new o.JWTInvalid("Invalid JWT Claims Set");return r}t.decodeJwt=a},52673:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeProtectedHeader=void 0;let n=r(71680),i=r(23334),s=r(4145);function o(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e){if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header")}try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(i.decoder.decode((0,n.decode)(t)));if(!(0,s.default)(e))throw Error();return e}catch{throw TypeError("Invalid Token or Protected Header formatting")}}t.decodeProtectedHeader=o},39627:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JWSSignatureVerificationFailed=t.JWKSTimeout=t.JWKSMultipleMatchingKeys=t.JWKSNoMatchingKey=t.JWKSInvalid=t.JWKInvalid=t.JWTInvalid=t.JWSInvalid=t.JWEInvalid=t.JWEDecryptionFailed=t.JOSENotSupported=t.JOSEAlgNotAllowed=t.JWTExpired=t.JWTClaimValidationFailed=t.JOSEError=void 0;class r extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}t.JOSEError=r;class n extends r{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r}}t.JWTClaimValidationFailed=n;class i extends r{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r}}t.JWTExpired=i;class s extends r{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}t.JOSEAlgNotAllowed=s;class o extends r{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}t.JOSENotSupported=o;class a extends r{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}t.JWEDecryptionFailed=a;class A extends r{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}t.JWEInvalid=A;class l extends r{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}t.JWSInvalid=l;class c extends r{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}t.JWTInvalid=c;class u extends r{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}t.JWKInvalid=u;class h extends r{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}t.JWKSInvalid=h;class d extends r{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}t.JWKSNoMatchingKey=d;class g extends r{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}t.JWKSMultipleMatchingKeys=g,Symbol.asyncIterator;class f extends r{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}t.JWKSTimeout=f;class p extends r{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}t.JWSSignatureVerificationFailed=p},5810:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(72341);t.default=n.default},61232:e=>{"use strict";var t=1/0,r="[object Symbol]",n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="\ud800-\udfff",o="\\u0300-\\u036f\\ufe20-\\ufe23",a="\\u20d0-\\u20f0",A="\\u2700-\\u27bf",l="a-z\\xdf-\\xf6\\xf8-\\xff",c="A-Z\\xc0-\\xd6\\xd8-\\xde",u="\\ufe0e\\ufe0f",h="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",d="['’]",g="["+s+"]",f="["+h+"]",p="["+o+a+"]",E="\\d+",m="["+A+"]",C="["+l+"]",y="[^"+s+h+E+A+l+c+"]",I="\ud83c[\udffb-\udfff]",B="[^"+s+"]",Q="(?:\ud83c[\udde6-\uddff]){2}",v="[\ud800-\udbff][\udc00-\udfff]",w="["+c+"]",b="\\u200d",S="(?:"+C+"|"+y+")",k="(?:"+w+"|"+y+")",R="(?:"+d+"(?:d|ll|m|re|s|t|ve))?",D="(?:"+d+"(?:D|LL|M|RE|S|T|VE))?",_="(?:"+p+"|"+I+")?",T="["+u+"]?",N="(?:"+b+"(?:"+[B,Q,v].join("|")+")"+T+_+")*",F=T+_+N,M="(?:"+[m,Q,v].join("|")+")"+F,L="(?:"+[B+p+"?",p,Q,v,g].join("|")+")",O=RegExp(d,"g"),x=RegExp(p,"g"),U=RegExp(I+"(?="+I+")|"+L+F,"g"),P=RegExp([w+"?"+C+"+"+R+"(?="+[f,w,"$"].join("|")+")",k+"+"+D+"(?="+[f,w+S,"$"].join("|")+")",w+"?"+S+"+"+R,w+"+"+D,E,M].join("|"),"g"),J=RegExp("["+b+s+o+a+u+"]"),V=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,H={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},G="object"==typeof global&&global&&global.Object===Object&&global,j="object"==typeof self&&self&&self.Object===Object&&self,Y=G||j||Function("return this")();function W(e,t,r,n){var i=-1,s=e?e.length:0;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function q(e){return e.split("")}function K(e){return e.match(n)||[]}var z=function(e){return function(t){return null==e?void 0:e[t]}}(H);function $(e){return J.test(e)}function X(e){return V.test(e)}function Z(e){return $(e)?ee(e):q(e)}function ee(e){return e.match(U)||[]}function et(e){return e.match(P)||[]}var er=Object.prototype.toString,en=Y.Symbol,ei=en?en.prototype:void 0,es=ei?ei.toString:void 0;function eo(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}function ea(e){if("string"==typeof e)return e;if(eu(e))return es?es.call(e):"";var r=e+"";return"0"==r&&1/e==-t?"-0":r}function eA(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:eo(e,t,r)}function el(e){return function(t){var r=$(t=eh(t))?Z(t):void 0,n=r?r[0]:t.charAt(0),i=r?eA(r,1).join(""):t.slice(1);return n[e]()+i}}function ec(e){return!!e&&"object"==typeof e}function eu(e){return"symbol"==typeof e||ec(e)&&er.call(e)==r}function eh(e){return null==e?"":ea(e)}var ed=function(e){return function(t){return W(eE(ef(t).replace(O,"")),e,"")}}(function(e,t,r){return t=t.toLowerCase(),e+(r?eg(t):t)});function eg(e){return ep(eh(e).toLowerCase())}function ef(e){return(e=eh(e))&&e.replace(i,z).replace(x,"")}var ep=el("toUpperCase");function eE(e,t,r){return(e=eh(e),void 0===(t=r?void 0:t))?X(e)?et(e):K(e):e.match(t)||[]}e.exports=ed},26100:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedStrategy=t.UnknownError=t.OAuthCallbackError=t.MissingSecret=t.MissingAuthorize=t.MissingAdapterMethods=t.MissingAdapter=t.MissingAPIRoute=t.InvalidCallbackUrl=t.AccountNotLinkedError=void 0,t.adapterErrorHandler=k,t.capitalize=b,t.eventsErrorHandler=S,t.upperSnake=w;var i=n(r(50075)),s=n(r(2756)),o=n(r(97967)),a=n(r(74300)),A=n(r(30984)),l=n(r(43490)),c=n(r(76847)),u=n(r(7079)),h=n(r(16829));function d(e){var t=g();return function(){var r,n=(0,h.default)(e);if(t){var i=(0,h.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function g(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var f=function(e){(0,c.default)(r,e);var t=d(r);function r(e){var n,i;return(0,A.default)(this,r),(i=t.call(this,null!==(n=null==e?void 0:e.message)&&void 0!==n?n:e)).name="UnknownError",i.code=e.code,e instanceof Error&&(i.stack=e.stack),i}return(0,l.default)(r,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,stack:this.stack}}}]),r}((0,n(r(81044)).default)(Error));t.UnknownError=f;var p=function(e){(0,c.default)(r,e);var t=d(r);function r(){var e;(0,A.default)(this,r);for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,a.default)((0,o.default)(e),"name","OAuthCallbackError"),e}return(0,l.default)(r)}(f);t.OAuthCallbackError=p;var E=function(e){(0,c.default)(r,e);var t=d(r);function r(){var e;(0,A.default)(this,r);for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,a.default)((0,o.default)(e),"name","AccountNotLinkedError"),e}return(0,l.default)(r)}(f);t.AccountNotLinkedError=E;var m=function(e){(0,c.default)(r,e);var t=d(r);function r(){var e;(0,A.default)(this,r);for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,a.default)((0,o.default)(e),"name","MissingAPIRouteError"),(0,a.default)((0,o.default)(e),"code","MISSING_NEXTAUTH_API_ROUTE_ERROR"),e}return(0,l.default)(r)}(f);t.MissingAPIRoute=m;var C=function(e){(0,c.default)(r,e);var t=d(r);function r(){var e;(0,A.default)(this,r);for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,a.default)((0,o.default)(e),"name","MissingSecretError"),(0,a.default)((0,o.default)(e),"code","NO_SECRET"),e}return(0,l.default)(r)}(f);t.MissingSecret=C;var y=function(e){(0,c.default)(r,e);var t=d(r);function r(){var e;(0,A.default)(this,r);for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,a.default)((0,o.default)(e),"name","MissingAuthorizeError"),(0,a.default)((0,o.default)(e),"code","CALLBACK_CREDENTIALS_HANDLER_ERROR"),e}return(0,l.default)(r)}(f);t.MissingAuthorize=y;var I=function(e){(0,c.default)(r,e);var t=d(r);function r(){var e;(0,A.default)(this,r);for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,a.default)((0,o.default)(e),"name","MissingAdapterError"),(0,a.default)((0,o.default)(e),"code","EMAIL_REQUIRES_ADAPTER_ERROR"),e}return(0,l.default)(r)}(f);t.MissingAdapter=I;var B=function(e){(0,c.default)(r,e);var t=d(r);function r(){var e;(0,A.default)(this,r);for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,a.default)((0,o.default)(e),"name","MissingAdapterMethodsError"),(0,a.default)((0,o.default)(e),"code","MISSING_ADAPTER_METHODS_ERROR"),e}return(0,l.default)(r)}(f);t.MissingAdapterMethods=B;var Q=function(e){(0,c.default)(r,e);var t=d(r);function r(){var e;(0,A.default)(this,r);for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,a.default)((0,o.default)(e),"name","UnsupportedStrategyError"),(0,a.default)((0,o.default)(e),"code","CALLBACK_CREDENTIALS_JWT_ERROR"),e}return(0,l.default)(r)}(f);t.UnsupportedStrategy=Q;var v=function(e){(0,c.default)(r,e);var t=d(r);function r(){var e;(0,A.default)(this,r);for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,a.default)((0,o.default)(e),"name","InvalidCallbackUrl"),(0,a.default)((0,o.default)(e),"code","INVALID_CALLBACK_URL_ERROR"),e}return(0,l.default)(r)}(f);function w(e){return e.replace(/([A-Z])/g,"_$1").toUpperCase()}function b(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))}function S(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=(0,s.default)(i.default.mark(function r(){var s,o=arguments;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s=e[n],r.next=4,s.apply(void 0,o);case 4:return r.abrupt("return",r.sent);case 7:r.prev=7,r.t0=r.catch(0),t.error("".concat(w(n),"_EVENT_ERROR"),r.t0);case 10:case"end":return r.stop()}},r,null,[[0,7]])})),r},{})}function k(e,t){if(e)return Object.keys(e).reduce(function(r,n){return r[n]=(0,s.default)(i.default.mark(function r(){var s,o,a,A,l,c=arguments;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(r.prev=0,o=Array(s=c.length),a=0;a<s;a++)o[a]=c[a];return t.debug("adapter_".concat(n),{args:o}),A=e[n],r.next=6,A.apply(void 0,o);case 6:return r.abrupt("return",r.sent);case 9:throw r.prev=9,r.t0=r.catch(0),t.error("adapter_error_".concat(n),r.t0),(l=new f(r.t0)).name="".concat(b(n),"Error"),l;case 15:case"end":return r.stop()}},r,null,[[0,9]])})),r},{})}t.InvalidCallbackUrl=v},68638:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),t.AuthHandler=p;var i=d(r(52370)),s=r(61530),o=d(r(19254)),a=n(r(48296)),A=r(33274),l=r(15486),c=r(44939),u=r(83191);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}async function g(e){try{return await e.json()}catch(e){}}async function f(e){var t,r,n,i;if(e instanceof Request){let t=new URL(e.url),o=t.pathname.split("/").slice(3),a=Object.fromEntries(e.headers),A=Object.fromEntries(t.searchParams);return A.nextauth=o,{action:o[0],method:e.method,headers:a,body:await g(e),cookies:(0,u.parse)(null!==(r=e.headers.get("cookie"))&&void 0!==r?r:""),providerId:o[1],error:null!==(n=t.searchParams.get("error"))&&void 0!==n?n:o[1],origin:(0,s.detectOrigin)(null!==(i=a["x-forwarded-host"])&&void 0!==i?i:a.host,a["x-forwarded-proto"]),query:A}}let{headers:o}=e,a=null!==(t=null==o?void 0:o["x-forwarded-host"])&&void 0!==t?t:null==o?void 0:o.host;return e.origin=(0,s.detectOrigin)(a,null==o?void 0:o["x-forwarded-proto"]),e}async function p(e){var t,r,n,s,u,h,d,g;let{options:p,req:E}=e,m=await f(E);(0,i.setLogger)(p.logger,p.debug);let C=(0,l.assertConfig)({options:p,req:m});if(Array.isArray(C))C.forEach(i.default.warn);else if(C instanceof Error){if(i.default.error(C.code,C),!["signin","signout","error","verify-request"].includes(m.action)||"GET"!==m.method)return{status:500,headers:[{key:"Content-Type",value:"application/json"}],body:{message:"There is a problem with the server configuration. Check the server logs for more information."}};let{pages:e,theme:t}=p,r=(null==e?void 0:e.error)&&(null===(u=m.query)||void 0===u?void 0:null===(h=u.callbackUrl)||void 0===h?void 0:h.startsWith(e.error));return!(null!=e&&e.error)||r?(r&&i.default.error("AUTH_ON_ERROR_PAGE_ERROR",Error(`The error page ${null==e?void 0:e.error} should not require authentication`)),(0,a.default)({theme:t}).error({error:"configuration"})):{redirect:`${e.error}?error=Configuration`}}let{action:y,providerId:I,error:B,method:Q="GET"}=m,{options:v,cookies:w}=await (0,A.init)({authOptions:p,action:y,providerId:I,origin:m.origin,callbackUrl:null!==(t=null===(r=m.body)||void 0===r?void 0:r.callbackUrl)&&void 0!==t?t:null===(n=m.query)||void 0===n?void 0:n.callbackUrl,csrfToken:null===(s=m.body)||void 0===s?void 0:s.csrfToken,cookies:m.cookies,isPost:"POST"===Q}),b=new c.SessionStore(v.cookies.sessionToken,m,v.logger);if("GET"===Q){let e=(0,a.default)({...v,query:m.query,cookies:w}),{pages:t}=v;switch(y){case"providers":return await o.providers(v.providers);case"session":{let e=await o.session({options:v,sessionStore:b});return e.cookies&&w.push(...e.cookies),{...e,cookies:w}}case"csrf":return{headers:[{key:"Content-Type",value:"application/json"}],body:{csrfToken:v.csrfToken},cookies:w};case"signin":if(t.signIn){let e=`${t.signIn}${t.signIn.includes("?")?"&":"?"}callbackUrl=${encodeURIComponent(v.callbackUrl)}`;return B&&(e=`${e}&error=${encodeURIComponent(B)}`),{redirect:e,cookies:w}}return e.signin();case"signout":if(t.signOut)return{redirect:t.signOut,cookies:w};return e.signout();case"callback":if(v.provider){let e=await o.callback({body:m.body,query:m.query,headers:m.headers,cookies:m.cookies,method:Q,options:v,sessionStore:b});return e.cookies&&w.push(...e.cookies),{...e,cookies:w}}break;case"verify-request":if(t.verifyRequest)return{redirect:t.verifyRequest,cookies:w};return e.verifyRequest();case"error":if(["Signin","OAuthSignin","OAuthCallback","OAuthCreateAccount","EmailCreateAccount","Callback","OAuthAccountNotLinked","EmailSignin","CredentialsSignin","SessionRequired"].includes(B))return{redirect:`${v.url}/signin?error=${B}`,cookies:w};if(t.error)return{redirect:`${t.error}${t.error.includes("?")?"&":"?"}error=${B}`,cookies:w};return e.error({error:B})}}else if("POST"===Q)switch(y){case"signin":if(v.csrfTokenVerified&&v.provider){let e=await o.signin({query:m.query,body:m.body,options:v});return e.cookies&&w.push(...e.cookies),{...e,cookies:w}}return{redirect:`${v.url}/signin?csrf=true`,cookies:w};case"signout":if(v.csrfTokenVerified){let e=await o.signout({options:v,sessionStore:b});return e.cookies&&w.push(...e.cookies),{...e,cookies:w}}return{redirect:`${v.url}/signout?csrf=true`,cookies:w};case"callback":if(v.provider){if("credentials"===v.provider.type&&!v.csrfTokenVerified)return{redirect:`${v.url}/signin?csrf=true`,cookies:w};let e=await o.callback({body:m.body,query:m.query,headers:m.headers,cookies:m.cookies,method:Q,options:v,sessionStore:b});return e.cookies&&w.push(...e.cookies),{...e,cookies:w}}break;case"_log":if(p.logger)try{let{code:e,level:t,...r}=null!==(d=m.body)&&void 0!==d?d:{};i.default[t](e,r)}catch(e){i.default.error("LOGGER_ERROR",e)}return{};case"session":if(v.csrfTokenVerified){let e=await o.session({options:v,sessionStore:b,newSession:null===(g=m.body)||void 0===g?void 0:g.data,isUpdate:!0});return e.cookies&&w.push(...e.cookies),{...e,cookies:w}}return{status:400,body:{},cookies:w}}return{status:400,body:`Error: This action with HTTP ${Q} is not supported by NextAuth.js`}}},33274:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),t.init=E;var i=r(6113),s=n(r(52370)),o=r(26100),a=n(r(1200)),A=r(135),l=p(r(44939)),c=p(r(36929)),u=r(29090),h=r(63811),d=r(61958),g=n(r(37027));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}async function E({authOptions:e,providerId:t,action:r,origin:n,cookies:f,callbackUrl:p,csrfToken:E,isPost:m}){var C,y;let I=(0,g.default)(n),B=(0,A.createSecret)({authOptions:e,url:I}),{providers:Q,provider:v}=(0,a.default)({providers:e.providers,url:I,providerId:t}),w=2592e3,b={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:I,action:r,provider:v,cookies:{...l.defaultCookies(null!==(C=e.useSecureCookies)&&void 0!==C?C:I.base.startsWith("https://")),...e.cookies},secret:B,providers:Q,session:{strategy:e.adapter?"database":"jwt",maxAge:w,updateAge:86400,generateSessionToken:()=>{var e;return null!==(e=null===i.randomUUID||void 0===i.randomUUID?void 0:(0,i.randomUUID)())&&void 0!==e?e:(0,i.randomBytes)(32).toString("hex")},...e.session},jwt:{secret:B,maxAge:w,encode:c.encode,decode:c.decode,...e.jwt},events:(0,o.eventsErrorHandler)(null!==(y=e.events)&&void 0!==y?y:{},s.default),adapter:(0,o.adapterErrorHandler)(e.adapter,s.default),callbacks:{...u.defaultCallbacks,...e.callbacks},logger:s.default,callbackUrl:I.origin},S=[],{csrfToken:k,cookie:R,csrfTokenVerified:D}=(0,h.createCSRFToken)({options:b,cookieValue:null==f?void 0:f[b.cookies.csrfToken.name],isPost:m,bodyValue:E});b.csrfToken=k,b.csrfTokenVerified=D,R&&S.push({name:b.cookies.csrfToken.name,value:R,options:b.cookies.csrfToken.options});let{callbackUrl:_,callbackUrlCookie:T}=await (0,d.createCallbackUrl)({options:b,cookieValue:null==f?void 0:f[b.cookies.callbackUrl.name],paramValue:p});return b.callbackUrl=_,T&&S.push({name:b.cookies.callbackUrl.name,value:T,options:b.cookies.callbackUrl.options}),{options:b,cookies:S}}},15486:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),t.assertConfig=l;var i=r(26100),s=n(r(37027)),o=r(44939);let a=!1;function A(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch(e){return!1}}function l(e){var t,r,n,l,c,u,h,d;let g,f,p;let{options:E,req:m}=e,C=[];if(!a&&(m.origin||C.push("NEXTAUTH_URL"),E.secret,E.debug&&C.push("DEBUG_ENABLED")),!E.secret)return new i.MissingSecret("Please define a `secret` in production.");if(!(null!==(t=m.query)&&void 0!==t&&t.nextauth)&&!m.action)return new i.MissingAPIRoute("Cannot find [...nextauth].{js,ts} in `/pages/api/auth`. Make sure the filename is written correctly.");let y=null===(r=m.query)||void 0===r?void 0:r.callbackUrl,I=(0,s.default)(m.origin);if(y&&!A(y,I.base))return new i.InvalidCallbackUrl(`Invalid callback URL. Received: ${y}`);let{callbackUrl:B}=(0,o.defaultCookies)(null!==(n=E.useSecureCookies)&&void 0!==n?n:I.base.startsWith("https://")),Q=null===(l=m.cookies)||void 0===l?void 0:l[null!==(c=null===(u=E.cookies)||void 0===u?void 0:null===(h=u.callbackUrl)||void 0===h?void 0:h.name)&&void 0!==c?c:B.name];if(Q&&!A(Q,I.base))return new i.InvalidCallbackUrl(`Invalid callback URL. Received: ${Q}`);for(let e of E.providers)"credentials"===e.type?g=!0:"email"===e.type?f=!0:"twitter"===e.id&&"2.0"===e.version&&(p=!0);if(g){let e=(null===(d=E.session)||void 0===d?void 0:d.strategy)==="database",t=!E.providers.some(e=>"credentials"!==e.type);if(e&&t)return new i.UnsupportedStrategy("Signin in with credentials only supported if JWT strategy is enabled");if(E.providers.some(e=>"credentials"===e.type&&!e.authorize))return new i.MissingAuthorize("Must define an authorize() handler to use credentials authentication provider")}if(f){let{adapter:e}=E;if(!e)return new i.MissingAdapter("E-mail login requires an adapter.");let t=["createVerificationToken","useVerificationToken","getUserByEmail"].filter(t=>!e[t]);if(t.length)return new i.MissingAdapterMethods(`Required adapter methods were missing: ${t.join(", ")}`)}return a||(p&&C.push("TWITTER_OAUTH_2_BETA"),a=!0),C}},23244:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=r(26100),i=r(135);async function s(e){var t,r,s,o,a,A;let{sessionToken:l,profile:c,account:u,options:h}=e;if(!(null!=u&&u.providerAccountId)||!u.type)throw Error("Missing or invalid provider account");if(!["email","oauth"].includes(u.type))throw Error("Provider not supported");let{adapter:d,jwt:g,events:f,session:{strategy:p,generateSessionToken:E}}=h;if(!d)return{user:c,account:u};let m=c,{createUser:C,updateUser:y,getUser:I,getUserByAccount:B,getUserByEmail:Q,linkAccount:v,createSession:w,getSessionAndUser:b,deleteSession:S}=d,k=null,R=null,D=!1,_="jwt"===p;if(l){if(_)try{(k=await g.decode({...g,token:l}))&&"sub"in k&&k.sub&&(R=await I(k.sub))}catch(e){}else{let e=await b(l);e&&(k=e.session,R=e.user)}}if("email"===u.type){let e=await Q(m.email);if(e)(null===(t=R)||void 0===t?void 0:t.id)!==e.id&&!_&&l&&await S(l),R=await y({id:e.id,emailVerified:new Date}),await (null===(r=f.updateUser)||void 0===r?void 0:r.call(f,{user:R}));else{let{id:e,...t}={...m,emailVerified:new Date};R=await C(t),await (null===(s=f.createUser)||void 0===s?void 0:s.call(f,{user:R})),D=!0}return{session:k=_?{}:await w({sessionToken:await E(),userId:R.id,expires:(0,i.fromDate)(h.session.maxAge)}),user:R,isNewUser:D}}if("oauth"===u.type){let e=await B({providerAccountId:u.providerAccountId,provider:u.provider});if(e){if(R){if(e.id===R.id)return{session:k,user:R,isNewUser:D};throw new n.AccountNotLinkedError("The account is already associated with another user")}return{session:k=_?{}:await w({sessionToken:await E(),userId:e.id,expires:(0,i.fromDate)(h.session.maxAge)}),user:e,isNewUser:D}}{if(R)return await v({...u,userId:R.id}),await (null===(A=f.linkAccount)||void 0===A?void 0:A.call(f,{user:R,account:u,profile:m})),{session:k,user:R,isNewUser:D};let e=m.email?await Q(m.email):null;if(e){let t=h.provider;if(null!=t&&t.allowDangerousEmailAccountLinking)R=e;else throw new n.AccountNotLinkedError("Another account already exists with the same e-mail address")}else{let{id:e,...t}={...m,emailVerified:null};R=await C(t)}return await (null===(o=f.createUser)||void 0===o?void 0:o.call(f,{user:R})),await v({...u,userId:R.id}),await (null===(a=f.linkAccount)||void 0===a?void 0:a.call(f,{user:R,account:u,profile:m})),{session:k=_?{}:await w({sessionToken:await E(),userId:R.id,expires:(0,i.fromDate)(h.session.maxAge)}),user:R,isNewUser:!0}}}throw Error("Unsupported account type")}},61958:(e,t)=>{"use strict";async function r({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:i}=e,s=n.origin;return t?s=await i.redirect({url:t,baseUrl:n.origin}):r&&(s=await i.redirect({url:r,baseUrl:n.origin})),{callbackUrl:s,callbackUrlCookie:s!==r?s:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.createCallbackUrl=r},44939:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStore=void 0,t.defaultCookies=d;var i=n(r(28117)),s=n(r(59706));function o(e,t){A(e,t),t.add(e)}function a(e,t,r){A(e,t),t.set(e,r)}function A(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t,r){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return r}let c=4096,u=163,h=3933;function d(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}next-auth.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}next-auth.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}next-auth.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}next-auth.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}next-auth.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}next-auth.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}}}}var g=new WeakMap,f=new WeakMap,p=new WeakMap,E=new WeakSet,m=new WeakSet;class C{constructor(e,t,r){o(this,m),o(this,E),a(this,g,{writable:!0,value:{}}),a(this,f,{writable:!0,value:void 0}),a(this,p,{writable:!0,value:void 0}),(0,s.default)(this,p,r),(0,s.default)(this,f,e);let{cookies:n}=t,{name:A}=e;if("function"==typeof(null==n?void 0:n.getAll))for(let{name:e,value:t}of n.getAll())e.startsWith(A)&&((0,i.default)(this,g)[e]=t);else if(n instanceof Map)for(let e of n.keys())e.startsWith(A)&&((0,i.default)(this,g)[e]=n.get(e));else for(let e in n)e.startsWith(A)&&((0,i.default)(this,g)[e]=n[e])}get value(){return Object.keys((0,i.default)(this,g)).sort((e,t)=>{var r,n;return parseInt(null!==(r=e.split(".").pop())&&void 0!==r?r:"0")-parseInt(null!==(n=t.split(".").pop())&&void 0!==n?n:"0")}).map(e=>(0,i.default)(this,g)[e]).join("")}chunk(e,t){let r=l(this,m,I).call(this);for(let n of l(this,E,y).call(this,{name:(0,i.default)(this,f).name,value:e,options:{...(0,i.default)(this,f).options,...t}}))r[n.name]=n;return Object.values(r)}clean(){return Object.values(l(this,m,I).call(this))}}function y(e){let t=Math.ceil(e.value.length/h);if(1===t)return(0,i.default)(this,g)[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let t=`${e.name}.${n}`,s=e.value.substr(n*h,h);r.push({...e,name:t,value:s}),(0,i.default)(this,g)[t]=s}return(0,i.default)(this,p).debug("CHUNKING_SESSION_COOKIE",{message:`Session cookie exceeds allowed ${c} bytes.`,emptyCookieSize:u,valueSize:e.value.length,chunks:r.map(e=>e.value.length+u)}),r}function I(){let e={};for(let r in(0,i.default)(this,g)){var t;null===(t=(0,i.default)(this,g))||void 0===t||delete t[r],e[r]={name:r,value:"",options:{...(0,i.default)(this,f).options,maxAge:0}}}return e}t.SessionStore=C},63811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCSRFToken=i;var n=r(6113);function i({options:e,cookieValue:t,isPost:r,bodyValue:i}){if(t){let[s,o]=t.split("|");if(o===(0,n.createHash)("sha256").update(`${s}${e.secret}`).digest("hex"))return{csrfTokenVerified:r&&s===i,csrfToken:s}}let s=(0,n.randomBytes)(32).toString("hex"),o=(0,n.createHash)("sha256").update(`${s}${e.secret}`).digest("hex");return{cookie:`${s}|${o}`,csrfToken:s}}},29090:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCallbacks=void 0;let r={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>e,jwt:({token:e})=>e};t.defaultCallbacks=r},4552:(e,t)=>{"use strict";async function r({email:e,adapter:t}){let{getUserByEmail:r}=t;return(e?await r(e):null)||{id:e,email:e,emailVerified:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},90065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=r(6113),i=r(135);async function s(e,t){var r,s,o,a;let{url:A,adapter:l,provider:c,callbackUrl:u,theme:h}=t,d=null!==(r=await (null===(s=c.generateVerificationToken)||void 0===s?void 0:s.call(c)))&&void 0!==r?r:(0,n.randomBytes)(32).toString("hex"),g=86400,f=new Date(Date.now()+(null!==(o=c.maxAge)&&void 0!==o?o:g)*1e3),p=new URLSearchParams({callbackUrl:u,token:d,email:e}),E=`${A}/callback/${c.id}?${p}`;return await Promise.all([c.sendVerificationRequest({identifier:e,token:d,expires:f,url:E,provider:c,theme:h}),null===(a=l.createVerificationToken)||void 0===a?void 0:a.call(l,{identifier:e,token:(0,i.hashToken)(d,t),expires:f})]),`${A}/verify-request?${new URLSearchParams({provider:c.id,type:c.type})}`}},45657:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=A;var n=r(30499),i=r(16808),s=a(r(99693));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}async function A({options:e,query:t}){var r,o,a;let{logger:A,provider:l}=e,c={};if("string"==typeof l.authorization){let e=Object.fromEntries(new URL(l.authorization).searchParams);c={...c,...e}}else c={...c,...null===(o=l.authorization)||void 0===o?void 0:o.params};if(c={...c,...t},null!==(r=l.version)&&void 0!==r&&r.startsWith("1.")){let t=(0,i.oAuth1Client)(e),r=await t.getOAuthRequestToken(c),n=`${null===(a=l.authorization)||void 0===a?void 0:a.url}?${new URLSearchParams({oauth_token:r.oauth_token,oauth_token_secret:r.oauth_token_secret,...r.params})}`;return i.oAuth1TokenStore.set(r.oauth_token,r.oauth_token_secret),A.debug("GET_AUTHORIZATION_URL",{url:n,provider:l}),{redirect:n}}let u=await (0,n.openidClient)(e),h=c,d=[];await s.state.create(e,d,h),await s.pkce.create(e,d,h),await s.nonce.create(e,d,h);let g=u.authorizationUrl(h);return A.debug("GET_AUTHORIZATION_URL",{url:g,cookies:d,provider:l}),{redirect:g,cookies:d}}},59082:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(44741),i=r(30499),s=r(16808),o=l(r(99693)),a=r(26100);function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(A=function(e){return e?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=A(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}async function c(e){var t,r,A,l,c,h;let{options:d,query:g,body:f,method:p,cookies:E}=e,{logger:m,provider:C}=d,y=null!==(t=null==f?void 0:f.error)&&void 0!==t?t:null==g?void 0:g.error;if(y){let e=Error(y);throw m.error("OAUTH_CALLBACK_HANDLER_ERROR",{error:e,error_description:null==g?void 0:g.error_description,providerId:C.id}),m.debug("OAUTH_CALLBACK_HANDLER_ERROR",{body:f}),e}if(null!==(r=C.version)&&void 0!==r&&r.startsWith("1."))try{let e=await (0,s.oAuth1Client)(d),{oauth_token:t,oauth_verifier:r}=null!=g?g:{},n=await e.getOAuthAccessToken(t,s.oAuth1TokenStore.get(t),r),i=await e.get(C.profileUrl,n.oauth_token,n.oauth_token_secret);return"string"==typeof i&&(i=JSON.parse(i)),{...await u({profile:i,tokens:n,provider:C,logger:m}),cookies:[]}}catch(e){throw m.error("OAUTH_V1_GET_ACCESS_TOKEN_ERROR",e),e}null!=g&&g.oauth_token&&s.oAuth1TokenStore.delete(g.oauth_token);try{let e,t;let r=await (0,i.openidClient)(d),s={},a=[];await o.state.use(E,a,d,s),await o.pkce.use(E,a,d,s),await o.nonce.use(E,a,d,s);let y={...r.callbackParams({url:`http://n?${new URLSearchParams(g)}`,body:f,method:p}),...null===(A=C.token)||void 0===A?void 0:A.params};if(null!==(l=C.token)&&void 0!==l&&l.request){let t=await C.token.request({provider:C,params:y,checks:s,client:r});e=new n.TokenSet(t.tokens)}else e=C.idToken?await r.callback(C.callbackUrl,y,s):await r.oauthCallback(C.callbackUrl,y,s);return Array.isArray(e.scope)&&(e.scope=e.scope.join(" ")),t=null!==(c=C.userinfo)&&void 0!==c&&c.request?await C.userinfo.request({provider:C,tokens:e,client:r}):C.idToken?e.claims():await r.userinfo(e,{params:null===(h=C.userinfo)||void 0===h?void 0:h.params}),{...await u({profile:t,provider:C,tokens:e,logger:m}),cookies:a}}catch(e){throw new a.OAuthCallbackError(e)}}async function u({profile:e,tokens:t,provider:r,logger:n}){try{var i;n.debug("PROFILE_DATA",{OAuthProfile:e});let s=await r.profile(e,t);if(s.email=null===(i=s.email)||void 0===i?void 0:i.toLowerCase(),!s.id)throw TypeError(`Profile id is missing in ${r.name} OAuth profile response`);return{profile:s,account:{provider:r.id,type:r.type,providerAccountId:s.id.toString(),...t},OAuthProfile:e}}catch(t){n.error("OAUTH_PARSE_PROFILE_ERROR",{error:t,OAuthProfile:e})}}},99693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pkce=t.nonce=t.PKCE_CODE_CHALLENGE_METHOD=void 0,t.signCookie=a,t.state=void 0;var n=r(44741),i=o(r(36929));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}async function a(e,t,r,n){let{cookies:s,logger:o}=n;o.debug(`CREATE_${e.toUpperCase()}`,{value:t,maxAge:r});let{name:a}=s[e],A=new Date;return A.setTime(A.getTime()+1e3*r),{name:a,value:await i.encode({...n.jwt,maxAge:r,token:{value:t},salt:a}),options:{...s[e].options,expires:A}}}let A=900,l="S256";t.PKCE_CODE_CHALLENGE_METHOD=l;let c={async create(e,t,r){var i,s,o;if(!(null!==(i=e.provider)&&void 0!==i&&null!==(s=i.checks)&&void 0!==s&&s.includes("pkce")))return;let c=n.generators.codeVerifier(),u=n.generators.codeChallenge(c);r.code_challenge=u,r.code_challenge_method=l;let h=null!==(o=e.cookies.pkceCodeVerifier.options.maxAge)&&void 0!==o?o:A;t.push(await a("pkceCodeVerifier",c,h,e))},async use(e,t,r,n){var s,o;if(!(null!==(s=r.provider)&&void 0!==s&&null!==(o=s.checks)&&void 0!==o&&o.includes("pkce")))return;let a=null==e?void 0:e[r.cookies.pkceCodeVerifier.name];if(!a)throw TypeError("PKCE code_verifier cookie was missing.");let{name:A}=r.cookies.pkceCodeVerifier,l=await i.decode({...r.jwt,token:a,salt:A});if(!(null!=l&&l.value))throw TypeError("PKCE code_verifier value could not be parsed.");t.push({name:A,value:"",options:{...r.cookies.pkceCodeVerifier.options,maxAge:0}}),n.code_verifier=l.value}};t.pkce=c;let u=900,h={async create(e,t,r){var i,s;if(!(null!==(i=e.provider.checks)&&void 0!==i&&i.includes("state")))return;let o=n.generators.state();r.state=o;let A=null!==(s=e.cookies.state.options.maxAge)&&void 0!==s?s:u;t.push(await a("state",o,A,e))},async use(e,t,r,n){var s;if(!(null!==(s=r.provider.checks)&&void 0!==s&&s.includes("state")))return;let o=null==e?void 0:e[r.cookies.state.name];if(!o)throw TypeError("State cookie was missing.");let{name:a}=r.cookies.state,A=await i.decode({...r.jwt,token:o,salt:a});if(!(null!=A&&A.value))throw TypeError("State value could not be parsed.");t.push({name:a,value:"",options:{...r.cookies.state.options,maxAge:0}}),n.state=A.value}};t.state=h;let d=900,g={async create(e,t,r){var i,s;if(!(null!==(i=e.provider.checks)&&void 0!==i&&i.includes("nonce")))return;let o=n.generators.nonce();r.nonce=o;let A=null!==(s=e.cookies.nonce.options.maxAge)&&void 0!==s?s:d;t.push(await a("nonce",o,A,e))},async use(e,t,r,n){var s,o;if(!(null!==(s=r.provider)&&void 0!==s&&null!==(o=s.checks)&&void 0!==o&&o.includes("nonce")))return;let a=null==e?void 0:e[r.cookies.nonce.name];if(!a)throw TypeError("Nonce cookie was missing.");let{name:A}=r.cookies.nonce,l=await i.decode({...r.jwt,token:a,salt:A});if(!(null!=l&&l.value))throw TypeError("Nonce value could not be parsed.");t.push({name:A,value:"",options:{...r.cookies.nonce.options,maxAge:0}}),n.nonce=l.value}};t.nonce=g},16808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oAuth1Client=i,t.oAuth1TokenStore=void 0;var n=r(49086);function i(e){var t,r;let i=e.provider,s=new n.OAuth(i.requestTokenUrl,i.accessTokenUrl,i.clientId,i.clientSecret,null!==(t=i.version)&&void 0!==t?t:"1.0",i.callbackUrl,null!==(r=i.encoding)&&void 0!==r?r:"HMAC-SHA1"),o=s.get.bind(s);s.get=async(...e)=>await new Promise((t,r)=>{o(...e,(e,n)=>{if(e)return r(e);t(n)})});let a=s.getOAuthAccessToken.bind(s);s.getOAuthAccessToken=async(...e)=>await new Promise((t,r)=>{a(...e,(e,n,i)=>{if(e)return r(e);t({oauth_token:n,oauth_token_secret:i})})});let A=s.getOAuthRequestToken.bind(s);return s.getOAuthRequestToken=async(e={})=>await new Promise((t,r)=>{A(e,(e,n,i,s)=>{if(e)return r(e);t({oauth_token:n,oauth_token_secret:i,params:s})})}),s}let s=new Map;t.oAuth1TokenStore=s},30499:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openidClient=i;var n=r(44741);async function i(e){let t;let r=e.provider;if(r.httpOptions&&n.custom.setHttpOptionsDefaults(r.httpOptions),r.wellKnown)t=await n.Issuer.discover(r.wellKnown);else{var i,s,o;t=new n.Issuer({issuer:r.issuer,authorization_endpoint:null===(i=r.authorization)||void 0===i?void 0:i.url,token_endpoint:null===(s=r.token)||void 0===s?void 0:s.url,userinfo_endpoint:null===(o=r.userinfo)||void 0===o?void 0:o.url,jwks_uri:r.jwks_endpoint})}let a=new t.Client({client_id:r.clientId,client_secret:r.clientSecret,redirect_uris:[r.callbackUrl],...r.client},r.jwks);return a[n.custom.clock_tolerance]=10,a}},1200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=r(53747);function i(e){let{url:t,providerId:r}=e,i=e.providers.map(({options:e,...r})=>{var i,o;if("oauth"===r.type){let i=s(r),a=s(e,!0),A=null!==(o=null==a?void 0:a.id)&&void 0!==o?o:r.id;return(0,n.merge)(i,{...a,signinUrl:`${t}/signin/${A}`,callbackUrl:`${t}/callback/${A}`})}let a=null!==(i=null==e?void 0:e.id)&&void 0!==i?i:r.id;return(0,n.merge)(r,{...e,signinUrl:`${t}/signin/${a}`,callbackUrl:`${t}/callback/${a}`})});return{providers:i,provider:i.find(({id:e})=>e===r)}}function s(e,t=!1){var r,n,i,s,o,a,A;if(!e)return;let l=Object.entries(e).reduce((e,[t,r])=>{if(["authorization","token","userinfo"].includes(t)&&"string"==typeof r){var n;let i=new URL(r);e[t]={url:`${i.origin}${i.pathname}`,params:Object.fromEntries(null!==(n=i.searchParams)&&void 0!==n?n:[])}}else e[t]=r;return e},{});return t||null!==(r=l.version)&&void 0!==r&&r.startsWith("1.")||(l.idToken=!!(null!==(n=null!==(i=l.idToken)&&void 0!==i?i:null===(s=l.wellKnown)||void 0===s?void 0:s.includes("openid-configuration"))&&void 0!==n?n:null===(o=l.authorization)||void 0===o?void 0:null===(a=o.params)||void 0===a?void 0:null===(A=a.scope)||void 0===A?void 0:A.includes("openid")),l.checks||(l.checks=["state"])),l}},135:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSecret=o,t.fromDate=i,t.hashToken=s;var n=r(6113);function i(e,t=Date.now()){return new Date(t+1e3*e)}function s(e,t){var r;let{provider:i,secret:s}=t;return(0,n.createHash)("sha256").update(`${e}${null!==(r=i.secret)&&void 0!==r?r:s}`).digest("hex")}function o(e){var t;let{authOptions:r,url:i}=e;return null!==(t=r.secret)&&void 0!==t?t:(0,n.createHash)("sha256").update(JSON.stringify({...i,...r})).digest("hex")}},88425:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=r(81706);function i(e){var t;let{url:r,error:i="default",theme:s}=e,o=`${r}/signin`,a={default:{status:200,heading:"Error",message:(0,n.h)("p",null,(0,n.h)("a",{className:"site",href:null==r?void 0:r.origin},null==r?void 0:r.host))},configuration:{status:500,heading:"Server error",message:(0,n.h)("div",null,(0,n.h)("p",null,"There is a problem with the server configuration."),(0,n.h)("p",null,"Check the server logs for more information."))},accessdenied:{status:403,heading:"Access Denied",message:(0,n.h)("div",null,(0,n.h)("p",null,"You do not have permission to sign in."),(0,n.h)("p",null,(0,n.h)("a",{className:"button",href:o},"Sign in")))},verification:{status:403,heading:"Unable to sign in",message:(0,n.h)("div",null,(0,n.h)("p",null,"The sign in link is no longer valid."),(0,n.h)("p",null,"It may have been used already or it may have expired.")),signin:(0,n.h)("a",{className:"button",href:o},"Sign in")}},{status:A,heading:l,message:c,signin:u}=null!==(t=a[i.toLowerCase()])&&void 0!==t?t:a.default;return{status:A,html:(0,n.h)("div",{className:"error"},(null==s?void 0:s.brandColor)&&(0,n.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${null==s?void 0:s.brandColor}
        }
      `}}),(0,n.h)("div",{className:"card"},(null==s?void 0:s.logo)&&(0,n.h)("img",{src:s.logo,alt:"Logo",className:"logo"}),(0,n.h)("h1",null,l),(0,n.h)("div",{className:"message"},c),u))}}},48296:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var i=n(r(17956)),s=n(r(3374)),o=n(r(80029)),a=n(r(31361)),A=n(r(88425)),l=n(r(22581));function c(e){let{url:t,theme:r,query:n,cookies:c}=e;function u({html:e,title:t,status:n}){var s;return{cookies:c,status:n,headers:[{key:"Content-Type",value:"text/html"}],body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${(0,l.default)()}</style><title>${t}</title></head><body class="__next-auth-theme-${null!==(s=null==r?void 0:r.colorScheme)&&void 0!==s?s:"auto"}"><div class="page">${(0,i.default)(e)}</div></body></html>`}}return{signin:t=>u({html:(0,s.default)({csrfToken:e.csrfToken,providers:e.providers,callbackUrl:e.callbackUrl,theme:r,...n,...t}),title:"Sign In"}),signout:n=>u({html:(0,o.default)({csrfToken:e.csrfToken,url:t,theme:r,...n}),title:"Sign Out"}),verifyRequest:e=>u({html:(0,a.default)({url:t,theme:r,...e}),title:"Verify Request"}),error:e=>u({...(0,A.default)({url:t,theme:r,...e}),title:"Error"})}}},3374:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=r(81706),s=n(r(40066));function o(e,t=1){if(!e)return;3===(e=e.replace(/^#/,"")).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let r=parseInt(e,16),n=r>>16&255,i=r>>8&255,s=255&r;return t=Math.min(Math.max(t,0),1),`rgba(${n}, ${i}, ${s}, ${t})`}function a(e){var t;let{csrfToken:r,providers:n,callbackUrl:a,theme:A,email:l,error:c}=e,u=n.filter(e=>"oauth"===e.type||"email"===e.type||"credentials"===e.type&&!!e.credentials);"undefined"!=typeof document&&A.buttonText&&document.documentElement.style.setProperty("--button-text-color",A.buttonText),"undefined"!=typeof document&&A.brandColor&&document.documentElement.style.setProperty("--brand-color",A.brandColor);let h={Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallback:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page.",default:"Unable to sign in."},d=c&&(null!==(t=h[c])&&void 0!==t?t:h.default),g="https://authjs.dev/img/providers";return(0,i.h)("div",{className:"signin"},A.brandColor&&(0,i.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${A.brandColor}
        }
      `}}),A.buttonText&&(0,i.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${A.buttonText}
        }
      `}}),(0,i.h)("div",{className:"card"},A.logo&&(0,i.h)("img",{src:A.logo,alt:"Logo",className:"logo"}),d&&(0,i.h)("div",{className:"error"},(0,i.h)("p",null,d)),u.map((e,t)=>{let n,A,c,h,d,f;if("oauth"===e.type){var p;({bg:n="",text:A="",logo:c="",bgDark:d=n,textDark:f=A,logoDark:h=""}=null!==(p=e.style)&&void 0!==p?p:{}),c=c.startsWith("/")?`${g}${c}`:c,(h=h.startsWith("/")?`${g}${h}`:h||c)||(h=c)}return(0,i.h)("div",{key:e.id,className:"provider"},"oauth"===e.type&&(0,i.h)("form",{action:e.signinUrl,method:"POST"},(0,i.h)("input",{type:"hidden",name:"csrfToken",value:r}),a&&(0,i.h)("input",{type:"hidden",name:"callbackUrl",value:a}),(0,i.h)("button",{type:"submit",className:"button",style:{"--provider-bg":n,"--provider-dark-bg":d,"--provider-color":A,"--provider-dark-color":f,"--provider-bg-hover":o(n,.8),"--provider-dark-bg-hover":o(d,.8)}},c&&(0,i.h)("img",{loading:"lazy",height:24,width:24,id:"provider-logo",src:`${c.startsWith("/")?g:""}${c}`}),h&&(0,i.h)("img",{loading:"lazy",height:24,width:24,id:"provider-logo-dark",src:`${c.startsWith("/")?g:""}${h}`}),(0,i.h)("span",null,"Sign in with ",e.name))),("email"===e.type||"credentials"===e.type)&&t>0&&"email"!==u[t-1].type&&"credentials"!==u[t-1].type&&(0,i.h)("hr",null),"email"===e.type&&(0,i.h)("form",{action:e.signinUrl,method:"POST"},(0,i.h)("input",{type:"hidden",name:"csrfToken",value:r}),(0,i.h)("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`},"Email"),(0,i.h)("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:l,placeholder:"email@example.com",required:!0}),(0,i.h)("button",{id:"submitButton",type:"submit"},"Sign in with ",e.name)),"credentials"===e.type&&(0,i.h)("form",{action:e.callbackUrl,method:"POST"},(0,i.h)("input",{type:"hidden",name:"csrfToken",value:r}),Object.keys(e.credentials).map(t=>{var r,n,o;return(0,i.h)("div",{key:`input-group-${e.id}`},(0,i.h)("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`},null!==(r=e.credentials[t].label)&&void 0!==r?r:t),(0,i.h)("input",(0,s.default)({name:t,id:`input-${t}-for-${e.id}-provider`,type:null!==(n=e.credentials[t].type)&&void 0!==n?n:"text",placeholder:null!==(o=e.credentials[t].placeholder)&&void 0!==o?o:""},e.credentials[t])))}),(0,i.h)("button",{type:"submit"},"Sign in with ",e.name)),("email"===e.type||"credentials"===e.type)&&t+1<u.length&&(0,i.h)("hr",null))})))}},80029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=r(81706);function i(e){let{url:t,csrfToken:r,theme:i}=e;return(0,n.h)("div",{className:"signout"},i.brandColor&&(0,n.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${i.brandColor}
        }
      `}}),i.buttonText&&(0,n.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),(0,n.h)("div",{className:"card"},i.logo&&(0,n.h)("img",{src:i.logo,alt:"Logo",className:"logo"}),(0,n.h)("h1",null,"Signout"),(0,n.h)("p",null,"Are you sure you want to sign out?"),(0,n.h)("form",{action:`${t}/signout`,method:"POST"},(0,n.h)("input",{type:"hidden",name:"csrfToken",value:r}),(0,n.h)("button",{id:"submitButton",type:"submit"},"Sign out"))))}},31361:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=r(81706);function i(e){let{url:t,theme:r}=e;return(0,n.h)("div",{className:"verify-request"},r.brandColor&&(0,n.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),(0,n.h)("div",{className:"card"},r.logo&&(0,n.h)("img",{src:r.logo,alt:"Logo",className:"logo"}),(0,n.h)("h1",null,"Check your email"),(0,n.h)("p",null,"A sign in link has been sent to your email address."),(0,n.h)("p",null,(0,n.h)("a",{className:"site",href:t.origin},t.host))))}},16515:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),t.default=A;var i=n(r(59082)),s=n(r(23244)),o=r(135),a=n(r(4552));async function A(e){var t,r,n,A,l,c;let{options:u,query:h,body:d,method:g,headers:f,sessionStore:p}=e,{provider:E,adapter:m,url:C,callbackUrl:y,pages:I,jwt:B,events:Q,callbacks:v,session:{strategy:w,maxAge:b},logger:S}=u,k=[],R="jwt"===w;if("oauth"===E.type)try{let{profile:n,account:o,OAuthProfile:a,cookies:A}=await (0,i.default)({query:h,body:d,method:g,options:u,cookies:e.cookies});A.length&&k.push(...A);try{if(S.debug("OAUTH_CALLBACK_RESPONSE",{profile:n,account:o,OAuthProfile:a}),!n||!o||!a)return{redirect:`${C}/signin`,cookies:k};let e=n;if(m){let{getUserByAccount:t}=m,r=await t({providerAccountId:o.providerAccountId,provider:E.id});r&&(e=r)}try{let t=await v.signIn({user:e,account:o,profile:a});if(!t)return{redirect:`${C}/error?error=AccessDenied`,cookies:k};if("string"==typeof t)return{redirect:t,cookies:k}}catch(e){return{redirect:`${C}/error?error=${encodeURIComponent(e.message)}`,cookies:k}}let{user:i,session:A,isNewUser:l}=await (0,s.default)({sessionToken:p.value,profile:n,account:o,options:u});if(R){let e={name:i.name,email:i.email,picture:i.image,sub:null===(r=i.id)||void 0===r?void 0:r.toString()},t=await v.jwt({token:e,user:i,account:o,profile:a,isNewUser:l,trigger:l?"signUp":"signIn"}),n=await B.encode({...B,token:t}),s=new Date;s.setTime(s.getTime()+1e3*b);let A=p.chunk(n,{expires:s});k.push(...A)}else k.push({name:u.cookies.sessionToken.name,value:A.sessionToken,options:{...u.cookies.sessionToken.options,expires:A.expires}});if(await (null===(t=Q.signIn)||void 0===t?void 0:t.call(Q,{user:i,account:o,profile:n,isNewUser:l})),l&&I.newUser)return{redirect:`${I.newUser}${I.newUser.includes("?")?"&":"?"}callbackUrl=${encodeURIComponent(y)}`,cookies:k};return{redirect:y,cookies:k}}catch(e){if("AccountNotLinkedError"===e.name)return{redirect:`${C}/error?error=OAuthAccountNotLinked`,cookies:k};if("CreateUserError"===e.name)return{redirect:`${C}/error?error=OAuthCreateAccount`,cookies:k};return S.error("OAUTH_CALLBACK_HANDLER_ERROR",e),{redirect:`${C}/error?error=Callback`,cookies:k}}}catch(e){if("OAuthCallbackError"===e.name)return S.error("OAUTH_CALLBACK_ERROR",{error:e,providerId:E.id}),{redirect:`${C}/error?error=OAuthCallback`,cookies:k};return S.error("OAUTH_CALLBACK_ERROR",e),{redirect:`${C}/error?error=Callback`,cookies:k}}else if("email"===E.type)try{let e=null==h?void 0:h.token,t=null==h?void 0:h.email;if(!e||!t)return{redirect:`${C}/error?error=configuration`,cookies:k};let r=await m.useVerificationToken({identifier:t,token:(0,o.hashToken)(e,u)});if(!r||r.expires.valueOf()<Date.now())return{redirect:`${C}/error?error=Verification`,cookies:k};let i=await (0,a.default)({email:t,adapter:m}),l={providerAccountId:i.email,type:"email",provider:E.id};try{let e=await v.signIn({user:i,account:l});if(!e)return{redirect:`${C}/error?error=AccessDenied`,cookies:k};if("string"==typeof e)return{redirect:e,cookies:k}}catch(e){return{redirect:`${C}/error?error=${encodeURIComponent(e.message)}`,cookies:k}}let{user:c,session:d,isNewUser:g}=await (0,s.default)({sessionToken:p.value,profile:i,account:l,options:u});if(R){let e={name:c.name,email:c.email,picture:c.image,sub:null===(A=c.id)||void 0===A?void 0:A.toString()},t=await v.jwt({token:e,user:c,account:l,isNewUser:g,trigger:g?"signUp":"signIn"}),r=await B.encode({...B,token:t}),n=new Date;n.setTime(n.getTime()+1e3*b);let i=p.chunk(r,{expires:n});k.push(...i)}else k.push({name:u.cookies.sessionToken.name,value:d.sessionToken,options:{...u.cookies.sessionToken.options,expires:d.expires}});if(await (null===(n=Q.signIn)||void 0===n?void 0:n.call(Q,{user:c,account:l,isNewUser:g})),g&&I.newUser)return{redirect:`${I.newUser}${I.newUser.includes("?")?"&":"?"}callbackUrl=${encodeURIComponent(y)}`,cookies:k};return{redirect:y,cookies:k}}catch(e){if("CreateUserError"===e.name)return{redirect:`${C}/error?error=EmailCreateAccount`,cookies:k};return S.error("CALLBACK_EMAIL_ERROR",e),{redirect:`${C}/error?error=Callback`,cookies:k}}else if("credentials"===E.type&&"POST"===g){let e;let t=d;try{if(!(e=await E.authorize(t,{query:h,body:d,headers:f,method:g})))return{status:401,redirect:`${C}/error?${new URLSearchParams({error:"CredentialsSignin",provider:E.id})}`,cookies:k}}catch(e){return{status:401,redirect:`${C}/error?error=${encodeURIComponent(e.message)}`,cookies:k}}let r={providerAccountId:e.id,type:"credentials",provider:E.id};try{let n=await v.signIn({user:e,account:r,credentials:t});if(!n)return{status:403,redirect:`${C}/error?error=AccessDenied`,cookies:k};if("string"==typeof n)return{redirect:n,cookies:k}}catch(e){return{redirect:`${C}/error?error=${encodeURIComponent(e.message)}`,cookies:k}}let n={name:e.name,email:e.email,picture:e.image,sub:null===(l=e.id)||void 0===l?void 0:l.toString()},i=await v.jwt({token:n,user:e,account:r,isNewUser:!1,trigger:"signIn"}),s=await B.encode({...B,token:i}),o=new Date;o.setTime(o.getTime()+1e3*b);let a=p.chunk(s,{expires:o});return k.push(...a),await (null===(c=Q.signIn)||void 0===c?void 0:c.call(Q,{user:e,account:r})),{redirect:y,cookies:k}}return{status:500,body:`Error: Callback for provider type ${E.type} not supported`,cookies:k}}},19254:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"callback",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"providers",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"session",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"signin",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"signout",{enumerable:!0,get:function(){return o.default}});var i=n(r(16515)),s=n(r(26411)),o=n(r(64025)),a=n(r(90042)),A=n(r(82769))},82769:(e,t)=>{"use strict";function r(e){return{headers:[{key:"Content-Type",value:"application/json"}],body:e.reduce((e,{id:t,name:r,type:n,signinUrl:i,callbackUrl:s})=>(e[t]={id:t,name:r,type:n,signinUrl:i,callbackUrl:s},e),{})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},90042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=r(135);async function i(e){var t,r,i,s,o,a;let{options:A,sessionStore:l,newSession:c,isUpdate:u}=e,{adapter:h,jwt:d,events:g,callbacks:f,logger:p,session:{strategy:E,maxAge:m}}=A,C={body:{},headers:[{key:"Content-Type",value:"application/json"}],cookies:[]},y=l.value;if(!y)return C;if("jwt"===E)try{let e=await d.decode({...d,token:y});if(!e)throw Error("JWT invalid");let i=await f.jwt({token:e,...u&&{trigger:"update"},session:c}),s=(0,n.fromDate)(m),o=await f.session({session:{user:{name:null==e?void 0:e.name,email:null==e?void 0:e.email,image:null==e?void 0:e.picture},expires:s.toISOString()},token:i});C.body=o;let a=await d.encode({...d,token:i,maxAge:A.session.maxAge}),h=l.chunk(a,{expires:s});null===(t=C.cookies)||void 0===t||t.push(...h),await (null===(r=g.session)||void 0===r?void 0:r.call(g,{session:o,token:i}))}catch(e){p.error("JWT_SESSION_ERROR",e),null===(i=C.cookies)||void 0===i||i.push(...l.clean())}else try{let{getSessionAndUser:e,deleteSession:t,updateSession:r}=h,i=await e(y);if(i&&i.session.expires.valueOf()<Date.now()&&(await t(y),i=null),i){let{user:e,session:t}=i,a=A.session.updateAge,l=t.expires.valueOf()-1e3*m+1e3*a,h=(0,n.fromDate)(m);l<=Date.now()&&await r({sessionToken:y,expires:h});let d=await f.session({session:{user:{name:e.name,email:e.email,image:e.image},expires:t.expires.toISOString()},user:e,newSession:c,...u?{trigger:"update"}:{}});C.body=d,null===(s=C.cookies)||void 0===s||s.push({name:A.cookies.sessionToken.name,value:y,options:{...A.cookies.sessionToken.options,expires:h}}),await (null===(o=g.session)||void 0===o?void 0:o.call(g,{session:d}))}else y&&(null===(a=C.cookies)||void 0===a||a.push(...l.clean()))}catch(e){p.error("SESSION_ERROR",e)}return C}},26411:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(r(45657)),s=n(r(90065)),o=n(r(4552));async function a(e){let{options:t,query:r,body:n}=e,{url:a,callbacks:A,logger:l,provider:c}=t;if(!c.type)return{status:500,text:`Error: Type not specified for ${c.name}`};if("oauth"===c.type)try{return await (0,i.default)({options:t,query:r})}catch(e){return l.error("SIGNIN_OAUTH_ERROR",{error:e,providerId:c.id}),{redirect:`${a}/error?error=OAuthSignin`}}else if("email"===c.type){var u;let e=null==n?void 0:n.email;if(!e)return{redirect:`${a}/error?error=EmailSignin`};let r=null!==(u=c.normalizeIdentifier)&&void 0!==u?u:e=>{let[t,r]=e.toLowerCase().trim().split("@");return r=r.split(",")[0],`${t}@${r}`};try{e=r(null==n?void 0:n.email)}catch(e){return l.error("SIGNIN_EMAIL_ERROR",{error:e,providerId:c.id}),{redirect:`${a}/error?error=EmailSignin`}}let i=await (0,o.default)({email:e,adapter:t.adapter}),h={providerAccountId:e,userId:e,type:"email",provider:c.id};try{let e=await A.signIn({user:i,account:h,email:{verificationRequest:!0}});if(!e)return{redirect:`${a}/error?error=AccessDenied`};if("string"==typeof e)return{redirect:e}}catch(e){return{redirect:`${a}/error?${new URLSearchParams({error:e})}`}}try{return{redirect:await (0,s.default)(e,t)}}catch(e){return l.error("SIGNIN_EMAIL_ERROR",{error:e,providerId:c.id}),{redirect:`${a}/error?error=EmailSignin`}}}return{redirect:`${a}/signin`}}},64025:(e,t)=>{"use strict";async function r(e){var t,r;let{options:n,sessionStore:i}=e,{adapter:s,events:o,jwt:a,callbackUrl:A,logger:l,session:c}=n,u=null==i?void 0:i.value;if(!u)return{redirect:A};if("jwt"===c.strategy)try{let e=await a.decode({...a,token:u});await (null===(t=o.signOut)||void 0===t?void 0:t.call(o,{token:e}))}catch(e){l.error("SIGNOUT_ERROR",e)}else try{let e=await s.deleteSession(u);await (null===(r=o.signOut)||void 0===r?void 0:r.call(o,{session:e}))}catch(e){l.error("SIGNOUT_ERROR",e)}return{redirect:A,cookies:i.clean()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},77381:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},22581:e=>{"use strict";e.exports=function(){return':root{--border-width:1px;--border-radius:0.5rem;--color-error:#c94b4b;--color-info:#157efb;--color-info-hover:#0f6ddb;--color-info-text:#fff}.__next-auth-theme-auto,.__next-auth-theme-light{--color-background:#ececec;--color-background-hover:hsla(0,0%,93%,.8);--color-background-card:#fff;--color-text:#000;--color-primary:#444;--color-control-border:#bbb;--color-button-active-background:#f9f9f9;--color-button-active-border:#aaa;--color-separator:#ccc}.__next-auth-theme-dark{--color-background:#161b22;--color-background-hover:rgba(22,27,34,.8);--color-background-card:#0d1117;--color-text:#fff;--color-primary:#ccc;--color-control-border:#555;--color-button-active-background:#060606;--color-button-active-border:#666;--color-separator:#444}@media (prefers-color-scheme:dark){.__next-auth-theme-auto{--color-background:#161b22;--color-background-hover:rgba(22,27,34,.8);--color-background-card:#0d1117;--color-text:#fff;--color-primary:#ccc;--color-control-border:#555;--color-button-active-background:#060606;--color-button-active-border:#666;--color-separator:#444}a.button,button{background-color:var(--provider-dark-bg,var(--color-background));color:var(--provider-dark-color,var(--color-primary))}a.button:hover,button:hover{background-color:var(--provider-dark-bg-hover,var(--color-background-hover))!important}#provider-logo{display:none!important}#provider-logo-dark{display:block!important;width:25px}}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit;margin:0;padding:0}body{background-color:var(--color-background);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;margin:0;padding:0}h1{font-weight:400}h1,p{color:var(--color-text);margin-bottom:1.5rem;padding:0 1rem}form{margin:0;padding:0}label{font-weight:500;margin-bottom:.25rem;text-align:left}input[type],label{color:var(--color-text);display:block}input[type]{background:var(--color-background-card);border:var(--border-width) solid var(--color-control-border);border-radius:var(--border-radius);box-sizing:border-box;font-size:1rem;padding:.5rem 1rem;width:100%}input[type]:focus{box-shadow:none}p{font-size:1.1rem;line-height:2rem}a.button{line-height:1rem;text-decoration:none}a.button:link,a.button:visited{background-color:var(--color-background);color:var(--color-primary)}button span{flex-grow:1}a.button,button{align-items:center;background-color:var(--provider-bg);border-color:rgba(0,0,0,.1);border-radius:var(--border-radius);color:var(--provider-color,var(--color-primary));display:flex;font-size:1.1rem;font-weight:500;justify-content:center;min-height:62px;padding:.75rem 1rem;position:relative;transition:all .1s ease-in-out}a.button:hover,button:hover{background-color:var(--provider-bg-hover,var(--color-background-hover));cursor:pointer}a.button:active,button:active{cursor:pointer}a.button #provider-logo,button #provider-logo{display:block;width:25px}a.button #provider-logo-dark,button #provider-logo-dark{display:none}#submitButton{background-color:var(--brand-color,var(--color-info));color:var(--button-text-color,var(--color-info-text));width:100%}#submitButton:hover{background-color:var(--button-hover-bg,var(--color-info-hover))!important}a.site{color:var(--color-primary);font-size:1rem;line-height:2rem;text-decoration:none}a.site:hover{text-decoration:underline}.page{box-sizing:border-box;display:grid;height:100%;margin:0;padding:0;place-items:center;position:absolute;width:100%}.page>div{text-align:center}.error a.button{margin-top:.5rem;padding-left:2rem;padding-right:2rem}.error .message{margin-bottom:1.5rem}.signin input[type=text]{display:block;margin-left:auto;margin-right:auto}.signin hr{border:0;border-top:1px solid var(--color-separator);display:block;margin:2rem auto 1rem;overflow:visible}.signin hr:before{background:var(--color-background-card);color:#888;content:"or";padding:0 .4rem;position:relative;top:-.7rem}.signin .error{background:#f5f5f5;background:var(--color-error);border-radius:.3rem;font-weight:500}.signin .error p{color:var(--color-info-text);font-size:.9rem;line-height:1.2rem;padding:.5rem 1rem;text-align:left}.signin form,.signin>div{display:block}.signin form input[type],.signin>div input[type]{margin-bottom:.5rem}.signin form button,.signin>div button{width:100%}.signin .provider+.provider{margin-top:1rem}.logo{display:inline-block;margin:1.25rem 0;max-height:70px;max-width:150px}.card{background-color:var(--color-background-card);border-radius:2rem;padding:1.25rem 2rem}.card .header{color:var(--color-primary)}.section-header{color:var(--color-text)}@media screen and (min-width:450px){.card{margin:2rem 0;width:368px}}@media screen and (max-width:450px){.card{margin:1rem 0;width:343px}}'}},81355:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s.default}});var i=r(77381);Object.keys(i).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var s=a(r(49605));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}Object.keys(s).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))})},36929:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0});var i={encode:!0,decode:!0,getToken:!0};t.decode=d,t.encode=h,t.getToken=g;var s=r(80816),o=n(r(81128)),a=r(31593),A=r(44939),l=r(80619);Object.keys(l).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e))&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))});let c=2592e3,u=()=>Date.now()/1e3|0;async function h(e){let{token:t={},secret:r,maxAge:n=c,salt:i=""}=e,o=await f(r,i);return await new s.EncryptJWT(t).setProtectedHeader({alg:"dir",enc:"A256GCM"}).setIssuedAt().setExpirationTime(u()+n).setJti((0,a.v4)()).encrypt(o)}async function d(e){let{token:t,secret:r,salt:n=""}=e;if(!t)return null;let i=await f(r,n),{payload:o}=await (0,s.jwtDecrypt)(t,i,{clockTolerance:15});return o}async function g(e){var t,r,n;let{req:i,secureCookie:s=null!==(t=null===(r=process.env.NEXTAUTH_URL)||void 0===r?void 0:r.startsWith("https://"))&&void 0!==t?t:!!process.env.VERCEL,cookieName:o=s?"__Secure-next-auth.session-token":"next-auth.session-token",raw:a,decode:l=d,logger:c=console,secret:u=process.env.NEXTAUTH_SECRET}=e;if(!i)throw Error("Must pass `req` to JWT getToken()");let h=new A.SessionStore({name:o,options:{secure:s}},{cookies:i.cookies,headers:i.headers},c).value,g=i.headers instanceof Headers?i.headers.get("authorization"):null===(n=i.headers)||void 0===n?void 0:n.authorization;if(h||(null==g?void 0:g.split(" ")[0])!=="Bearer"||(h=decodeURIComponent(g.split(" ")[1])),!h)return null;if(a)return h;try{return await l({token:h,secret:u})}catch(e){return null}}async function f(e,t){return await (0,o.default)("sha256",e,t,`NextAuth.js Generated Encryption Key${t?` (${t})`:""}`,32)}},80619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},49605:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getServerSession=A,t.unstable_getServerSession=l;var n=r(68638),i=r(36231);async function s(e,t,r){var s,o,a,A,l,c,u,h;let{nextauth:d,...g}=e.query;null!==(s=r.secret)&&void 0!==s||(r.secret=null!==(o=null===(a=r.jwt)||void 0===a?void 0:a.secret)&&void 0!==o?o:process.env.NEXTAUTH_SECRET);let f=await (0,n.AuthHandler)({req:{body:e.body,query:g,cookies:e.cookies,headers:e.headers,method:e.method,action:null==d?void 0:d[0],providerId:null==d?void 0:d[1],error:null!==(A=e.query.error)&&void 0!==A?A:null==d?void 0:d[1]},options:r});if(t.status(null!==(l=f.status)&&void 0!==l?l:200),null===(c=f.cookies)||void 0===c||c.forEach(e=>(0,i.setCookie)(t,e)),null===(u=f.headers)||void 0===u||u.forEach(e=>t.setHeader(e.key,e.value)),f.redirect){if((null===(h=e.body)||void 0===h?void 0:h.json)!=="true"){t.status(302).setHeader("Location",f.redirect),t.end();return}return t.json({url:f.redirect})}return t.send(f.body)}async function o(e,t,s){var o,a,A;null!==(o=s.secret)&&void 0!==o||(s.secret=process.env.NEXTAUTH_SECRET);let{headers:l,cookies:c}=r(7439),u=null===(a=t.params)||void 0===a?void 0:a.nextauth,h=Object.fromEntries(e.nextUrl.searchParams),d=await (0,i.getBody)(e),g=await (0,n.AuthHandler)({req:{body:d,query:h,cookies:Object.fromEntries(c().getAll().map(e=>[e.name,e.value])),headers:Object.fromEntries(l()),method:e.method,action:null==u?void 0:u[0],providerId:null==u?void 0:u[1],error:null!==(A=h.error)&&void 0!==A?A:null==u?void 0:u[1]},options:s}),f=(0,i.toResponse)(g),p=f.headers.get("Location");return(null==d?void 0:d.json)==="true"&&p?(f.headers.delete("Location"),f.headers.set("Content-Type","application/json"),new Response(JSON.stringify({url:p}),{status:g.status,headers:f.headers})):f}var a=function(...e){var t;return 1===e.length?async(t,r)=>null!=r&&r.params?await o(t,r,e[0]):await s(t,r,e[0]):null!==(t=e[1])&&void 0!==t&&t.params?o(...e):s(...e)};async function A(...e){var t,s;let o,a,l;let c=0===e.length||1===e.length;if(c){l=Object.assign({},e[0],{providers:[]});let{headers:t,cookies:n}=r(7439);o={headers:Object.fromEntries(t()),cookies:Object.fromEntries(n().getAll().map(e=>[e.name,e.value]))},a={getHeader(){},setCookie(){},setHeader(){}}}else o=e[0],a=e[1],l=Object.assign({},e[2],{providers:[]});null!==(s=(t=l).secret)&&void 0!==s||(t.secret=process.env.NEXTAUTH_SECRET);let{body:u,cookies:h,status:d=200}=await (0,n.AuthHandler)({options:l,req:{action:"session",method:"GET",cookies:o.cookies,headers:o.headers}});if(null==h||h.forEach(e=>(0,i.setCookie)(a,e)),u&&"string"!=typeof u&&Object.keys(u).length){if(200===d)return c&&delete u.expires,u;throw Error(u.message)}return null}async function l(...e){return await A(...e)}t.default=a},36231:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBody=s,t.setCookie=i,t.toResponse=o;var n=r(83191);function i(e,t){var r;let i=null!==(r=e.getHeader("Set-Cookie"))&&void 0!==r?r:[];Array.isArray(i)||(i=[i]);let{name:s,value:o,options:a}=t,A=(0,n.serialize)(s,o,a);i.push(A),e.setHeader("Set-Cookie",i)}async function s(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return null!=t&&t.includes("application/json")?await e.json():null!=t&&t.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}function o(e){var t,r,i;let s=new Headers(null===(t=e.headers)||void 0===t?void 0:t.reduce((e,{key:t,value:r})=>(e[t]=r,e),{}));null===(r=e.cookies)||void 0===r||r.forEach(e=>{let{name:t,value:r,options:i}=e,o=(0,n.serialize)(t,r,i);s.has("Set-Cookie")?s.append("Set-Cookie",o):s.set("Set-Cookie",o)});let o=e.body;"application/json"===s.get("content-type")?o=JSON.stringify(e.body):"application/x-www-form-urlencoded"===s.get("content-type")&&(o=new URLSearchParams(e.body).toString());let a=e.redirect?302:null!==(i=e.status)&&void 0!==i?i:200,A=new Response(o,{headers:s,status:a});return e.redirect&&A.headers.set("Location",e.redirect),A}},31593:(e,t,r)=>{"use strict";let n,i;r.r(t),r.d(t,{NIL:()=>w,parse:()=>E,stringify:()=>d,v1:()=>p,v3:()=>B,v4:()=>Q,v5:()=>v,validate:()=>u,version:()=>b});var s=r(6113),o=r.n(s);let a=new Uint8Array(256),A=a.length;function l(){return A>a.length-16&&(o().randomFillSync(a),A=0),a.slice(A,A+=16)}let c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,u=function(e){return"string"==typeof e&&c.test(e)},h=[];for(let e=0;e<256;++e)h.push((e+256).toString(16).substr(1));let d=function(e,t=0){let r=(h[e[t+0]]+h[e[t+1]]+h[e[t+2]]+h[e[t+3]]+"-"+h[e[t+4]]+h[e[t+5]]+"-"+h[e[t+6]]+h[e[t+7]]+"-"+h[e[t+8]]+h[e[t+9]]+"-"+h[e[t+10]]+h[e[t+11]]+h[e[t+12]]+h[e[t+13]]+h[e[t+14]]+h[e[t+15]]).toLowerCase();if(!u(r))throw TypeError("Stringified UUID is invalid");return r},g=0,f=0,p=function(e,t,r){let s=t&&r||0,o=t||Array(16),a=(e=e||{}).node||n,A=void 0!==e.clockseq?e.clockseq:i;if(null==a||null==A){let t=e.random||(e.rng||l)();null==a&&(a=n=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==A&&(A=i=(t[6]<<8|t[7])&16383)}let c=void 0!==e.msecs?e.msecs:Date.now(),u=void 0!==e.nsecs?e.nsecs:f+1,h=c-g+(u-f)/1e4;if(h<0&&void 0===e.clockseq&&(A=A+1&16383),(h<0||c>g)&&void 0===e.nsecs&&(u=0),u>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");g=c,f=u,i=A;let p=((268435455&(c+=122192928e5))*1e4+u)%4294967296;o[s++]=p>>>24&255,o[s++]=p>>>16&255,o[s++]=p>>>8&255,o[s++]=255&p;let E=c/4294967296*1e4&268435455;o[s++]=E>>>8&255,o[s++]=255&E,o[s++]=E>>>24&15|16,o[s++]=E>>>16&255,o[s++]=A>>>8|128,o[s++]=255&A;for(let e=0;e<6;++e)o[s+e]=a[e];return t||d(o)},E=function(e){let t;if(!u(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function m(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}let C="6ba7b810-9dad-11d1-80b4-00c04fd430c8",y="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function I(e,t,r){function n(e,n,i,s){if("string"==typeof e&&(e=m(e)),"string"==typeof n&&(n=E(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let o=new Uint8Array(16+e.length);if(o.set(n),o.set(e,n.length),(o=r(o))[6]=15&o[6]|t,o[8]=63&o[8]|128,i){s=s||0;for(let e=0;e<16;++e)i[s+e]=o[e];return i}return d(o)}try{n.name=e}catch(e){}return n.DNS=C,n.URL=y,n}let B=I("v3",48,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o().createHash("md5").update(e).digest()}),Q=function(e,t,r){let n=(e=e||{}).random||(e.rng||l)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return d(n)},v=I("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o().createHash("sha1").update(e).digest()}),w="00000000-0000-0000-0000-000000000000",b=function(e){if(!u(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},69568:(e,t)=>{"use strict";var r;function n(e){return{id:"linkedin",name:"LinkedIn",type:"oauth",authorization:{url:"https://www.linkedin.com/oauth/v2/authorization",params:{scope:"r_liteprofile r_emailaddress"}},token:"https://www.linkedin.com/oauth/v2/accessToken",client:{token_endpoint_auth_method:"client_secret_post"},userinfo:{url:"https://api.linkedin.com/v2/me",params:{projection:"(id,localizedFirstName,localizedLastName,profilePicture(displayImage~digitalmediaAsset:playableStreams))"}},async profile(e,t){var r,n,i,s,o,a,A,l,c;let u=await fetch("https://api.linkedin.com/v2/emailAddress?q=members&projection=(elements*(handle~))",{headers:{Authorization:`Bearer ${t.access_token}`}}),h=await u.json();return{id:e.id,name:`${e.localizedFirstName} ${e.localizedLastName}`,email:null==h?void 0:null===(r=h.elements)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:null===(i=n["handle~"])||void 0===i?void 0:i.emailAddress,image:null===(s=e.profilePicture)||void 0===s?void 0:null===(o=s["displayImage~"])||void 0===o?void 0:null===(a=o.elements)||void 0===a?void 0:null===(A=a[0])||void 0===A?void 0:null===(l=A.identifiers)||void 0===l?void 0:null===(c=l[0])||void 0===c?void 0:c.identifier}},style:{logo:"/linkedin.svg",bg:"#069",text:"#fff"},options:e}}r={value:!0},t.Z=n},61530:(e,t)=>{"use strict";function r(e,t){var r;return(null!==(r=process.env.VERCEL)&&void 0!==r?r:process.env.AUTH_TRUST_HOST)?`${"http"===t?"http":"https"}://${e}`:process.env.NEXTAUTH_URL}Object.defineProperty(t,"__esModule",{value:!0}),t.detectOrigin=r},52370:(e,t,r)=>{"use strict";var n=r(12272);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.proxyLogger=c,t.setLogger=A,n(r(74300));var i=r(26100);function s(e){if(e instanceof Error&&!(e instanceof i.UnknownError))return{message:e.message,stack:e.stack,name:e.name};if(o(e)){var t;e.error=s(e.error),e.message=null!==(t=e.message)&&void 0!==t?t:e.error.message}return e}function o(e){return!!(null!=e&&e.error)}var a={error:function(e,t){t=s(t),console.error("[next-auth][error][".concat(e,"]"),"\nhttps://next-auth.js.org/errors#".concat(e.toLowerCase()),t.message,t)},warn:function(e){console.warn("[next-auth][warn][".concat(e,"]"),"\nhttps://next-auth.js.org/warnings#".concat(e.toLowerCase()))},debug:function(e,t){console.log("[next-auth][debug][".concat(e,"]"),t)}};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;t||(a.debug=function(){}),e.error&&(a.error=e.error),e.warn&&(a.warn=e.warn),e.debug&&(a.debug=e.debug)}var l=a;function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;arguments.length>1&&arguments[1];try{return e}catch(e){return a}}t.default=l},53747:(e,t)=>{"use strict";function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}function n(e,...t){if(!t.length)return e;let i=t.shift();if(r(e)&&r(i))for(let t in i)r(i[t])?(e[t]||Object.assign(e,{[t]:{}}),n(e[t],i[t])):Object.assign(e,{[t]:i[t]});return n(e,...t)}Object.defineProperty(t,"__esModule",{value:!0}),t.merge=n},37027:(e,t)=>{"use strict";function r(e){var t;let r=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e=`https://${e}`);let n=new URL(null!==(t=e)&&void 0!==t?t:r),i=("/"===n.pathname?r.pathname:n.pathname).replace(/\/$/,""),s=`${n.origin}${i}`;return{origin:n.origin,host:n.host,path:i,base:s,toString:()=>s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},7439:(e,t,r)=>{"use strict";r.r(t);var n=r(28290),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},58284:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraftMode",{enumerable:!0,get:function(){return i}});let n=r(72973);class i{get isEnabled(){return this._provider.isEnabled}enable(){if(!(0,n.staticGenerationBailout)("draftMode().enable()"))return this._provider.enable()}disable(){if(!(0,n.staticGenerationBailout)("draftMode().disable()"))return this._provider.disable()}constructor(e){this._provider=e}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},28290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{headers:function(){return c},cookies:function(){return u},draftMode:function(){return h}});let n=r(97366),i=r(3022),s=r(63608),o=r(54580),a=r(72934),A=r(72973),l=r(58284);function c(){if((0,A.staticGenerationBailout)("headers",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return i.HeadersAdapter.seal(new Headers({}));let e=o.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: headers() expects to have requestAsyncStorage, none available.");return e.headers}function u(){if((0,A.staticGenerationBailout)("cookies",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return n.RequestCookiesAdapter.seal(new s.RequestCookies(new Headers({})));let e=o.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: cookies() expects to have requestAsyncStorage, none available.");let t=a.actionAsyncStorage.getStore();return t&&(t.isAction||t.isAppRoute)?e.mutableCookies:e.cookies}function h(){let e=o.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: draftMode() expects to have requestAsyncStorage, none available.");return new l.DraftMode(e.draftMode)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},48096:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DynamicServerError:function(){return n},isDynamicServerError:function(){return i}});let r="DYNAMIC_SERVER_USAGE";class n extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},72973:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isStaticGenBailoutError:function(){return a},staticGenerationBailout:function(){return l}});let n=r(48096),i=r(45869),s="NEXT_STATIC_GEN_BAILOUT";class o extends Error{constructor(...e){super(...e),this.code=s}}function a(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===s}function A(e,t){let{dynamic:r,link:n}=t||{};return"Page"+(r?' with `dynamic = "'+r+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(n?" See more info here: "+n:"")}let l=(e,t)=>{let{dynamic:r,link:s}=void 0===t?{}:t,a=i.staticGenerationAsyncStorage.getStore();if(!a)return!1;if(a.forceStatic)return!0;if(a.dynamicShouldError)throw new o(A(e,{link:s,dynamic:null!=r?r:"error"}));let l=A(e,{dynamic:r,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(null==a.postpone||a.postpone.call(a,e),a.revalidate=0,a.isStaticGeneration){let t=new n.DynamicServerError(l);throw a.dynamicUsageDescription=e,a.dynamicUsageStack=t.stack,t}return!1};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},97347:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s=(e,s,o,a)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let A of n(s))i.call(e,A)||A===o||t(e,A,{get:()=>s[A],enumerable:!(a=r(s,A))||a.enumerable});return e},o=e=>s(t({},"__esModule",{value:!0}),e),a={};function A(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean);return`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}; ${r.join("; ")}`}function l(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function c(e){if(!e)return;let[[t,r],...n]=l(e),{domain:i,expires:s,httponly:o,maxage:a,path:A,samesite:c,secure:h,priority:g}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase(),t]));return u({name:t,value:decodeURIComponent(r),domain:i,...s&&{expires:new Date(s)},...o&&{httpOnly:!0},..."string"==typeof a&&{maxAge:Number(a)},path:A,...c&&{sameSite:d(c)},...h&&{secure:!0},...g&&{priority:f(g)}})}function u(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(a,{RequestCookies:()=>E,ResponseCookies:()=>m,parseCookie:()=>l,parseSetCookie:()=>c,stringifyCookie:()=>A}),e.exports=o(a);var h=["strict","lax","none"];function d(e){return e=e.toLowerCase(),h.includes(e)?e:void 0}var g=["low","medium","high"];function f(e){return e=e.toLowerCase(),g.includes(e)?e:void 0}function p(e){if(!e)return[];var t,r,n,i,s,o=[],a=0;function A(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}function l(){return"="!==(r=e.charAt(a))&&";"!==r&&","!==r}for(;a<e.length;){for(t=a,s=!1;A();)if(","===(r=e.charAt(a))){for(n=a,a+=1,A(),i=a;a<e.length&&l();)a+=1;a<e.length&&"="===e.charAt(a)?(s=!0,a=i,o.push(e.substring(t,n)),t=a):a=n+1}else a+=1;(!s||a>=e.length)&&o.push(e.substring(t,e.length))}return o}var E=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of l(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>A(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>A(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},m=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(let e of Array.isArray(i)?i:p(i)){let t=c(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,y({name:t,value:r,...n})),C(i,this._headers),this}delete(...e){let[t,r,n]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:n,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(A).join("; ")}};function C(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=A(r);t.append("set-cookie",e)}}function y(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}},95419:(e,t,r)=>{"use strict";e.exports=r(30517)},3022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyHeadersError:function(){return i},HeadersAdapter:function(){return s}});let n=r(6250);class i extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new i}}class s extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,i){if("symbol"==typeof r)return n.ReflectAdapter.get(t,r,i);let s=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===s);if(void 0!==o)return n.ReflectAdapter.get(t,o,i)},set(t,r,i,s){if("symbol"==typeof r)return n.ReflectAdapter.set(t,r,i,s);let o=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===o);return n.ReflectAdapter.set(t,a??r,i,s)},has(t,r){if("symbol"==typeof r)return n.ReflectAdapter.has(t,r);let i=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0!==s&&n.ReflectAdapter.has(t,s)},deleteProperty(t,r){if("symbol"==typeof r)return n.ReflectAdapter.deleteProperty(t,r);let i=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0===s||n.ReflectAdapter.deleteProperty(t,s)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return i.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new s(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},6250:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},97366:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyRequestCookiesError:function(){return s},RequestCookiesAdapter:function(){return o},getModifiedCookieValues:function(){return A},appendMutableCookies:function(){return l},MutableRequestCookiesAdapter:function(){return c}});let n=r(63608),i=r(6250);class s extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new s}}class o{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return s.callable;default:return i.ReflectAdapter.get(e,t,r)}}})}}let a=Symbol.for("next.mutated.cookies");function A(e){let t=e[a];return t&&Array.isArray(t)&&0!==t.length?t:[]}function l(e,t){let r=A(t);if(0===r.length)return!1;let i=new n.ResponseCookies(e),s=i.getAll();for(let e of r)i.set(e);for(let e of s)i.set(e);return!0}class c{static wrap(e,t){let r=new n.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let s=[],o=new Set,A=()=>{var e;let i=null==fetch.__nextGetStaticStore?void 0:null==(e=fetch.__nextGetStaticStore.call(fetch))?void 0:e.getStore();if(i&&(i.pathWasRevalidated=!0),s=r.getAll().filter(e=>o.has(e.name)),t){let e=[];for(let t of s){let r=new n.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}};return new Proxy(r,{get(e,t,r){switch(t){case a:return s;case"delete":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{e.delete(...t)}finally{A()}};case"set":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t)}finally{A()}};default:return i.ReflectAdapter.get(e,t,r)}}})}}},63608:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return n.RequestCookies},ResponseCookies:function(){return n.ResponseCookies}});let n=r(97347)},49086:(e,t,r)=>{t.OAuth=r(19927).OAuth,t.OAuthEcho=r(19927).OAuthEcho,t.OAuth2=r(68299).OAuth2},85485:e=>{"use strict";e.exports.isAnEarlyCloseHost=function(e){return e&&e.match(".*google(apis)?.com$")}},19927:(e,t,r)=>{var n=r(6113),i=r(24299),s=r(13685),o=r(95687),a=r(57310),A=r(63477),l=r(85485);t.OAuth=function(e,t,r,n,i,s,o,a,A){if(this._isEcho=!1,this._requestUrl=e,this._accessUrl=t,this._consumerKey=r,this._consumerSecret=this._encodeData(n),"RSA-SHA1"==o&&(this._privateKey=n),this._version=i,void 0===s?this._authorize_callback="oob":this._authorize_callback=s,"PLAINTEXT"!=o&&"HMAC-SHA1"!=o&&"RSA-SHA1"!=o)throw Error("Un-supported signature method: "+o);this._signatureMethod=o,this._nonceSize=a||32,this._headers=A||{Accept:"*/*",Connection:"close","User-Agent":"Node authentication"},this._clientOptions=this._defaultClientOptions={requestTokenHttpMethod:"POST",accessTokenHttpMethod:"POST",followRedirects:!0},this._oauthParameterSeperator=","},t.OAuthEcho=function(e,t,r,n,i,s,o,a){if(this._isEcho=!0,this._realm=e,this._verifyCredentials=t,this._consumerKey=r,this._consumerSecret=this._encodeData(n),"RSA-SHA1"==s&&(this._privateKey=n),this._version=i,"PLAINTEXT"!=s&&"HMAC-SHA1"!=s&&"RSA-SHA1"!=s)throw Error("Un-supported signature method: "+s);this._signatureMethod=s,this._nonceSize=o||32,this._headers=a||{Accept:"*/*",Connection:"close","User-Agent":"Node authentication"},this._oauthParameterSeperator=","},t.OAuthEcho.prototype=t.OAuth.prototype,t.OAuth.prototype._getTimestamp=function(){return Math.floor(new Date().getTime()/1e3)},t.OAuth.prototype._encodeData=function(e){return null==e||""==e?"":encodeURIComponent(e).replace(/\!/g,"%21").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},t.OAuth.prototype._decodeData=function(e){return null!=e&&(e=e.replace(/\+/g," ")),decodeURIComponent(e)},t.OAuth.prototype._getSignature=function(e,t,r,n){var i=this._createSignatureBase(e,t,r);return this._createSignature(i,n)},t.OAuth.prototype._normalizeUrl=function(e){var t=a.parse(e,!0),r="";return t.port&&("http:"==t.protocol&&"80"!=t.port||"https:"==t.protocol&&"443"!=t.port)&&(r=":"+t.port),t.pathname&&""!=t.pathname||(t.pathname="/"),t.protocol+"//"+t.hostname+r+t.pathname},t.OAuth.prototype._isParameterNameAnOAuthParameter=function(e){var t=e.match("^oauth_");return!!t&&"oauth_"===t[0]},t.OAuth.prototype._buildAuthorizationHeaders=function(e){var t="OAuth ";this._isEcho&&(t+='realm="'+this._realm+'",');for(var r=0;r<e.length;r++)this._isParameterNameAnOAuthParameter(e[r][0])&&(t+=""+this._encodeData(e[r][0])+'="'+this._encodeData(e[r][1])+'"'+this._oauthParameterSeperator);return t.substring(0,t.length-this._oauthParameterSeperator.length)},t.OAuth.prototype._makeArrayOfArgumentsHash=function(e){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)t[t.length]=[r,n[i]];else t[t.length]=[r,n]}return t},t.OAuth.prototype._sortRequestParams=function(e){return e.sort(function(e,t){return e[0]==t[0]?e[1]<t[1]?-1:1:e[0]<t[0]?-1:1}),e},t.OAuth.prototype._normaliseRequestParams=function(e){for(var t=this._makeArrayOfArgumentsHash(e),r=0;r<t.length;r++)t[r][0]=this._encodeData(t[r][0]),t[r][1]=this._encodeData(t[r][1]);t=this._sortRequestParams(t);for(var e="",r=0;r<t.length;r++)e+=t[r][0]+"="+t[r][1],r<t.length-1&&(e+="&");return e},t.OAuth.prototype._createSignatureBase=function(e,t,r){return t=this._encodeData(this._normalizeUrl(t)),r=this._encodeData(r),e.toUpperCase()+"&"+t+"&"+r},t.OAuth.prototype._createSignature=function(e,t){if(void 0===t)var t="";else t=this._encodeData(t);var r=this._consumerSecret+"&"+t,s="";return"PLAINTEXT"==this._signatureMethod?s=r:"RSA-SHA1"==this._signatureMethod?(r=this._privateKey||"",s=n.createSign("RSA-SHA1").update(e).sign(r,"base64")):s=n.Hmac?n.createHmac("sha1",r).update(e).digest("base64"):i.HMACSHA1(r,e),s},t.OAuth.prototype.NONCE_CHARS=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"],t.OAuth.prototype._getNonce=function(e){for(var t,r=[],n=this.NONCE_CHARS,i=n.length,s=0;s<e;s++)t=Math.floor(Math.random()*i),r[s]=n[t];return r.join("")},t.OAuth.prototype._createClient=function(e,t,r,n,i,a){var A,l={host:t,port:e,path:n,method:r,headers:i};return(A=a?o:s).request(l)},t.OAuth.prototype._prepareParameters=function(e,t,r,n,i){var s={oauth_timestamp:this._getTimestamp(),oauth_nonce:this._getNonce(this._nonceSize),oauth_version:this._version,oauth_signature_method:this._signatureMethod,oauth_consumer_key:this._consumerKey};if(e&&(s.oauth_token=e),this._isEcho)c=this._getSignature("GET",this._verifyCredentials,this._normaliseRequestParams(s),t);else{if(i)for(var o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);var l=a.parse(n,!1);if(l.query){var c,u,h=A.parse(l.query);for(var o in h){var d=h[o];if("object"==typeof d)for(u in d)s[o+"["+u+"]"]=d[u];else s[o]=d}}c=this._getSignature(r,n,this._normaliseRequestParams(s),t)}var g=this._sortRequestParams(this._makeArrayOfArgumentsHash(s));return g[g.length]=["oauth_signature",c],g},t.OAuth.prototype._performSecureRequest=function(e,t,r,n,i,s,o,c){var u,h,d=this._prepareParameters(e,t,r,n,i);o||(o="application/x-www-form-urlencoded");var g=a.parse(n,!1);"http:"!=g.protocol||g.port||(g.port=80),"https:"!=g.protocol||g.port||(g.port=443);var f={},p=this._buildAuthorizationHeaders(d);for(var E in this._isEcho?f["X-Verify-Credentials-Authorization"]=p:f.Authorization=p,f.Host=g.host,this._headers)this._headers.hasOwnProperty(E)&&(f[E]=this._headers[E]);for(var E in i)this._isParameterNameAnOAuthParameter(E)&&delete i[E];("POST"==r||"PUT"==r)&&null==s&&null!=i&&(s=A.stringify(i).replace(/\!/g,"%21").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")),s?Buffer.isBuffer(s)?f["Content-length"]=s.length:f["Content-length"]=Buffer.byteLength(s):f["Content-length"]=0,f["Content-Type"]=o,g.pathname&&""!=g.pathname||(g.pathname="/"),u=g.query?g.pathname+"?"+g.query:g.pathname,h="https:"==g.protocol?this._createClient(g.port,g.hostname,r,u,f,!0):this._createClient(g.port,g.hostname,r,u,f);var m=this._clientOptions;if(!c)return("POST"==r||"PUT"==r)&&null!=s&&""!=s&&h.write(s),h;var C="",y=this,I=l.isAnEarlyCloseHost(g.hostname),B=!1,Q=function(n){B||(B=!0,n.statusCode>=200&&n.statusCode<=299?c(null,C,n):(301==n.statusCode||302==n.statusCode)&&m.followRedirects&&n.headers&&n.headers.location?y._performSecureRequest(e,t,r,n.headers.location,i,s,o,c):c({statusCode:n.statusCode,data:C},C,n))};h.on("response",function(e){e.setEncoding("utf8"),e.on("data",function(e){C+=e}),e.on("end",function(){Q(e)}),e.on("close",function(){I&&Q(e)})}),h.on("error",function(e){B||(B=!0,c(e))}),("POST"==r||"PUT"==r)&&null!=s&&""!=s&&h.write(s),h.end()},t.OAuth.prototype.setClientOptions=function(e){var t,r={},n=Object.prototype.hasOwnProperty;for(t in this._defaultClientOptions)n.call(e,t)?r[t]=e[t]:r[t]=this._defaultClientOptions[t];this._clientOptions=r},t.OAuth.prototype.getOAuthAccessToken=function(e,t,r,n){var i={};"function"==typeof r?n=r:i.oauth_verifier=r,this._performSecureRequest(e,t,this._clientOptions.accessTokenHttpMethod,this._accessUrl,i,null,null,function(e,t,r){if(e)n(e);else{var i=A.parse(t),s=i.oauth_token;delete i.oauth_token;var o=i.oauth_token_secret;delete i.oauth_token_secret,n(null,s,o,i)}})},t.OAuth.prototype.getProtectedResource=function(e,t,r,n,i){this._performSecureRequest(r,n,t,e,null,"",null,i)},t.OAuth.prototype.delete=function(e,t,r,n){return this._performSecureRequest(t,r,"DELETE",e,null,"",null,n)},t.OAuth.prototype.get=function(e,t,r,n){return this._performSecureRequest(t,r,"GET",e,null,"",null,n)},t.OAuth.prototype._putOrPost=function(e,t,r,n,i,s,o){var a=null;return"function"==typeof s&&(o=s,s=null),"string"==typeof i||Buffer.isBuffer(i)||(s="application/x-www-form-urlencoded",a=i,i=null),this._performSecureRequest(r,n,e,t,a,i,s,o)},t.OAuth.prototype.put=function(e,t,r,n,i,s){return this._putOrPost("PUT",e,t,r,n,i,s)},t.OAuth.prototype.post=function(e,t,r,n,i,s){return this._putOrPost("POST",e,t,r,n,i,s)},t.OAuth.prototype.getOAuthRequestToken=function(e,t){"function"==typeof e&&(t=e,e={}),this._authorize_callback&&(e.oauth_callback=this._authorize_callback),this._performSecureRequest(null,null,this._clientOptions.requestTokenHttpMethod,this._requestUrl,e,null,null,function(e,r,n){if(e)t(e);else{var i=A.parse(r),s=i.oauth_token,o=i.oauth_token_secret;delete i.oauth_token,delete i.oauth_token_secret,t(null,s,o,i)}})},t.OAuth.prototype.signUrl=function(e,t,r,n){if(void 0===n)var n="GET";for(var i=this._prepareParameters(t,r,n,e,{}),s=a.parse(e,!1),o="",A=0;A<i.length;A++)o+=i[A][0]+"="+this._encodeData(i[A][1])+"&";return o=o.substring(0,o.length-1),s.protocol+"//"+s.host+s.pathname+"?"+o},t.OAuth.prototype.authHeader=function(e,t,r,n){if(void 0===n)var n="GET";var i=this._prepareParameters(t,r,n,e,{});return this._buildAuthorizationHeaders(i)}},68299:(e,t,r)=>{var n=r(63477),i=(r(6113),r(95687)),s=r(13685),o=r(57310),a=r(85485);t.OAuth2=function(e,t,r,n,i,s){this._clientId=e,this._clientSecret=t,this._baseSite=r,this._authorizeUrl=n||"/oauth/authorize",this._accessTokenUrl=i||"/oauth/access_token",this._accessTokenName="access_token",this._authMethod="Bearer",this._customHeaders=s||{},this._useAuthorizationHeaderForGET=!1,this._agent=void 0},t.OAuth2.prototype.setAgent=function(e){this._agent=e},t.OAuth2.prototype.setAccessTokenName=function(e){this._accessTokenName=e},t.OAuth2.prototype.setAuthMethod=function(e){this._authMethod=e},t.OAuth2.prototype.useAuthorizationHeaderforGET=function(e){this._useAuthorizationHeaderForGET=e},t.OAuth2.prototype._getAccessTokenUrl=function(){return this._baseSite+this._accessTokenUrl},t.OAuth2.prototype.buildAuthHeader=function(e){return this._authMethod+" "+e},t.OAuth2.prototype._chooseHttpLibrary=function(e){var t=i;return"https:"!=e.protocol&&(t=s),t},t.OAuth2.prototype._request=function(e,t,r,i,s,a){var A=o.parse(t,!0);"https:"!=A.protocol||A.port||(A.port=443);var l=this._chooseHttpLibrary(A),c={};for(var u in this._customHeaders)c[u]=this._customHeaders[u];if(r)for(var u in r)c[u]=r[u];c.Host=A.host,c["User-Agent"]||(c["User-Agent"]="Node-oauth"),i?Buffer.isBuffer(i)?c["Content-Length"]=i.length:c["Content-Length"]=Buffer.byteLength(i):c["Content-length"]=0,!s||"Authorization"in c||(A.query||(A.query={}),A.query[this._accessTokenName]=s);var h=n.stringify(A.query);h&&(h="?"+h);var d={host:A.hostname,port:A.port,path:A.pathname+h,method:e,headers:c};this._executeRequest(l,d,i,a)},t.OAuth2.prototype._executeRequest=function(e,t,r,n){var i=a.isAnEarlyCloseHost(t.host),s=!1;function o(e,t){s||(s=!0,e.statusCode>=200&&e.statusCode<=299||301==e.statusCode||302==e.statusCode?n(null,t,e):n({statusCode:e.statusCode,data:t}))}var A="";this._agent&&(t.agent=this._agent);var l=e.request(t);l.on("response",function(e){e.on("data",function(e){A+=e}),e.on("close",function(t){i&&o(e,A)}),e.addListener("end",function(){o(e,A)})}),l.on("error",function(e){s=!0,n(e)}),("POST"==t.method||"PUT"==t.method)&&r&&l.write(r),l.end()},t.OAuth2.prototype.getAuthorizeUrl=function(e){var e=e||{};return e.client_id=this._clientId,this._baseSite+this._authorizeUrl+"?"+n.stringify(e)},t.OAuth2.prototype.getOAuthAccessToken=function(e,t,r){var t=t||{};t.client_id=this._clientId,t.client_secret=this._clientSecret;var i="refresh_token"===t.grant_type?"refresh_token":"code";t[i]=e;var s=n.stringify(t),o={"Content-Type":"application/x-www-form-urlencoded"};this._request("POST",this._getAccessTokenUrl(),o,s,null,function(e,t,i){if(e)r(e);else{try{s=JSON.parse(t)}catch(e){s=n.parse(t)}var s,o=s.access_token,a=s.refresh_token;delete s.refresh_token,r(null,o,a,s)}})},t.OAuth2.prototype.getProtectedResource=function(e,t,r){this._request("GET",e,{},"",t,r)},t.OAuth2.prototype.get=function(e,t,r){if(this._useAuthorizationHeaderForGET){var n={Authorization:this.buildAuthHeader(t)};t=null}else n={};this._request("GET",e,n,"",t,r)}},24299:(e,t)=>{var r=1,n="=";function i(e,t){return o(s(a(e),a(t)))}function s(e,t){var r=A(e);r.length>16&&(r=c(r,8*e.length));for(var n=Array(16),i=Array(16),s=0;s<16;s++)n[s]=909522486^r[s],i[s]=1549556828^r[s];var o=c(n.concat(A(t)),512+8*t.length);return l(c(i.concat(o),672))}function o(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",i=e.length,s=0;s<i;s+=3)for(var o=e.charCodeAt(s)<<16|(s+1<i?e.charCodeAt(s+1)<<8:0)|(s+2<i?e.charCodeAt(s+2):0),a=0;a<4;a++)8*s+6*a>8*e.length?r+=n:r+=t.charAt(o>>>6*(3-a)&63);return r}function a(e){for(var t,r,n="",i=-1;++i<e.length;)t=e.charCodeAt(i),r=i+1<e.length?e.charCodeAt(i+1):0,55296<=t&&t<=56319&&56320<=r&&r<=57343&&(t=65536+((1023&t)<<10)+(1023&r),i++),t<=127?n+=String.fromCharCode(t):t<=2047?n+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return n}function A(e){for(var t=Array(e.length>>2),r=0;r<t.length;r++)t[r]=0;for(var r=0;r<8*e.length;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<24-r%32;return t}function l(e){for(var t="",r=0;r<32*e.length;r+=8)t+=String.fromCharCode(e[r>>5]>>>24-r%32&255);return t}function c(e,t){e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var r=Array(80),n=1732584193,i=-271733879,s=-1732584194,o=271733878,a=-1009589776,A=0;A<e.length;A+=16){for(var l=n,c=i,f=s,p=o,E=a,m=0;m<80;m++){m<16?r[m]=e[A+m]:r[m]=g(r[m-3]^r[m-8]^r[m-14]^r[m-16],1);var C=d(d(g(n,5),u(m,i,s,o)),d(d(a,r[m]),h(m)));a=o,o=s,s=g(i,30),i=n,n=C}n=d(n,l),i=d(i,c),s=d(s,f),o=d(o,p),a=d(a,E)}return[n,i,s,o,a]}function u(e,t,r,n){return e<20?t&r|~t&n:e<40?t^r^n:e<60?t&r|t&n|r&n:t^r^n}function h(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function d(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function g(e,t){return e<<t|e>>>32-t}t.HMACSHA1=function(e,t){return i(e,t)}},46953:(e,t,r)=>{"use strict";let n;let{strict:i}=r(39491),{createHash:s}=r(6113),{format:o}=r(73837),a=r(88341);if(Buffer.isEncoding("base64url"))n=e=>e.toString("base64url");else{let e=e=>e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");n=t=>e(t.toString("base64"))}function A(e,t){switch(e){case"HS256":case"RS256":case"PS256":case"ES256":case"ES256K":return s("sha256");case"HS384":case"RS384":case"PS384":case"ES384":return s("sha384");case"HS512":case"RS512":case"PS512":case"ES512":return s("sha512");case"EdDSA":switch(t){case"Ed25519":return s("sha512");case"Ed448":if(!a)throw TypeError("Ed448 *_hash calculation is not supported in your Node.js runtime version");return s("shake256",{outputLength:114});default:throw TypeError("unrecognized or invalid EdDSA curve provided")}default:throw TypeError("unrecognized or invalid JWS algorithm provided")}}function l(e,t,r){let i=A(t,r).update(e).digest();return n(i.slice(0,i.length/2))}function c(e,t,r,n,s){let a,A;if("string"!=typeof e.claim||!e.claim)throw TypeError("names.claim must be a non-empty string");if("string"!=typeof e.source||!e.source)throw TypeError("names.source must be a non-empty string");i("string"==typeof t&&t,`${e.claim} must be a non-empty string`),i("string"==typeof r&&r,`${e.source} must be a non-empty string`);try{a=l(r,n,s)}catch(t){A=o("%s could not be validated (%s)",e.claim,t.message)}A=A||o("%s mismatch, expected %s, got: %s",e.claim,a,t),i.equal(a,t,A)}e.exports={validate:c,generate:l}},88341:(e,t,r)=>{"use strict";let n=r(6113),[i,s]=process.version.substring(1).split(".").map(e=>parseInt(e,10)),o=(i>12||12===i&&s>=8)&&n.getHashes().includes("shake256");e.exports=o},28347:(e,t,r)=>{"use strict";let n;let{inspect:i}=r(73837),s=r(13685),o=r(6113),{strict:a}=r(39491),A=r(63477),l=r(57310),{URL:c,URLSearchParams:u}=r(57310),h=r(80816),d=r(46953),g=r(56622),f=r(83764),p=r(7785),E=r(35716),m=r(61741),{assertSigningAlgValuesSupport:C,assertIssuerConfiguration:y}=r(40121),I=r(23009),B=r(2889),Q=r(56261),v=r(11911),{OPError:w,RPError:b}=r(65180),S=r(18162),{random:k}=r(96638),R=r(87975),{CLOCK_TOLERANCE:D}=r(3339),{keystores:_}=r(6344),T=r(79266),N=r(72693),{authenticatedPost:F,resolveResponseType:M,resolveRedirectUri:L}=r(83709),{queryKeyStore:O}=r(86651),x=r(4269),[U,P]=process.version.slice(1).split(".").map(e=>parseInt(e,10)),J=U>=17||16===U&&P>=9,V=Symbol(),H=Symbol(),G=Symbol();function j(e){return I(e,"access_token","code","error_description","error_uri","error","expires_in","id_token","iss","response","session_state","state","token_type")}function Y(e,t="Bearer"){return`${t} ${e}`}function W(e){let t=l.parse(e);return t.search?A.parse(t.search.substring(1)):{}}function q(e,t,r){if(void 0===e[r])throw new b({message:`missing required JWT property ${r}`,jwt:t})}function K(e){let t={client_id:this.client_id,scope:"openid",response_type:M.call(this),redirect_uri:L.call(this),...e};return Object.entries(t).forEach(([e,r])=>{null==r?delete t[e]:"claims"===e&&"object"==typeof r?t[e]=JSON.stringify(r):"resource"===e&&Array.isArray(r)?t[e]=r:"string"!=typeof r&&(t[e]=String(r))}),t}function z(e){if(!B(e)||!Array.isArray(e.keys)||e.keys.some(e=>!B(e)||!("kty"in e)))throw TypeError("jwks must be a JSON Web Key Set formatted object");return T.fromJWKS(e,{onlyPrivate:!0})}function $(e,t){try{let r=e.issuer.token_endpoint_auth_methods_supported;!r.includes(t.token_endpoint_auth_method)&&r.includes("client_secret_post")&&(t.token_endpoint_auth_method="client_secret_post")}catch(e){}}function X(e,t,r){if(t.token_endpoint_auth_method||$(e,r),t.redirect_uri){if(t.redirect_uris)throw TypeError("provide a redirect_uri or redirect_uris, not both");r.redirect_uris=[t.redirect_uri],delete r.redirect_uri}if(t.response_type){if(t.response_types)throw TypeError("provide a response_type or response_types, not both");r.response_types=[t.response_type],delete r.response_type}}function Z(e,t,r){if(!t[`${e}_endpoint`])return;let n=r.token_endpoint_auth_method,i=r.token_endpoint_auth_signing_alg,s=`${e}_endpoint_auth_method`,o=`${e}_endpoint_auth_signing_alg`;void 0===r[s]&&void 0===r[o]&&(void 0!==n&&(r[s]=n),void 0!==i&&(r[o]=i))}class ee{#e;#t;#r;#n;constructor(e,t,r={},n,i){if(this.#e=new Map,this.#t=e,this.#r=t,"string"!=typeof r.client_id||!r.client_id)throw TypeError("client_id is required");let s={grant_types:["authorization_code"],id_token_signed_response_alg:"RS256",authorization_signed_response_alg:"RS256",response_types:["code"],token_endpoint_auth_method:"client_secret_basic",...this.fapi()?{grant_types:["authorization_code","implicit"],id_token_signed_response_alg:"PS256",authorization_signed_response_alg:"PS256",response_types:["code id_token"],tls_client_certificate_bound_access_tokens:!0,token_endpoint_auth_method:void 0}:void 0,...r};if(this.fapi())switch(s.token_endpoint_auth_method){case"self_signed_tls_client_auth":case"tls_client_auth":break;case"private_key_jwt":if(!n)throw TypeError("jwks is required");break;case void 0:throw TypeError("token_endpoint_auth_method is required");default:throw TypeError("invalid or unsupported token_endpoint_auth_method")}if(X(this,r,s),C("token",this.issuer,s),["introspection","revocation"].forEach(e=>{Z(e,this.issuer,s),C(e,this.issuer,s)}),Object.entries(s).forEach(([e,t])=>{this.#e.set(e,t),this[e]||Object.defineProperty(this,e,{get(){return this.#e.get(e)},enumerable:!0})}),void 0!==n){let e=z.call(this,n);_.set(this,e)}null!=i&&i.additionalAuthorizedParties&&(this.#n=N(i.additionalAuthorizedParties)),this[D]=0}authorizationUrl(e={}){if(!B(e))throw TypeError("params must be a plain object");y(this.issuer,"authorization_endpoint");let t=new c(this.issuer.authorization_endpoint);for(let[r,n]of Object.entries(K.call(this,e)))if(Array.isArray(n))for(let e of(t.searchParams.delete(r),n))t.searchParams.append(r,e);else t.searchParams.set(r,n);return t.href.replace(/\+/g,"%20")}authorizationPost(e={}){if(!B(e))throw TypeError("params must be a plain object");let t=K.call(this,e),r=Object.keys(t).map(e=>`<input type="hidden" name="${e}" value="${t[e]}"/>`).join("\n");return`<!DOCTYPE html>
<head>
<title>Requesting Authorization</title>
</head>
<body onload="javascript:document.forms[0].submit()">
<form method="post" action="${this.issuer.authorization_endpoint}">
  ${r}
</form>
</body>
</html>`}endSessionUrl(e={}){let t;y(this.issuer,"end_session_endpoint");let{0:r,length:n}=this.post_logout_redirect_uris||[],{post_logout_redirect_uri:i=1===n?r:void 0}=e;if({id_token_hint:t,...e}=e,t instanceof v){if(!t.id_token)throw TypeError("id_token not present in TokenSet");t=t.id_token}let s=l.parse(this.issuer.end_session_endpoint),o=E(W(this.issuer.end_session_endpoint),e,{post_logout_redirect_uri:i,client_id:this.client_id},{id_token_hint:t});return Object.entries(o).forEach(([e,t])=>{null==t&&delete o[e]}),s.search=null,s.query=o,l.format(s)}callbackParams(e){let t=e instanceof s.IncomingMessage||e&&e.method&&e.url;if("string"!=typeof e&&!t)throw TypeError("#callbackParams only accepts string urls, http.IncomingMessage or a lookalike");if(!t)return j(W(e));switch(e.method){case"GET":return j(W(e.url));case"POST":if(void 0===e.body)throw TypeError("incoming message body missing, include a body parser prior to this method call");switch(typeof e.body){case"object":case"string":if(Buffer.isBuffer(e.body))return j(A.parse(e.body.toString("utf-8")));if("string"==typeof e.body)return j(A.parse(e.body));return j(e.body);default:throw TypeError("invalid IncomingMessage body object")}default:throw TypeError("invalid IncomingMessage method")}}async callback(e,t,r={},{exchangeBody:n,clientAssertionPayload:i,DPoP:s}={}){let o=j(t);if(!r.jarm||"response"in t){if("response"in t){let e=await this.decryptJARM(o.response);o=await this.validateJARM(e)}}else throw new b({message:"expected a JARM response",checks:r,params:o});if(this.default_max_age&&!r.max_age&&(r.max_age=this.default_max_age),o.state&&!r.state)throw TypeError("checks.state argument is missing");if(!o.state&&r.state)throw new b({message:"state missing from the response",checks:r,params:o});if(r.state!==o.state)throw new b({printf:["state mismatch, expected %s, got: %s",r.state,o.state],checks:r,params:o});if("iss"in o){if(y(this.issuer,"issuer"),o.iss!==this.issuer.issuer)throw new b({printf:["iss mismatch, expected %s, got: %s",this.issuer.issuer,o.iss],params:o})}else if(this.issuer.authorization_response_iss_parameter_supported&&!("id_token"in o)&&!("response"in t))throw new b({message:"iss missing from the response",params:o});if(o.error)throw new w(o);let a={code:["code"],id_token:["id_token"],token:["access_token","token_type"]};if(r.response_type){for(let e of r.response_type.split(" "))if("none"===e){if(o.code||o.id_token||o.access_token)throw new b({message:'unexpected params encountered for "none" response',checks:r,params:o})}else for(let t of a[e])if(!o[t])throw new b({message:`${t} missing from response`,checks:r,params:o})}if(o.id_token){let e=new v(o);if(await this.decryptIdToken(e),await this.validateIdToken(e,r.nonce,"authorization",r.max_age,r.state),!o.code)return e}if(o.code){let t=await this.grant({...n,grant_type:"authorization_code",code:o.code,redirect_uri:e,code_verifier:r.code_verifier},{clientAssertionPayload:i,DPoP:s});return await this.decryptIdToken(t),await this.validateIdToken(t,r.nonce,"token",r.max_age),o.session_state&&(t.session_state=o.session_state),t}return new v(o)}async oauthCallback(e,t,r={},{exchangeBody:n,clientAssertionPayload:i,DPoP:s}={}){let o=j(t);if(!r.jarm||"response"in t){if("response"in t){let e=await this.decryptJARM(o.response);o=await this.validateJARM(e)}}else throw new b({message:"expected a JARM response",checks:r,params:o});if(o.state&&!r.state)throw TypeError("checks.state argument is missing");if(!o.state&&r.state)throw new b({message:"state missing from the response",checks:r,params:o});if(r.state!==o.state)throw new b({printf:["state mismatch, expected %s, got: %s",r.state,o.state],checks:r,params:o});if("iss"in o){if(y(this.issuer,"issuer"),o.iss!==this.issuer.issuer)throw new b({printf:["iss mismatch, expected %s, got: %s",this.issuer.issuer,o.iss],params:o})}else if(this.issuer.authorization_response_iss_parameter_supported&&!("id_token"in o)&&!("response"in t))throw new b({message:"iss missing from the response",params:o});if(o.error)throw new w(o);if("string"==typeof o.id_token&&o.id_token.length)throw new b({message:"id_token detected in the response, you must use client.callback() instead of client.oauthCallback()",params:o});delete o.id_token;let a={code:["code"],token:["access_token","token_type"]};if(r.response_type)for(let e of r.response_type.split(" ")){if("none"===e&&(o.code||o.id_token||o.access_token))throw new b({message:'unexpected params encountered for "none" response',checks:r,params:o});if(a[e]){for(let t of a[e])if(!o[t])throw new b({message:`${t} missing from response`,checks:r,params:o})}}if(o.code){let t=await this.grant({...n,grant_type:"authorization_code",code:o.code,redirect_uri:e,code_verifier:r.code_verifier},{clientAssertionPayload:i,DPoP:s});if("string"==typeof t.id_token&&t.id_token.length)throw new b({message:"id_token detected in the response, you must use client.callback() instead of client.oauthCallback()",params:o});return delete t.id_token,t}return new v(o)}async decryptIdToken(e){if(!this.id_token_encrypted_response_alg)return e;let t=e;if(t instanceof v){if(!t.id_token)throw TypeError("id_token not present in TokenSet");t=t.id_token}let r=this.id_token_encrypted_response_alg,n=this.id_token_encrypted_response_enc,i=await this.decryptJWE(t,r,n);return e instanceof v?(e.id_token=i,e):i}async validateJWTUserinfo(e){let t=this.userinfo_signed_response_alg;return this.validateJWT(e,t,[])}async decryptJARM(e){if(!this.authorization_encrypted_response_alg)return e;let t=this.authorization_encrypted_response_alg,r=this.authorization_encrypted_response_enc;return this.decryptJWE(e,t,r)}async decryptJWTUserinfo(e){if(!this.userinfo_encrypted_response_alg)return e;let t=this.userinfo_encrypted_response_alg,r=this.userinfo_encrypted_response_enc;return this.decryptJWE(e,t,r)}async decryptJWE(e,t,r="A128CBC-HS256"){let n;let i=JSON.parse(p.decode(e.split(".")[0]));if(i.alg!==t)throw new b({printf:["unexpected JWE alg received, expected %s, got: %s",t,i.alg],jwt:e});if(i.enc!==r)throw new b({printf:["unexpected JWE enc received, expected %s, got: %s",r,i.enc],jwt:e});let s=e=>new TextDecoder().decode(e.plaintext);if(t.match(/^(?:RSA|ECDH)/)){let t=await _.get(this),r=h.decodeProtectedHeader(e);for(let i of t.all({...r,use:"enc"}))if(n=await h.compactDecrypt(e,await i.keyObject(r.alg)).then(s,()=>{}))break}else n=await h.compactDecrypt(e,this.secretForAlg("dir"===t?r:t)).then(s,()=>{});if(!n)throw new b({message:"failed to decrypt JWE",jwt:e});return n}async validateIdToken(e,t,r,n,i){let s=e,o=this.id_token_signed_response_alg;if(s instanceof v){if(!s.id_token)throw TypeError("id_token not present in TokenSet");s=s.id_token}s=String(s);let a=S(),{protected:A,payload:l,key:c}=await this.validateJWT(s,o);if("number"==typeof n||n!==G&&this.require_auth_time){if(!l.auth_time)throw new b({message:"missing required JWT property auth_time",jwt:s});if("number"!=typeof l.auth_time)throw new b({message:"JWT auth_time claim must be a JSON numeric value",jwt:s})}if("number"==typeof n&&l.auth_time+n<a-this[D])throw new b({printf:["too much time has elapsed since the last End-User authentication, max_age %i, auth_time: %i, now %i",n,l.auth_time,a-this[D]],now:a,tolerance:this[D],auth_time:l.auth_time,jwt:s});if(t!==H&&(l.nonce||void 0!==t)&&l.nonce!==t)throw new b({printf:["nonce mismatch, expected %s, got: %s",t,l.nonce],jwt:s});if("authorization"===r){if(!l.at_hash&&e.access_token)throw new b({message:"missing required property at_hash",jwt:s});if(!l.c_hash&&e.code)throw new b({message:"missing required property c_hash",jwt:s});if(this.fapi()&&!l.s_hash&&(e.state||i))throw new b({message:"missing required property s_hash",jwt:s});if(l.s_hash){if(!i)throw TypeError('cannot verify s_hash, "checks.state" property not provided');try{d.validate({claim:"s_hash",source:"state"},l.s_hash,i,A.alg,c.jwk&&c.jwk.crv)}catch(e){throw new b({message:e.message,jwt:s})}}}if(this.fapi()&&l.iat<a-3600)throw new b({printf:["JWT issued too far in the past, now %i, iat %i",a,l.iat],now:a,tolerance:this[D],iat:l.iat,jwt:s});if(e.access_token&&void 0!==l.at_hash)try{d.validate({claim:"at_hash",source:"access_token"},l.at_hash,e.access_token,A.alg,c.jwk&&c.jwk.crv)}catch(e){throw new b({message:e.message,jwt:s})}if(e.code&&void 0!==l.c_hash)try{d.validate({claim:"c_hash",source:"code"},l.c_hash,e.code,A.alg,c.jwk&&c.jwk.crv)}catch(e){throw new b({message:e.message,jwt:s})}return e}async validateJWT(e,t,r=["iss","sub","aud","exp","iat"]){let n,i,s;let o="https://self-issued.me"===this.issuer.issuer,A=S();try{({header:n,payload:i}=f(e,{complete:!0}))}catch(t){throw new b({printf:["failed to decode JWT (%s: %s)",t.name,t.message],jwt:e})}if(n.alg!==t)throw new b({printf:["unexpected JWT alg received, expected %s, got: %s",t,n.alg],jwt:e});if(o&&(r=[...r,"sub_jwk"]),r.forEach(q.bind(void 0,i,e)),void 0!==i.iss){let t=this.issuer.issuer;if(this.#r&&(t=this.issuer.issuer.replace("{tenantid}",i.tid)),i.iss!==t)throw new b({printf:["unexpected iss value, expected %s, got: %s",t,i.iss],jwt:e})}if(void 0!==i.iat&&"number"!=typeof i.iat)throw new b({message:"JWT iat claim must be a JSON numeric value",jwt:e});if(void 0!==i.nbf){if("number"!=typeof i.nbf)throw new b({message:"JWT nbf claim must be a JSON numeric value",jwt:e});if(i.nbf>A+this[D])throw new b({printf:["JWT not active yet, now %i, nbf %i",A+this[D],i.nbf],now:A,tolerance:this[D],nbf:i.nbf,jwt:e})}if(void 0!==i.exp){if("number"!=typeof i.exp)throw new b({message:"JWT exp claim must be a JSON numeric value",jwt:e});if(A-this[D]>=i.exp)throw new b({printf:["JWT expired, now %i, exp %i",A-this[D],i.exp],now:A,tolerance:this[D],exp:i.exp,jwt:e})}if(void 0!==i.aud){if(Array.isArray(i.aud)){if(i.aud.length>1&&!i.azp)throw new b({message:"missing required JWT property azp",jwt:e});if(!i.aud.includes(this.client_id))throw new b({printf:["aud is missing the client_id, expected %s to be included in %j",this.client_id,i.aud],jwt:e})}else if(i.aud!==this.client_id)throw new b({printf:["aud mismatch, expected %s, got: %s",this.client_id,i.aud],jwt:e})}if(void 0!==i.azp){let t=this.#n;if(!(t="string"==typeof t?[this.client_id,t]:Array.isArray(t)?[this.client_id,...t]:[this.client_id]).includes(i.azp))throw new b({printf:["azp mismatch, got: %s",i.azp],jwt:e})}if(o){try{a(B(i.sub_jwk));let e=await h.importJWK(i.sub_jwk,n.alg);a.equal(e.type,"public"),s=[{keyObject:()=>e}]}catch(t){throw new b({message:"failed to use sub_jwk claim as an asymmetric JSON Web Key",jwt:e})}if(await h.calculateJwkThumbprint(i.sub_jwk)!==i.sub)throw new b({message:"failed to match the subject with sub_jwk",jwt:e})}else n.alg.startsWith("HS")?s=[this.secretForAlg(n.alg)]:"none"!==n.alg&&(s=await O.call(this.issuer,{...n,use:"sig"}));if(!s&&"none"===n.alg)return{protected:n,payload:i};for(let t of s){let r=await h.compactVerify(e,t instanceof Uint8Array?t:await t.keyObject(n.alg)).catch(()=>{});if(r)return{payload:i,protected:r.protectedHeader,key:t}}throw new b({message:"failed to validate JWT signature",jwt:e})}async refresh(e,{exchangeBody:t,clientAssertionPayload:r,DPoP:n}={}){let i=e;if(i instanceof v){if(!i.refresh_token)throw TypeError("refresh_token not present in TokenSet");i=i.refresh_token}let s=await this.grant({...t,grant_type:"refresh_token",refresh_token:String(i)},{clientAssertionPayload:r,DPoP:n});if(s.id_token&&(await this.decryptIdToken(s),await this.validateIdToken(s,H,"token",G),e instanceof v&&e.id_token)){let t=e.claims().sub,r=s.claims().sub;if(r!==t)throw new b({printf:["sub mismatch, expected %s, got: %s",t,r],jwt:s.id_token})}return s}async requestResource(e,t,{method:r,headers:n,body:i,DPoP:s,tokenType:o=s?"DPoP":t instanceof v?t.token_type:"Bearer"}={},a){if(t instanceof v){if(!t.access_token)throw TypeError("access_token not present in TokenSet");t=t.access_token}if(t){if("string"!=typeof t)throw TypeError("invalid access token provided")}else throw TypeError("no access token provided");let A={headers:{Authorization:Y(t,o),...n},body:i},l=!!this.tls_client_certificate_bound_access_tokens,c=await R.call(this,{...A,responseType:"buffer",method:r,url:e},{accessToken:t,mTLS:l,DPoP:s}),u=c.headers["www-authenticate"];return a!==V&&u&&u.toLowerCase().startsWith("dpop ")&&"use_dpop_nonce"===m(u).error?this.requestResource(e,t,{method:r,headers:n,body:i,DPoP:s,tokenType:o}):c}async userinfo(e,{method:t="GET",via:r="header",tokenType:n,params:i,DPoP:s}={}){let o;y(this.issuer,"userinfo_endpoint");let A={tokenType:n,method:String(t).toUpperCase(),DPoP:s};if("GET"!==A.method&&"POST"!==A.method)throw TypeError("#userinfo() method can only be POST or a GET");if("body"===r&&"POST"!==A.method)throw TypeError("can only send body on POST");let l=!!(this.userinfo_signed_response_alg||this.userinfo_encrypted_response_alg);l?A.headers={Accept:"application/jwt"}:A.headers={Accept:"application/json"},this.tls_client_certificate_bound_access_tokens&&this.issuer.mtls_endpoint_aliases&&(o=this.issuer.mtls_endpoint_aliases.userinfo_endpoint),o=new c(o||this.issuer.userinfo_endpoint),"body"===r&&(A.headers.Authorization=void 0,A.headers["Content-Type"]="application/x-www-form-urlencoded",A.body=new u,A.body.append("access_token",e instanceof v?e.access_token:e)),i&&("GET"===A.method?Object.entries(i).forEach(([e,t])=>{o.searchParams.append(e,t)}):A.body?Object.entries(i).forEach(([e,t])=>{A.body.append(e,t)}):(A.body=new u,A.headers["Content-Type"]="application/x-www-form-urlencoded",Object.entries(i).forEach(([e,t])=>{A.body.append(e,t)}))),A.body&&(A.body=A.body.toString());let h=await this.requestResource(o,e,A),d=Q(h,{bearer:!0});if(l){if(!/^application\/jwt/.test(h.headers["content-type"]))throw new b({message:"expected application/jwt response from the userinfo_endpoint",response:h});let e=h.body.toString(),t=await this.decryptJWTUserinfo(e);if(this.userinfo_signed_response_alg)({payload:d}=await this.validateJWTUserinfo(t));else try{d=JSON.parse(t),a(B(d))}catch(e){throw new b({message:"failed to parse userinfo JWE payload as JSON",jwt:t})}}else try{d=JSON.parse(h.body)}catch(e){throw Object.defineProperty(e,"response",{value:h}),e}if(e instanceof v&&e.id_token){let t=e.claims().sub;if(d.sub!==t)throw new b({printf:["userinfo sub mismatch, expected %s, got: %s",t,d.sub],body:d,jwt:e.id_token})}return d}encryptionSecret(e){let t=e<=256?"sha256":e<=384?"sha384":e<=512&&"sha512";if(!t)throw Error("unsupported symmetric encryption key derivation");return o.createHash(t).update(this.client_secret).digest().slice(0,e/8)}secretForAlg(e){if(!this.client_secret)throw TypeError("client_secret is required");return/^A(\d{3})(?:GCM)?KW$/.test(e)?this.encryptionSecret(parseInt(RegExp.$1,10)):/^A(\d{3})(?:GCM|CBC-HS(\d{3}))$/.test(e)?this.encryptionSecret(parseInt(RegExp.$2||RegExp.$1,10)):new TextEncoder().encode(this.client_secret)}async grant(e,{clientAssertionPayload:t,DPoP:r}={},n){let i;y(this.issuer,"token_endpoint");let s=await F.call(this,"token",{form:e,responseType:"json"},{clientAssertionPayload:t,DPoP:r});try{i=Q(s)}catch(i){if(n!==V&&i instanceof w&&"use_dpop_nonce"===i.error)return this.grant(e,{clientAssertionPayload:t,DPoP:r},V);throw i}return new v(i)}async deviceAuthorization(e={},{exchangeBody:t,clientAssertionPayload:r,DPoP:n}={}){y(this.issuer,"device_authorization_endpoint"),y(this.issuer,"token_endpoint");let i=K.call(this,{client_id:this.client_id,redirect_uri:null,response_type:null,...e}),s=Q(await F.call(this,"device_authorization",{responseType:"json",form:i},{clientAssertionPayload:r,endpointAuthMethod:"token"}));return new x({client:this,exchangeBody:t,clientAssertionPayload:r,response:s,maxAge:e.max_age,DPoP:n})}async revoke(e,t,{revokeBody:r,clientAssertionPayload:n}={}){if(y(this.issuer,"revocation_endpoint"),void 0!==t&&"string"!=typeof t)throw TypeError("hint must be a string");let i={...r,token:e};t&&(i.token_type_hint=t),Q(await F.call(this,"revocation",{form:i},{clientAssertionPayload:n}),{body:!1})}async introspect(e,t,{introspectBody:r,clientAssertionPayload:n}={}){if(y(this.issuer,"introspection_endpoint"),void 0!==t&&"string"!=typeof t)throw TypeError("hint must be a string");let i={...r,token:e};return t&&(i.token_type_hint=t),Q(await F.call(this,"introspection",{form:i,responseType:"json"},{clientAssertionPayload:n}))}static async register(e,t={}){let{initialAccessToken:r,jwks:n,...i}=t;if(y(this.issuer,"registration_endpoint"),void 0!==n&&!(e.jwks||e.jwks_uri)){let t=await z.call(this,n);e.jwks=t.toJWKS()}return new this(Q(await R.call(this,{headers:{Accept:"application/json",...r?{Authorization:Y(r)}:void 0},responseType:"json",json:e,url:this.issuer.registration_endpoint,method:"POST"}),{statusCode:201,bearer:!0}),n,i)}get metadata(){return N(Object.fromEntries(this.#e.entries()))}static async fromUri(e,t,r,n){return new this(Q(await R.call(this,{method:"GET",url:e,responseType:"json",headers:{Authorization:Y(t),Accept:"application/json"}}),{bearer:!0}),r,n)}async requestObject(e={},{sign:t=this.request_object_signing_alg||"none",encrypt:{alg:r=this.request_object_encryption_alg,enc:n=this.request_object_encryption_enc||"A128CBC-HS256"}={}}={}){let i,s;if(!B(e))throw TypeError("requestObject must be a plain object");let o=S(),a={alg:t,typ:"oauth-authz-req+jwt"},A=JSON.stringify(E({},e,{iss:this.client_id,aud:this.issuer.issuer,client_id:this.client_id,jti:k(),iat:o,exp:o+300,...this.fapi()?{nbf:o}:void 0}));if("none"===t)i=[p.encode(JSON.stringify(a)),p.encode(A),""].join(".");else{let e=t.startsWith("HS");if(e)s=this.secretForAlg(t);else{let e=await _.get(this);if(!e)throw TypeError(`no keystore present for client, cannot sign using alg ${t}`);if(!(s=e.get({alg:t,use:"sig"})))throw TypeError(`no key to sign with found for alg ${t}`)}i=await new h.CompactSign(new TextEncoder().encode(A)).setProtectedHeader({...a,kid:e?void 0:s.jwk.kid}).sign(e?s:await s.keyObject(t))}if(!r)return i;let l={alg:r,enc:n,cty:"oauth-authz-req+jwt"};return l.alg.match(/^(RSA|ECDH)/)?[s]=await O.call(this.issuer,{alg:l.alg,use:"enc"},{allowMulti:!0}):s=this.secretForAlg("dir"===l.alg?l.enc:l.alg),new h.CompactEncrypt(new TextEncoder().encode(i)).setProtectedHeader({...l,kid:s instanceof Uint8Array?void 0:s.jwk.kid}).encrypt(s instanceof Uint8Array?s:await s.keyObject(l.alg))}async pushedAuthorizationRequest(e={},{clientAssertionPayload:t}={}){y(this.issuer,"pushed_authorization_request_endpoint");let r={..."request"in e?e:K.call(this,e),client_id:this.client_id},n=await F.call(this,"pushed_authorization_request",{responseType:"json",form:r},{clientAssertionPayload:t,endpointAuthMethod:"token"}),i=Q(n,{statusCode:201});if(!("expires_in"in i))throw new b({message:"expected expires_in in Pushed Authorization Successful Response",response:n});if("number"!=typeof i.expires_in)throw new b({message:"invalid expires_in value in Pushed Authorization Successful Response",response:n});if(!("request_uri"in i))throw new b({message:"expected request_uri in Pushed Authorization Successful Response",response:n});if("string"!=typeof i.request_uri)throw new b({message:"invalid request_uri value in Pushed Authorization Successful Response",response:n});return i}get issuer(){return this.#t}[i.custom](){return`${this.constructor.name} ${i(this.metadata,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}fapi(){return"FAPI1Client"===this.constructor.name}async validateJARM(e){let t=this.authorization_signed_response_alg,{payload:r}=await this.validateJWT(e,t,["iss","exp","aud"]);return j(r)}async dpopProof(e,t,r){let i;if(!B(e))throw TypeError("payload must be a plain object");if(g(t))i=t;else if("CryptoKey"===t[Symbol.toStringTag])i=t;else if("node:crypto"===h.cryptoRuntime)i=o.createPrivateKey(t);else throw TypeError("unrecognized crypto runtime");if("private"!==i.type)throw TypeError('"DPoP" option must be a private key');let s=n.call(this,i,t);if(!s)throw TypeError("could not determine DPoP JWS Algorithm");return new h.SignJWT({ath:r?p.encode(o.createHash("sha256").update(r).digest()):void 0,...e}).setProtectedHeader({alg:s,typ:"dpop+jwt",jwk:await es(i,t)}).setIssuedAt().setJti(k()).sign(i)}}function et(e){switch(e.algorithm.name){case"Ed25519":case"Ed448":return"EdDSA";case"ECDSA":switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512"}break;case"RSASSA-PKCS1-v1_5":return`RS${e.algorithm.hash.name.slice(4)}`;case"RSA-PSS":return`PS${e.algorithm.hash.name.slice(4)}`;default:throw TypeError("unsupported DPoP private key")}}if("node:crypto"===h.cryptoRuntime){n=function(e,t){if("CryptoKey"===t[Symbol.toStringTag])return et(e);switch(e.asymmetricKeyType){case"ed25519":case"ed448":return"EdDSA";case"ec":return en(e,t);case"rsa":case J&&"rsa-pss":return er(e,t,this.issuer.dpop_signing_alg_values_supported);default:throw TypeError("unsupported DPoP private key")}};let e=/^(?:RS|PS)(?:256|384|512)$/;function er(t,r,n){if("object"==typeof r&&"jwk"===r.format&&r.key&&r.key.alg)return r.key.alg;if(Array.isArray(n)){let r=n.filter(RegExp.prototype.test.bind(e));return"rsa-pss"===t.asymmetricKeyType&&(r=r.filter(e=>e.startsWith("PS"))),["PS256","PS384","PS512","RS256","RS384","RS384"].find(e=>r.includes(e))}return"PS256"}let t=Buffer.from([42,134,72,206,61,3,1,7]),r=Buffer.from([43,129,4,0,34]),i=Buffer.from([43,129,4,0,35]),s=Buffer.from([43,129,4,0,10]);function en(e,n){switch("object"==typeof n&&"object"==typeof n.key&&n.key.crv){case"P-256":return"ES256";case"secp256k1":return"ES256K";case"P-384":return"ES384";case"P-512":return"ES512"}let o=e.export({format:"der",type:"pkcs8"}),a=o[1]<128?17:18,A=o[a],l=o.slice(a+1,a+1+A);if(l.equals(t))return"ES256";if(l.equals(r))return"ES384";if(l.equals(i))return"ES512";if(l.equals(s))return"ES256K";throw TypeError("unsupported DPoP private key curve")}}else n=et;let ei=new WeakMap;async function es(e,t){if("node:crypto"===h.cryptoRuntime&&"object"==typeof t&&"object"==typeof t.key&&"jwk"===t.format)return I(t.key,"kty","crv","x","y","e","n");if(ei.has(t))return ei.get(t);let r=I(await h.exportJWK(e),"kty","crv","x","y","e","n");return(g(t)||"WebCryptoAPI"===h.cryptoRuntime)&&ei.set(t,r),r}e.exports=(e,t=!1)=>class extends ee{constructor(...r){super(e,t,...r)}static get issuer(){return e}},e.exports.BaseClient=ee},4269:(e,t,r)=>{"use strict";let{inspect:n}=r(73837),{RPError:i,OPError:s}=r(65180),o=r(18162);class a{#i;#s;#o;#a;#A;#l;#c;#u;#h;constructor({client:e,exchangeBody:t,clientAssertionPayload:r,response:n,maxAge:s,DPoP:a}){if(["verification_uri","user_code","device_code"].forEach(e=>{if("string"!=typeof n[e]||!n[e])throw new i(`expected ${e} string to be returned by Device Authorization Response, got %j`,n[e])}),!Number.isSafeInteger(n.expires_in))throw new i("expected expires_in number to be returned by Device Authorization Response, got %j",n.expires_in);this.#l=o()+n.expires_in,this.#s=e,this.#a=a,this.#u=s,this.#A=t,this.#o=r,this.#h=n,this.#c=1e3*n.interval||5e3}abort(){this.#i=!0}async poll({signal:e}={}){let t;if(e&&e.aborted||this.#i)throw new i("polling aborted");if(this.expired())throw new i("the device code %j has expired and the device authorization session has concluded",this.device_code);await new Promise(e=>setTimeout(e,this.#c));try{t=await this.#s.grant({...this.#A,grant_type:"urn:ietf:params:oauth:grant-type:device_code",device_code:this.device_code},{clientAssertionPayload:this.#o,DPoP:this.#a})}catch(t){switch(t instanceof s&&t.error){case"slow_down":this.#c+=5e3;case"authorization_pending":return this.poll({signal:e});default:throw t}}return"id_token"in t&&(await this.#s.decryptIdToken(t),await this.#s.validateIdToken(t,void 0,"token",this.#u)),t}get device_code(){return this.#h.device_code}get user_code(){return this.#h.user_code}get verification_uri(){return this.#h.verification_uri}get verification_uri_complete(){return this.#h.verification_uri_complete}get expires_in(){return Math.max.apply(null,[this.#l-o(),0])}expired(){return 0===this.expires_in}[n.custom](){return`${this.constructor.name} ${n(this.#h,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}}e.exports=a},65180:(e,t,r)=>{"use strict";let{format:n}=r(73837);class i extends Error{constructor({error_description:e,error:t,error_uri:r,session_state:n,state:i,scope:s},o){super(e?`${t} (${e})`:t),Object.assign(this,{error:t},e&&{error_description:e},r&&{error_uri:r},i&&{state:i},s&&{scope:s},n&&{session_state:n}),o&&Object.defineProperty(this,"response",{value:o}),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}class s extends Error{constructor(...e){if("string"==typeof e[0])super(n(...e));else{let{message:t,printf:r,response:i,...s}=e[0];r?super(n(...r)):super(t),Object.assign(this,s),i&&Object.defineProperty(this,"response",{value:i})}this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}e.exports={OPError:i,RPError:s}},40121:e=>{"use strict";function t(e,t,r){if(!t[`${e}_endpoint`])return;let n=`${e}_endpoint_auth_method`,i=`${e}_endpoint_auth_signing_alg`,s=`${e}_endpoint_auth_signing_alg_values_supported`;if(r[n]&&r[n].endsWith("_jwt")&&!r[i]&&!t[s])throw TypeError(`${s} must be configured on the issuer if ${i} is not defined on a client`)}function r(e,t){if(!e[t])throw TypeError(`${t} must be configured on the issuer`)}e.exports={assertSigningAlgValuesSupport:t,assertIssuerConfiguration:r}},7785:e=>{"use strict";let t;if(Buffer.isEncoding("base64url"))t=(e,t="utf8")=>Buffer.from(e,t).toString("base64url");else{let e=e=>e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");t=(t,r="utf8")=>e(Buffer.from(t,r).toString("base64"))}let r=e=>Buffer.from(e,"base64");e.exports.decode=r,e.exports.encode=t},83709:(e,t,r)=>{"use strict";let n=r(80816),{RPError:i}=r(65180),{assertIssuerConfiguration:s}=r(40121),{random:o}=r(96638),a=r(18162),A=r(87975),{keystores:l}=r(6344),c=r(24743),u=e=>encodeURIComponent(e).replace(/%20/g,"+");async function h(e,t){let r=this[`${e}_endpoint_auth_signing_alg`];if(r||s(this.issuer,`${e}_endpoint_auth_signing_alg_values_supported`),"client_secret_jwt"===this[`${e}_endpoint_auth_method`]){if(!r){let t=this.issuer[`${e}_endpoint_auth_signing_alg_values_supported`];r=Array.isArray(t)&&t.find(e=>/^HS(?:256|384|512)/.test(e))}if(!r)throw new i(`failed to determine a JWS Algorithm to use for ${this[`${e}_endpoint_auth_method`]} Client Assertion`);return new n.CompactSign(Buffer.from(JSON.stringify(t))).setProtectedHeader({alg:r}).sign(this.secretForAlg(r))}let o=await l.get(this);if(!o)throw TypeError("no client jwks provided for signing a client assertion with");if(!r){let t=this.issuer[`${e}_endpoint_auth_signing_alg_values_supported`];r=Array.isArray(t)&&t.find(e=>o.get({alg:e,use:"sig"}))}if(!r)throw new i(`failed to determine a JWS Algorithm to use for ${this[`${e}_endpoint_auth_method`]} Client Assertion`);let a=o.get({alg:r,use:"sig"});if(!a)throw new i(`no key found in client jwks to sign a client assertion with using alg ${r}`);return new n.CompactSign(Buffer.from(JSON.stringify(t))).setProtectedHeader({alg:r,kid:a.jwk&&a.jwk.kid}).sign(await a.keyObject(r))}async function d(e,{clientAssertionPayload:t}={}){switch(this[`${e}_endpoint_auth_method`]){case"self_signed_tls_client_auth":case"tls_client_auth":case"none":return{form:{client_id:this.client_id}};case"client_secret_post":if("string"!=typeof this.client_secret)throw TypeError("client_secret_post client authentication method requires a client_secret");return{form:{client_id:this.client_id,client_secret:this.client_secret}};case"private_key_jwt":case"client_secret_jwt":{let r=a(),n=[...new Set([this.issuer.issuer,this.issuer.token_endpoint].filter(Boolean))],i=await h.call(this,e,{iat:r,exp:r+60,jti:o(),iss:this.client_id,sub:this.client_id,aud:n,...t});return{form:{client_id:this.client_id,client_assertion:i,client_assertion_type:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer"}}}case"client_secret_basic":{if("string"!=typeof this.client_secret)throw TypeError("client_secret_basic client authentication method requires a client_secret");let e=`${u(this.client_id)}:${u(this.client_secret)}`,t=Buffer.from(e).toString("base64");return{headers:{Authorization:`Basic ${t}`}}}default:throw TypeError(`missing, or unsupported, ${e}_endpoint_auth_method`)}}function g(){let{length:e,0:t}=this.response_types;if(1===e)return t}function f(){let{length:e,0:t}=this.redirect_uris||[];if(1===e)return t}async function p(e,t,{clientAssertionPayload:r,endpointAuthMethod:n=e,DPoP:i}={}){let s;let o=c(t,await d.call(this,n,{clientAssertionPayload:r})),a=this[`${n}_endpoint_auth_method`].includes("tls_client_auth")||"token"===e&&this.tls_client_certificate_bound_access_tokens;if(a&&this.issuer.mtls_endpoint_aliases&&(s=this.issuer.mtls_endpoint_aliases[`${e}_endpoint`]),s=s||this.issuer[`${e}_endpoint`],"form"in o)for(let[e,t]of Object.entries(o.form))void 0===t&&delete o.form[e];return A.call(this,{...o,method:"POST",url:s,headers:{..."revocation"!==e?{Accept:"application/json"}:void 0,...o.headers}},{mTLS:a,DPoP:i})}e.exports={resolveResponseType:g,resolveRedirectUri:f,authFor:d,authenticatedPost:p}},3339:e=>{"use strict";let t=Symbol(),r=Symbol();e.exports={CLOCK_TOLERANCE:r,HTTP_OPTIONS:t}},83764:(e,t,r)=>{"use strict";let n=r(7785);e.exports=e=>{if("string"!=typeof e||!e)throw TypeError("JWT must be a string");let{0:t,1:r,2:i,length:s}=e.split(".");if(5===s)throw TypeError("encrypted JWTs cannot be decoded");if(3!==s)throw Error("JWTs must have three components");try{return{header:JSON.parse(n.decode(t)),payload:JSON.parse(n.decode(r)),signature:i}}catch(e){throw Error("JWT is malformed")}}},72693:e=>{"use strict";e.exports=globalThis.structuredClone||(e=>JSON.parse(JSON.stringify(e)))},35716:(e,t,r)=>{"use strict";let n=r(2889);function i(e,t,...r){for(let s of r)if(n(s))for(let[r,o]of Object.entries(s))"__proto__"!==r&&"constructor"!==r&&(void 0===t[r]&&void 0!==o&&(t[r]=o),e&&n(t[r])&&n(o)&&i(!0,t[r],o));return t}e.exports=i.bind(void 0,!1),e.exports.deep=i.bind(void 0,!0)},96638:(e,t,r)=>{"use strict";let{createHash:n,randomBytes:i}=r(6113),s=r(7785),o=(e=32)=>s.encode(i(e));e.exports={random:o,state:o,nonce:o,codeVerifier:o,codeChallenge:e=>s.encode(n("sha256").update(e).digest())}},56622:(e,t,r)=>{"use strict";let n=r(73837),i=r(6113);e.exports=n.types.isKeyObject||(e=>e&&e instanceof i.KeyObject)},2889:e=>{"use strict";e.exports=e=>!!e&&e.constructor===Object},86651:(e,t,r)=>{"use strict";let n=r(87),i=r(20411),{RPError:s}=r(65180),{assertIssuerConfiguration:o}=r(40121),a=r(79266),{keystores:A}=r(6344),l=r(56261),c=r(87975),u=new WeakMap,h=new WeakMap,d=e=>(h.has(e)||h.set(e,new i({max:100})),h.get(e));async function g(e=!1){o(this,"jwks_uri");let t=A.get(this),r=d(this);return e||!t?(u.has(this)||(r.reset(),u.set(this,(async()=>{let e=l(await c.call(this,{method:"GET",responseType:"json",url:this.jwks_uri,headers:{Accept:"application/json, application/jwk-set+json"}}).finally(()=>{u.delete(this)})),t=a.fromJWKS(e,{onlyPublic:!0});return r.set("throttle",!0,6e4),A.set(this,t),t})())),u.get(this)):t}async function f({kid:e,kty:t,alg:r,use:i},{allowMulti:o=!1}={}){let a=d(this),A={kid:e,kty:t,alg:r,use:i},l=n(A,{algorithm:"sha256",ignoreUnknown:!0,unorderedArrays:!0,unorderedSets:!0}),c=a.get(l)||a.get("throttle"),u=await g.call(this,!c),h=u.all(A);if(delete A.use,0===h.length)throw new s({printf:["no valid key found in issuer's jwks_uri for key parameters %j",A],jwks:u});if(!o&&h.length>1&&!e)throw new s({printf:["multiple matching keys found in issuer's jwks_uri for key parameters %j, kid must be provided in this case",A],jwks:u});return a.set(l,!0),h}e.exports.queryKeyStore=f,e.exports.keystore=g},79266:(e,t,r)=>{"use strict";let n=r(80816),i=r(72693),s=r(2889),o=Symbol(),a=(e,{alg:t,use:r})=>{let n=0;return t&&e.alg&&n++,r&&e.use&&n++,n};function A(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:return}}function l(e,t,r,i){if(t)return new Set([t]);switch(r){case"EC":{let t=[];if(("enc"===e||void 0===e)&&(t=t.concat(["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"])),"sig"===e||void 0===e)switch(i){case"P-256":case"P-384":t=t.concat([`ES${i.slice(-3)}`.replace("21","12")]);break;case"P-521":t=t.concat(["ES512"]);break;case"secp256k1":"node:crypto"===n.cryptoRuntime&&(t=t.concat(["ES256K"]))}return new Set(t)}case"OKP":return new Set(["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"]);case"RSA":{let t=[];return("enc"===e||void 0===e)&&(t=t.concat(["RSA-OAEP","RSA-OAEP-256","RSA-OAEP-384","RSA-OAEP-512"]),"node:crypto"===n.cryptoRuntime&&(t=t.concat(["RSA1_5"]))),("sig"===e||void 0===e)&&(t=t.concat(["PS256","PS384","PS512","RS256","RS384","RS512"])),new Set(t)}default:throw Error("unreachable")}}e.exports=class{#d;constructor(e,t){if(e!==o)throw Error("invalid constructor call");this.#d=t}toJWKS(){return{keys:this.map(({jwk:{d:e,p:t,q:r,dp:n,dq:i,qi:s,...o}})=>o)}}all({alg:e,kid:t,use:r}={}){if(!r||!e)throw Error();let n=A(e),i={alg:e,use:r};return this.filter(i=>{let s=!0;return void 0!==n&&i.jwk.kty!==n&&(s=!1),s&&void 0!==t&&i.jwk.kid!==t&&(s=!1),s&&void 0!==r&&void 0!==i.jwk.use&&i.jwk.use!==r&&(s=!1),s&&i.jwk.alg&&i.jwk.alg!==e?s=!1:i.algorithms.has(e)||(s=!1),s}).sort((e,t)=>a(t,i)-a(e,i))}get(...e){return this.all(...e)[0]}static async fromJWKS(e,{onlyPublic:t=!1,onlyPrivate:r=!1}={}){if(!s(e)||!Array.isArray(e.keys)||e.keys.some(e=>!s(e)||!("kty"in e)))throw TypeError("jwks must be a JSON Web Key Set formatted object");let a=[];for(let s of e.keys){let{kty:e,kid:o,crv:A}=s=i(s),{alg:c,use:u}=s;if("string"==typeof e&&e&&(void 0===u||"sig"===u||"enc"===u)&&("string"==typeof c||void 0===c)&&("string"==typeof o||void 0===o)){if("EC"===e&&"sig"===u)switch(A){case"P-256":c="ES256";break;case"P-384":c="ES384";break;case"P-521":c="ES512"}if("secp256k1"===A&&(u="sig",c="ES256K"),"OKP"===e)switch(A){case"Ed25519":case"Ed448":u="sig",c="EdDSA";break;case"X25519":case"X448":u="enc"}if(c&&!u)switch(!0){case c.startsWith("ECDH"):case c.startsWith("RSA"):u="enc"}if(r&&("oct"===s.kty||!s.d))throw Error("jwks must only contain private keys");t&&(s.d||s.k)||a.push({jwk:{...s,alg:c,use:u},async keyObject(e){if(this[e])return this[e];let t=await n.importJWK(this.jwk,e);return this[e]=t,t},get algorithms(){return Object.defineProperty(this,"algorithms",{value:l(this.jwk.use,this.jwk.alg,this.jwk.kty,this.jwk.crv),enumerable:!0,configurable:!1}),this.algorithms}})}}return new this(o,a)}filter(...e){return this.#d.filter(...e)}find(...e){return this.#d.find(...e)}every(...e){return this.#d.every(...e)}some(...e){return this.#d.some(...e)}map(...e){return this.#d.map(...e)}forEach(...e){return this.#d.forEach(...e)}reduce(...e){return this.#d.reduce(...e)}sort(...e){return this.#d.sort(...e)}*[Symbol.iterator](){for(let e of this.#d)yield e}}},24743:(e,t,r)=>{"use strict";let n=r(2889);function i(e,...t){for(let r of t)if(n(r))for(let[t,s]of Object.entries(r))"__proto__"!==t&&"constructor"!==t&&(n(e[t])&&n(s)?e[t]=i(e[t],s):void 0!==s&&(e[t]=s));return e}e.exports=i},23009:e=>{"use strict";e.exports=function(e,...t){let r={};for(let n of t)void 0!==e[n]&&(r[n]=e[n]);return r}},56261:(e,t,r)=>{"use strict";let{STATUS_CODES:n}=r(13685),{format:i}=r(73837),{OPError:s}=r(65180),o=r(61741),a=e=>{let t=o(e.headers["www-authenticate"]);if(t.error)throw new s(t,e)},A=e=>{let t=!1;try{let r;r="object"!=typeof e.body||Buffer.isBuffer(e.body)?JSON.parse(e.body):e.body,(t="string"==typeof r.error&&r.error.length)&&Object.defineProperty(e,"body",{value:r,configurable:!0})}catch(e){}return t};function l(e,{statusCode:t=200,body:r=!0,bearer:o=!1}={}){if(e.statusCode!==t){if(o&&a(e),A(e))throw new s(e.body,e);throw new s({error:i("expected %i %s, got: %i %s",t,n[t],e.statusCode,n[e.statusCode])},e)}if(r&&!e.body)throw new s({error:i("expected %i %s with body but no body was returned",t,n[t])},e);return e.body}e.exports=l},87975:(e,t,r)=>{"use strict";let n;let i=r(39491),s=r(63477),o=r(13685),a=r(95687),{once:A}=r(82361),{URL:l}=r(57310),c=r(20411),u=r(87658),{RPError:h}=r(65180),d=r(23009),{deep:g}=r(35716),{HTTP_OPTIONS:f}=r(3339),p=/^[\x21\x23-\x5B\x5D-\x7E]+$/,E=["agent","ca","cert","crl","headers","key","lookup","passphrase","pfx","timeout"],m=(e,t)=>{n=g({},e.length?d(t,...e):t,n)};function C(e,t,r){r&&(e.removeHeader("content-type"),e.setHeader("content-type",r)),t&&(e.removeHeader("content-length"),e.setHeader("content-length",Buffer.byteLength(t)),e.write(t)),e.end()}m([],{headers:{"User-Agent":`${u.name}/${u.version} (${u.homepage})`,"Accept-Encoding":"identity"},timeout:3500});let y=new c({max:100});e.exports=async function(e,{accessToken:t,mTLS:r=!1,DPoP:c}={}){let u,m,I,B,Q,v,w;try{u=new l(e.url),delete e.url,i(/^(https?:)$/.test(u.protocol))}catch(e){throw TypeError("only valid absolute URLs can be requested")}let b=this[f],S=e,k=`${u.origin}${u.pathname}`;if(c&&"dpopProof"in this&&(S.headers=S.headers||{},S.headers.DPoP=await this.dpopProof({htu:`${u.origin}${u.pathname}`,htm:e.method,nonce:y.get(k)},c,t)),b&&(m=d(b.call(this,u,g({},S,n)),...E)),S=g({},m,S,n),r&&!S.pfx&&!(S.key&&S.cert))throw TypeError("mutual-TLS certificate and key not set");if(S.searchParams)for(let[e,t]of Object.entries(S.searchParams))u.searchParams.delete(e),u.searchParams.set(e,t);for(let[e,t]of({form:B,responseType:I,json:Q,body:v,...S}=S,Object.entries(S.headers||{})))void 0===t&&delete S.headers[e];let R=("https:"===u.protocol?a.request:o.request)(u.href,S);return(async()=>{if(Q?C(R,JSON.stringify(Q),"application/json"):B?C(R,s.stringify(B),"application/x-www-form-urlencoded"):v?C(R,v):C(R),[w]=await Promise.race([A(R,"response"),A(R,"timeout")]),!w)throw R.destroy(),new h(`outgoing request timed out after ${S.timeout}ms`);let e=[];for await(let t of w)e.push(t);if(e.length)switch(I){case"json":Object.defineProperty(w,"body",{get(){let t=Buffer.concat(e);try{t=JSON.parse(t)}catch(e){throw Object.defineProperty(e,"response",{value:w}),e}finally{Object.defineProperty(w,"body",{value:t,configurable:!0})}return t},configurable:!0});break;case void 0:case"buffer":Object.defineProperty(w,"body",{get(){let t=Buffer.concat(e);return Object.defineProperty(w,"body",{value:t,configurable:!0}),t},configurable:!0});break;default:throw TypeError("unsupported responseType request option")}return w})().catch(e=>{throw w&&Object.defineProperty(e,"response",{value:w}),e}).finally(()=>{let e=w&&w.headers["dpop-nonce"];e&&p.test(e)&&y.set(k,e)})},e.exports.setDefaults=m.bind(void 0,E)},18162:e=>{"use strict";e.exports=()=>Math.floor(Date.now()/1e3)},6344:e=>{"use strict";e.exports.keystores=new WeakMap},38285:e=>{"use strict";let t=/^\d+$/;function r(e){if(e.includes("://"))return!0;let r=e.replace(/(\/|\?)/g,"#").split("#")[0];if(r.includes(":")){let e=r.indexOf(":"),n=r.slice(e+1);if(!t.test(n))return!0}return!1}function n(e){if(!e.includes("@"))return!1;let t=e.split("@"),r=t[t.length-1];return!(r.includes(":")||r.includes("/")||r.includes("?"))}function i(e){let t;if("string"!=typeof e)throw TypeError("input must be a string");return(t=r(e)?e:n(e)?`acct:${e}`:`https://${e}`).split("#")[0]}e.exports=i},61741:e=>{"use strict";let t=/(\w+)=("[^"]*")/g;e.exports=e=>{let r={};try{for(;null!==t.exec(e);)RegExp.$1&&RegExp.$2&&(r[RegExp.$1]=RegExp.$2.slice(1,-1))}catch(e){}return r}},44741:(e,t,r)=>{"use strict";let n=r(61363),{OPError:i,RPError:s}=r(65180),o=r(49631),a=r(11911),{CLOCK_TOLERANCE:A,HTTP_OPTIONS:l}=r(3339),c=r(96638),{setDefaults:u}=r(87975);e.exports={Issuer:n,Strategy:o,TokenSet:a,errors:{OPError:i,RPError:s},custom:{setHttpOptionsDefaults:u,http_options:l,clock_tolerance:A},generators:c}},61363:(e,t,r)=>{"use strict";let{inspect:n}=r(73837),i=r(57310),{RPError:s}=r(65180),o=r(28347),a=r(87883),A=r(56261),l=r(38285),c=r(87975),u=r(72693),{keystore:h}=r(86651),d=["https://login.microsoftonline.com/common/.well-known/openid-configuration","https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration"],g=Symbol(),f={claim_types_supported:["normal"],claims_parameter_supported:!1,grant_types_supported:["authorization_code","implicit"],request_parameter_supported:!1,request_uri_parameter_supported:!0,require_request_uri_registration:!1,response_modes_supported:["query","fragment"],token_endpoint_auth_methods_supported:["client_secret_basic"]};class p{#e;constructor(e={}){let t=e[g];delete e[g],["introspection","revocation"].forEach(t=>{e[`${t}_endpoint`]&&void 0===e[`${t}_endpoint_auth_methods_supported`]&&void 0===e[`${t}_endpoint_auth_signing_alg_values_supported`]&&(e.token_endpoint_auth_methods_supported&&(e[`${t}_endpoint_auth_methods_supported`]=e.token_endpoint_auth_methods_supported),e.token_endpoint_auth_signing_alg_values_supported&&(e[`${t}_endpoint_auth_signing_alg_values_supported`]=e.token_endpoint_auth_signing_alg_values_supported))}),this.#e=new Map,Object.entries(e).forEach(([e,t])=>{this.#e.set(e,t),this[e]||Object.defineProperty(this,e,{get(){return this.#e.get(e)},enumerable:!0})}),a.set(this.issuer,this);let r=o(this,t);Object.defineProperties(this,{Client:{value:r,enumerable:!0},FAPI1Client:{value:class extends r{},enumerable:!0}})}get metadata(){return u(Object.fromEntries(this.#e.entries()))}static async webfinger(e){let t=l(e),{host:r}=i.parse(t),n=`https://${r}/.well-known/webfinger`,o=A(await c.call(this,{method:"GET",url:n,responseType:"json",searchParams:{resource:t,rel:"http://openid.net/specs/connect/1.0/issuer"},headers:{Accept:"application/json"}})),u=Array.isArray(o.links)&&o.links.find(e=>"object"==typeof e&&"http://openid.net/specs/connect/1.0/issuer"===e.rel&&e.href);if(!u)throw new s({message:"no issuer found in webfinger response",body:o});if("string"!=typeof u.href||!u.href.startsWith("https://"))throw new s({printf:["invalid issuer location %s",u.href],body:o});let h=u.href;if(a.has(h))return a.get(h);let d=await this.discover(h);if(d.issuer!==h)throw a.del(d.issuer),new s("discovered issuer mismatch, expected %s, got: %s",h,d.issuer);return d}static async discover(e){let t=E(e),r=A(await c.call(this,{method:"GET",responseType:"json",url:t,headers:{Accept:"application/json"}}));return new p({...f,...r,[g]:!!d.find(e=>t.startsWith(e))})}async reloadJwksUri(){await h.call(this,!0)}[n.custom](){return`${this.constructor.name} ${n(this.metadata,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}}function E(e){let t=i.parse(e);if(t.pathname.includes("/.well-known/"))return e;{let e;return e=t.pathname.endsWith("/")?`${t.pathname}.well-known/openid-configuration`:`${t.pathname}/.well-known/openid-configuration`,i.format({...t,pathname:e})}}e.exports=p},87883:(e,t,r)=>{"use strict";let n=r(20411);e.exports=new n({max:100})},49631:(e,t,r)=>{"use strict";let n=r(57310),{format:i}=r(73837),s=r(72693),{RPError:o,OPError:a}=r(65180),{BaseClient:A}=r(28347),{random:l,codeChallenge:c}=r(96638),u=r(23009),{resolveResponseType:h,resolveRedirectUri:d}=r(83709);function g(e,t,r={}){e?this.error(e):t?this.success(t,r):this.fail(r)}function f({client:e,params:t={},passReqToCallback:r=!1,sessionKey:i,usePKCE:o=!0,extras:a={}}={},l){if(!(e instanceof A))throw TypeError("client must be an instance of openid-client Client");if("function"!=typeof l)throw TypeError("verify callback must be a function");if(!e.issuer||!e.issuer.issuer)throw TypeError("client must have an issuer with an identifier");if(this._client=e,this._issuer=e.issuer,this._verify=l,this._passReqToCallback=r,this._usePKCE=o,this._key=i||`oidc:${n.parse(this._issuer.issuer).hostname}`,this._params=s(t),delete this._params.state,delete this._params.nonce,this._extras=s(a),this._params.response_type||(this._params.response_type=h.call(e)),this._params.redirect_uri||(this._params.redirect_uri=d.call(e)),this._params.scope||(this._params.scope="openid"),!0===this._usePKCE){let e=!!Array.isArray(this._issuer.code_challenge_methods_supported)&&this._issuer.code_challenge_methods_supported;if(e&&e.includes("S256"))this._usePKCE="S256";else if(e&&e.includes("plain"))this._usePKCE="plain";else if(e)throw TypeError("neither code_challenge_method supported by the client is supported by the issuer");else this._usePKCE="S256"}else if("string"==typeof this._usePKCE&&!["plain","S256"].includes(this._usePKCE))throw TypeError(`${this._usePKCE} is not valid/implemented PKCE code_challenge_method`);this.name=n.parse(e.issuer.issuer).hostname}f.prototype.authenticate=function(e,t){(async()=>{let r=this._client;if(!e.session)throw TypeError("authentication requires session support");let n=r.callbackParams(e),s=this._key,{0:a,length:A}=Object.keys(n);if(0===A||1===A&&"iss"===a){let n={state:l(),...this._params,...t};if(!n.nonce&&n.response_type.includes("id_token")&&(n.nonce=l()),e.session[s]=u(n,"nonce","state","max_age","response_type"),this._usePKCE&&n.response_type.includes("code")){let t=l();switch(e.session[s].code_verifier=t,this._usePKCE){case"S256":n.code_challenge=c(t),n.code_challenge_method="S256";break;case"plain":n.code_challenge=t}}this.redirect(r.authorizationUrl(n));return}let h=e.session[s];if(0===Object.keys(h||{}).length)throw Error(i('did not find expected authorization request details in session, req.session["%s"] is %j',s,h));let{state:d,nonce:f,max_age:p,code_verifier:E,response_type:m}=h;try{delete e.session[s]}catch(e){}let C={redirect_uri:this._params.redirect_uri,...t},y={state:d,nonce:f,max_age:p,code_verifier:E,response_type:m},I=await r.callback(C.redirect_uri,n,y,this._extras),B=this._passReqToCallback,Q=this._verify.length>(B?3:2)&&r.issuer.userinfo_endpoint,v=[I,g.bind(this)];if(Q){if(!I.access_token)throw new o({message:"expected access_token to be returned when asking for userinfo in verify callback",tokenset:I});let e=await r.userinfo(I);v.splice(1,0,e)}B&&v.unshift(e),this._verify(...v)})().catch(e=>{e instanceof a&&"server_error"!==e.error&&!e.error.startsWith("invalid")||e instanceof o?this.fail(e):this.error(e)})},e.exports=f},11911:(e,t,r)=>{"use strict";let n=r(7785),i=r(18162);class s{constructor(e){Object.assign(this,e);let{constructor:t,...r}=Object.getOwnPropertyDescriptors(this.constructor.prototype);Object.defineProperties(this,r)}set expires_in(e){this.expires_at=i()+Number(e)}get expires_in(){return Math.max.apply(null,[this.expires_at-i(),0])}expired(){return 0===this.expires_in}claims(){if(!this.id_token)throw TypeError("id_token not present in TokenSet");return JSON.parse(n.decode(this.id_token.split(".")[1]))}}e.exports=s},20411:(e,t,r)=>{"use strict";let n=r(50826),i=Symbol("max"),s=Symbol("length"),o=Symbol("lengthCalculator"),a=Symbol("allowStale"),A=Symbol("maxAge"),l=Symbol("dispose"),c=Symbol("noDisposeOnSet"),u=Symbol("lruList"),h=Symbol("cache"),d=Symbol("updateAgeOnGet"),g=()=>1;class f{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[i]=e.max||1/0;let t=e.length||g;if(this[o]="function"!=typeof t?g:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[A]=e.maxAge||0,this[l]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[d]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[i]=e||1/0,m(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[A]=e,m(this)}get maxAge(){return this[A]}set lengthCalculator(e){"function"!=typeof e&&(e=g),e!==this[o]&&(this[o]=e,this[s]=0,this[u].forEach(e=>{e.length=this[o](e.value,e.key),this[s]+=e.length})),m(this)}get lengthCalculator(){return this[o]}get length(){return this[s]}get itemCount(){return this[u].length}rforEach(e,t){t=t||this;for(let r=this[u].tail;null!==r;){let n=r.prev;I(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[u].head;null!==r;){let n=r.next;I(this,e,r,t),r=n}}keys(){return this[u].toArray().map(e=>e.key)}values(){return this[u].toArray().map(e=>e.value)}reset(){this[l]&&this[u]&&this[u].length&&this[u].forEach(e=>this[l](e.key,e.value)),this[h]=new Map,this[u]=new n,this[s]=0}dump(){return this[u].map(e=>!E(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[u]}set(e,t,r){if((r=r||this[A])&&"number"!=typeof r)throw TypeError("maxAge must be a number");let n=r?Date.now():0,a=this[o](t,e);if(this[h].has(e)){if(a>this[i])return C(this,this[h].get(e)),!1;let o=this[h].get(e).value;return this[l]&&!this[c]&&this[l](e,o.value),o.now=n,o.maxAge=r,o.value=t,this[s]+=a-o.length,o.length=a,this.get(e),m(this),!0}let d=new y(e,t,a,n,r);return d.length>this[i]?(this[l]&&this[l](e,t),!1):(this[s]+=d.length,this[u].unshift(d),this[h].set(e,this[u].head),m(this),!0)}has(e){return!!this[h].has(e)&&!E(this,this[h].get(e).value)}get(e){return p(this,e,!0)}peek(e){return p(this,e,!1)}pop(){let e=this[u].tail;return e?(C(this,e),e.value):null}del(e){C(this,this[h].get(e))}load(e){this.reset();let t=Date.now();for(let r=e.length-1;r>=0;r--){let n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{let e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[h].forEach((e,t)=>p(this,t,!1))}}let p=(e,t,r)=>{let n=e[h].get(t);if(n){let t=n.value;if(E(e,t)){if(C(e,n),!e[a])return}else r&&(e[d]&&(n.value.now=Date.now()),e[u].unshiftNode(n));return t.value}},E=(e,t)=>{if(!t||!t.maxAge&&!e[A])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[A]&&r>e[A]},m=e=>{if(e[s]>e[i])for(let t=e[u].tail;e[s]>e[i]&&null!==t;){let r=t.prev;C(e,t),t=r}},C=(e,t)=>{if(t){let r=t.value;e[l]&&e[l](r.key,r.value),e[s]-=r.length,e[h].delete(r.key),e[u].removeNode(t)}};class y{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}let I=(e,t,r,n)=>{let i=r.value;E(e,i)&&(C(e,r),e[a]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=f},87:(e,t,r)=>{"use strict";var n=r(6113);function i(e,t){return t=a(e,t),l(e,t)}(t=e.exports=i).sha1=function(e){return i(e)},t.keys=function(e){return i(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},t.MD5=function(e){return i(e,{algorithm:"md5",encoding:"hex"})},t.keysMD5=function(e){return i(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var s=n.getHashes?n.getHashes().slice():["sha1","md5"];s.push("passthrough");var o=["buffer","hex","binary","base64"];function a(e,t){t=t||{};var r={};if(r.algorithm=t.algorithm||"sha1",r.encoding=t.encoding||"hex",r.excludeValues=!!t.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=!0===t.ignoreUnknown,r.respectType=!1!==t.respectType,r.respectFunctionNames=!1!==t.respectFunctionNames,r.respectFunctionProperties=!1!==t.respectFunctionProperties,r.unorderedArrays=!0===t.unorderedArrays,r.unorderedSets=!1!==t.unorderedSets,r.unorderedObjects=!1!==t.unorderedObjects,r.replacer=t.replacer||void 0,r.excludeKeys=t.excludeKeys||void 0,void 0===e)throw Error("Object argument required.");for(var n=0;n<s.length;++n)s[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=s[n]);if(-1===s.indexOf(r.algorithm))throw Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+s.join(", "));if(-1===o.indexOf(r.encoding)&&"passthrough"!==r.algorithm)throw Error('Encoding "'+r.encoding+'"  not supported. supported values: '+o.join(", "));return r}function A(e){return"function"==typeof e&&null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function l(e,t){if(void 0===(r="passthrough"!==t.algorithm?n.createHash(t.algorithm):new u).write&&(r.write=r.update,r.end=r.update),c(t,r).dispatch(e),r.update||r.end(""),r.digest)return r.digest("buffer"===t.encoding?void 0:t.encoding);var r,i=r.read();return"buffer"===t.encoding?i:i.toString(t.encoding)}function c(e,t,r){r=r||[];var n=function(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")};return{dispatch:function(t){e.replacer&&(t=e.replacer(t));var r=typeof t;return null===t&&(r="null"),this["_"+r](t)},_object:function(t){var i=/\[object (.*)\]/i,s=Object.prototype.toString.call(t),o=i.exec(s);o=(o=o?o[1]:"unknown:["+s+"]").toLowerCase();var a=null;if((a=r.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+a+"]");if(r.push(t),"undefined"!=typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t))return n("buffer:"),n(t);if("object"!==o&&"function"!==o&&"asyncfunction"!==o){if(this["_"+o])this["_"+o](t);else if(e.ignoreUnknown)return n("["+o+"]");else throw Error('Unknown object type "'+o+'"')}else{var l=Object.keys(t);e.unorderedObjects&&(l=l.sort()),!1===e.respectType||A(t)||l.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(l=l.filter(function(t){return!e.excludeKeys(t)})),n("object:"+l.length+":");var c=this;return l.forEach(function(r){c.dispatch(r),n(":"),e.excludeValues||c.dispatch(t[r]),n(",")})}},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var s=this;if(n("array:"+t.length+":"),!i||t.length<=1)return t.forEach(function(e){return s.dispatch(e)});var o=[],a=t.map(function(t){var n=new u,i=r.slice();return c(e,n,i).dispatch(t),o=o.concat(i.slice(r.length)),n.read().toString()});return r=r.concat(o),a.sort(),this._array(a,!1)},_date:function(e){return n("date:"+e.toJSON())},_symbol:function(e){return n("symbol:"+e.toString())},_error:function(e){return n("error:"+e.toString())},_boolean:function(e){return n("bool:"+e.toString())},_string:function(e){n("string:"+e.length+":"),n(e.toString())},_function:function(t){n("fn:"),A(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return n("number:"+e.toString())},_xml:function(e){return n("xml:"+e.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(e){return n("regex:"+e.toString())},_uint8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return n("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return n("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return n("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return n("url:"+e.toString(),"utf8")},_map:function(t){n("map:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_set:function(t){n("set:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_file:function(e){return n("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return n("domwindow")},_bigint:function(e){return n("bigint:"+e.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function u(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}t.writeToStream=function(e,t,r){return void 0===r&&(r=t,t={}),c(t=a(e,t),r).dispatch(e)}},6053:function(e,t,r){!function(e,n){n(t,r(81706))}(0,function(e,t){var r=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,n=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,i=/[\s\n\\/='"\0<>]/,s=/^xlink:?./,o=/["&<]/;function a(e){if(!1===o.test(e+=""))return e;for(var t=0,r=0,n="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=i,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var A=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"	"))},l=function(e,t,r){return String(e).length>(t||40)||!r&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},c={},u=/([A-Z])/g;function h(e){var t="";for(var n in e){var i=e[n];null!=i&&""!==i&&(t&&(t+=" "),t+="-"==n[0]?n:c[n]||(c[n]=n.replace(u,"-$1").toLowerCase()),t="number"==typeof i&&!1===r.test(n)?t+": "+i+"px;":t+": "+i+";")}return t||void 0}function d(e,t){return Array.isArray(t)?t.reduce(d,e):null!=t&&!1!==t&&e.push(t),e}function g(){this.__d=!0}function f(e,t){return{__v:e,context:t,props:e.props,setState:g,forceUpdate:g,__d:!0,__h:[]}}function p(e,t){var r=e.contextType,n=r&&t[r.__c];return null!=r?n?n.props.value:r.__:t}var E=[];function m(e,r,o,c,u,g){if(null==e||"boolean"==typeof e)return"";if("object"!=typeof e)return"function"==typeof e?"":a(e);var C=o.pretty,y=C&&"string"==typeof C?C:"	";if(Array.isArray(e)){for(var I="",B=0;B<e.length;B++)C&&B>0&&(I+="\n"),I+=m(e[B],r,o,c,u,g);return I}if(void 0!==e.constructor)return"";var Q,v=e.type,w=e.props,b=!1;if("function"==typeof v){if(b=!0,!o.shallow||!c&&!1!==o.renderRootComponent){if(v===t.Fragment){var S=[];return d(S,e.props.children),m(S,r,o,!1!==o.shallowHighOrder,u,g)}var k,R=e.__c=f(e,r);t.options.__b&&t.options.__b(e);var D=t.options.__r;if(v.prototype&&"function"==typeof v.prototype.render){var _=p(v,r);(R=e.__c=new v(w,_)).__v=e,R._dirty=R.__d=!0,R.props=w,null==R.state&&(R.state={}),null==R._nextState&&null==R.__s&&(R._nextState=R.__s=R.state),R.context=_,v.getDerivedStateFromProps?R.state=Object.assign({},R.state,v.getDerivedStateFromProps(R.props,R.state)):R.componentWillMount&&(R.componentWillMount(),R.state=R._nextState!==R.state?R._nextState:R.__s!==R.state?R.__s:R.state),D&&D(e),k=R.render(R.props,R.state,R.context)}else for(var T=p(v,r),N=0;R.__d&&N++<25;)R.__d=!1,D&&D(e),k=v.call(e.__c,w,T);return R.getChildContext&&(r=Object.assign({},r,R.getChildContext())),t.options.diffed&&t.options.diffed(e),m(k,r,o,!1!==o.shallowHighOrder,u,g)}v=(Q=v).displayName||Q!==Function&&Q.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var r=-1,n=E.length;n--;)if(E[n]===e){r=n;break}r<0&&(r=E.push(e)-1),t="UnnamedComponent"+r}return t}(Q)}var F,M,L="<"+v;if(w){var O=Object.keys(w);o&&!0===o.sortAttributes&&O.sort();for(var x=0;x<O.length;x++){var U=O[x],P=w[U];if("children"!==U){if(!i.test(U)&&(o&&o.allAttributes||"key"!==U&&"ref"!==U&&"__self"!==U&&"__source"!==U)){if("defaultValue"===U)U="value";else if("defaultChecked"===U)U="checked";else if("defaultSelected"===U)U="selected";else if("className"===U){if(void 0!==w.class)continue;U="class"}else u&&s.test(U)&&(U=U.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===U){if(w.for)continue;U="for"}"style"===U&&P&&"object"==typeof P&&(P=h(P)),"a"===U[0]&&"r"===U[1]&&"boolean"==typeof P&&(P=String(P));var J=o.attributeHook&&o.attributeHook(U,P,r,o,b);if(J||""===J)L+=J;else if("dangerouslySetInnerHTML"===U)M=P&&P.__html;else if("textarea"===v&&"value"===U)F=P;else if((P||0===P||""===P)&&"function"!=typeof P){if(!(!0!==P&&""!==P||(P=U,o&&o.xml))){L=L+" "+U;continue}if("value"===U){if("select"===v){g=P;continue}"option"===v&&g==P&&void 0===w.selected&&(L+=" selected")}L=L+" "+U+'="'+a(P)+'"'}}}else F=P}}if(C){var V=L.replace(/\n\s*/," ");V===L||~V.indexOf("\n")?C&&~L.indexOf("\n")&&(L+="\n"):L=V}if(L+=">",i.test(v))throw Error(v+" is not a valid HTML tag name in "+L);var H,G=n.test(v)||o.voidElements&&o.voidElements.test(v),j=[];if(M)C&&l(M)&&(M="\n"+y+A(M,y)),L+=M;else if(null!=F&&d(H=[],F).length){for(var Y=C&&~L.indexOf("\n"),W=!1,q=0;q<H.length;q++){var K=H[q];if(null!=K&&!1!==K){var z=m(K,r,o,!0,"svg"===v||"foreignObject"!==v&&u,g);if(C&&!Y&&l(z)&&(Y=!0),z){if(C){var $=z.length>0&&"<"!=z[0];W&&$?j[j.length-1]+=z:j.push(z),W=$}else j.push(z)}}}if(C&&Y)for(var X=j.length;X--;)j[X]="\n"+y+A(j[X],y)}if(j.length||M)L+=j.join("");else if(o&&o.xml)return L.substring(0,L.length-1)+" />";return!G||H||M?(C&&~L.indexOf("\n")&&(L+="\n"),L=L+"</"+v+">"):L=L.replace(/>$/," />"),L}var C={shallow:!0};B.render=B;var y=function(e,t){return B(e,t,C)},I=[];function B(e,r,n){r=r||{};var i=t.options.__s;t.options.__s=!0;var s,o=t.h(t.Fragment,null);return o.__k=[e],s=n&&(n.pretty||n.voidElements||n.sortAttributes||n.shallow||n.allAttributes||n.xml||n.attributeHook)?m(e,r,n):k(e,r,!1,void 0,o),t.options.__c&&t.options.__c(e,I),t.options.__s=i,I.length=0,s}function Q(e){return null==e||"boolean"==typeof e?null:"string"==typeof e||"number"==typeof e||"bigint"==typeof e?t.h(null,null,e):e}function v(e,t){return"className"===e?"class":"htmlFor"===e?"for":"defaultValue"===e?"value":"defaultChecked"===e?"checked":"defaultSelected"===e?"selected":t&&s.test(e)?e.toLowerCase().replace(/^xlink:?/,"xlink:"):e}function w(e,t){return"style"===e&&null!=t&&"object"==typeof t?h(t):"a"===e[0]&&"r"===e[1]&&"boolean"==typeof t?String(t):t}var b=Array.isArray,S=Object.assign;function k(e,r,s,o,A){if(null==e||!0===e||!1===e||""===e)return"";if("object"!=typeof e)return"function"==typeof e?"":a(e);if(b(e)){var l="";A.__k=e;for(var c=0;c<e.length;c++)l+=k(e[c],r,s,o,A),e[c]=Q(e[c]);return l}if(void 0!==e.constructor)return"";e.__=A,t.options.__b&&t.options.__b(e);var u=e.type,h=e.props;if("function"==typeof u){if(u===t.Fragment)d=h.children;else{d=u.prototype&&"function"==typeof u.prototype.render?function(e,r){var n=e.type,i=p(n,r),s=new n(e.props,i);e.__c=s,s.__v=e,s.__d=!0,s.props=e.props,null==s.state&&(s.state={}),null==s.__s&&(s.__s=s.state),s.context=i,n.getDerivedStateFromProps?s.state=S({},s.state,n.getDerivedStateFromProps(s.props,s.state)):s.componentWillMount&&(s.componentWillMount(),s.state=s.__s!==s.state?s.__s:s.state);var o=t.options.__r;return o&&o(e),s.render(s.props,s.state,s.context)}(e,r):function(e,r){var n,i=f(e,r),s=p(e.type,r);e.__c=i;for(var o=t.options.__r,a=0;i.__d&&a++<25;)i.__d=!1,o&&o(e),n=e.type.call(i,e.props,s);return n}(e,r);var d,g=e.__c;g.getChildContext&&(r=S({},r,g.getChildContext()))}var E=k(d=null!=d&&d.type===t.Fragment&&null==d.key?d.props.children:d,r,s,o,e);return t.options.diffed&&t.options.diffed(e),e.__=void 0,t.options.unmount&&t.options.unmount(e),E}var m,C,y="<";if(y+=u,h)for(var I in m=h.children,h){var B=h[I];if(!("key"===I||"ref"===I||"__self"===I||"__source"===I||"children"===I||"className"===I&&"class"in h||"htmlFor"===I&&"for"in h||i.test(I))){if(B=w(I=v(I,s),B),"dangerouslySetInnerHTML"===I)C=B&&B.__html;else if("textarea"===u&&"value"===I)m=B;else if((B||0===B||""===B)&&"function"!=typeof B){if(!0===B||""===B){B=I,y=y+" "+I;continue}if("value"===I){if("select"===u){o=B;continue}"option"!==u||o!=B||"selected"in h||(y+=" selected")}y=y+" "+I+'="'+a(B)+'"'}}}var R=y;if(y+=">",i.test(u))throw Error(u+" is not a valid HTML tag name in "+y);var D="",_=!1;if(C)D+=C,_=!0;else if("string"==typeof m)D+=a(m),_=!0;else if(b(m)){e.__k=m;for(var T=0;T<m.length;T++){var N=m[T];if(m[T]=Q(N),null!=N&&!1!==N){var F=k(N,r,"svg"===u||"foreignObject"!==u&&s,o,e);F&&(D+=F,_=!0)}}}else if(null!=m&&!1!==m&&!0!==m){e.__k=[Q(m)];var M=k(m,r,"svg"===u||"foreignObject"!==u&&s,o,e);M&&(D+=M,_=!0)}if(t.options.diffed&&t.options.diffed(e),e.__=void 0,t.options.unmount&&t.options.unmount(e),_)y+=D;else if(n.test(u))return R+" />";return y+"</"+u+">"}B.shallowRender=y,e.default=B,e.render=B,e.renderToStaticMarkup=B,e.renderToString=B,e.shallowRender=y})},17956:(e,t,r)=>{"use strict";e.exports=r(6053).default},81706:(e,t)=>{var r,n,i,s,o,a,A,l,c,u={},h=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,g=Array.isArray;function f(e,t){for(var r in t)e[r]=t[r];return e}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function E(e,t,n){var i,s,o,a={};for(o in t)"key"==o?i=t[o]:"ref"==o?s=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return m(e,a,i,s,null)}function m(e,t,r,s,o){var a={type:e,props:t,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==o?++i:o,__i:-1,__u:0};return null==o&&null!=n.vnode&&n.vnode(a),a}function C(e){return e.children}function y(e,t){this.props=e,this.context=t}function I(e,t){if(null==t)return e.__?I(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?I(e):null}function B(e,t,r){var i,s=e.__v,o=s.__e,a=e.__P;if(a)return(i=f({},s)).__v=s.__v+1,n.vnode&&n.vnode(i),F(a,i,s,e.__n,void 0!==a.ownerSVGElement,32&s.__u?[o]:null,t,null==o?I(s):o,!!(32&s.__u),r),i.__v=s.__v,i.__.__k[i.__i]=i,i.__d=void 0,i.__e!=o&&Q(i),i}function Q(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return Q(e)}}function v(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!w.__r++||a!==n.debounceRendering)&&((a=n.debounceRendering)||A)(w)}function w(){var e,t,r,i=[],s=[];for(o.sort(l);e=o.shift();)e.__d&&(r=o.length,t=B(e,i,s)||t,0===r||o.length>r?(M(i,t,s),s.length=i.length=0,t=void 0,o.sort(l)):t&&n.__c&&n.__c(t,h));t&&M(i,t,s),w.__r=0}function b(e,t,r,n,i,s,o,a,A,l,c){var d,g,f,p,E,m=n&&n.__k||h,C=t.length;for(r.__d=A,S(r,t,m),A=r.__d,d=0;d<C;d++)null!=(f=r.__k[d])&&"boolean"!=typeof f&&"function"!=typeof f&&(g=-1===f.__i?u:m[f.__i]||u,f.__i=d,F(e,f,g,i,s,o,a,A,l,c),p=f.__e,f.ref&&g.ref!=f.ref&&(g.ref&&O(g.ref,null,f),c.push(f.ref,f.__c||p,f)),null==E&&null!=p&&(E=p),65536&f.__u||g.__k===f.__k?A=k(f,A,e):"function"==typeof f.type&&void 0!==f.__d?A=f.__d:p&&(A=p.nextSibling),f.__d=void 0,f.__u&=-196609);r.__d=A,r.__e=E}function S(e,t,r){var n,i,s,o,a,A=t.length,l=r.length,c=l,u=0;for(e.__k=[],n=0;n<A;n++)o=n+u,null!=(i=e.__k[n]=null==(i=t[n])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?m(null,i,null,null,null):g(i)?m(C,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?m(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,a=R(i,r,o,c),i.__i=a,s=null,-1!==a&&(c--,(s=r[a])&&(s.__u|=131072)),null==s||null===s.__v?(-1==a&&u--,"function"!=typeof i.type&&(i.__u|=65536)):a!==o&&(a===o+1?u++:a>o?c>A-o?u+=a-o:u--:a<o?a==o-1&&(u=a-o):u=0,a!==n+u&&(i.__u|=65536))):(s=r[o])&&null==s.key&&s.__e&&0==(131072&s.__u)&&(s.__e==e.__d&&(e.__d=I(s)),x(s,s,!1),r[o]=null,c--);if(c)for(n=0;n<l;n++)null!=(s=r[n])&&0==(131072&s.__u)&&(s.__e==e.__d&&(e.__d=I(s)),x(s,s))}function k(e,t,r){var n,i;if("function"==typeof e.type){for(n=e.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=e,t=k(n[i],t,r));return t}e.__e!=t&&(r.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(null!=t&&8===t.nodeType);return t}function R(e,t,r,n){var i=e.key,s=e.type,o=r-1,a=r+1,A=t[r];if(null===A||A&&i==A.key&&s===A.type&&0==(131072&A.__u))return r;if(n>(null!=A&&0==(131072&A.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((A=t[o])&&0==(131072&A.__u)&&i==A.key&&s===A.type)return o;o--}if(a<t.length){if((A=t[a])&&0==(131072&A.__u)&&i==A.key&&s===A.type)return a;a++}}return -1}function D(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||d.test(t)?r:r+"px"}function _(e,t,r,n,i){var s;r:if("style"===t){if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||D(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||D(e.style,t,r[t])}}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase() in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?n?r.t=n.t:(r.t=Date.now(),e.addEventListener(t,s?N:T,s)):e.removeEventListener(t,s?N:T,s);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==r?"":r;break r}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,r))}}function T(e){if(this.l){var t=this.l[e.type+!1];if(e.u){if(e.u<=t.t)return}else e.u=Date.now();return t(n.event?n.event(e):e)}}function N(e){if(this.l)return this.l[e.type+!0](n.event?n.event(e):e)}function F(e,t,r,i,s,o,a,A,l,c){var u,h,d,p,E,m,I,B,Q,v,w,S,k,R,D,_=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(l=!!(32&r.__u),o=[A=t.__e=r.__e]),(u=n.__b)&&u(t);r:if("function"==typeof _)try{if(B=t.props,Q=(u=_.contextType)&&i[u.__c],v=u?Q?Q.props.value:u.__:i,r.__c?I=(h=t.__c=r.__c).__=h.__E:("prototype"in _&&_.prototype.render?t.__c=h=new _(B,v):(t.__c=h=new y(B,v),h.constructor=_,h.render=U),Q&&Q.sub(h),h.props=B,h.state||(h.state={}),h.context=v,h.__n=i,d=h.__d=!0,h.__h=[],h._sb=[]),null==h.__s&&(h.__s=h.state),null!=_.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=f({},h.__s)),f(h.__s,_.getDerivedStateFromProps(B,h.__s))),p=h.props,E=h.state,h.__v=t,d)null==_.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==_.getDerivedStateFromProps&&B!==p&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(B,v),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(B,h.__s,v)||t.__v===r.__v)){for(t.__v!==r.__v&&(h.props=B,h.state=h.__s,h.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(e){e&&(e.__=t)}),w=0;w<h._sb.length;w++)h.__h.push(h._sb[w]);h._sb=[],h.__h.length&&a.push(h);break r}null!=h.componentWillUpdate&&h.componentWillUpdate(B,h.__s,v),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(p,E,m)})}if(h.context=v,h.props=B,h.__P=e,h.__e=!1,S=n.__r,k=0,"prototype"in _&&_.prototype.render){for(h.state=h.__s,h.__d=!1,S&&S(t),u=h.render(h.props,h.state,h.context),R=0;R<h._sb.length;R++)h.__h.push(h._sb[R]);h._sb=[]}else do h.__d=!1,S&&S(t),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++k<25);h.state=h.__s,null!=h.getChildContext&&(i=f(f({},i),h.getChildContext())),d||null==h.getSnapshotBeforeUpdate||(m=h.getSnapshotBeforeUpdate(p,E)),b(e,g(D=null!=u&&u.type===C&&null==u.key?u.props.children:u)?D:[D],t,r,i,s,o,a,A,l,c),h.base=t.__e,t.__u&=-161,h.__h.length&&a.push(h),I&&(h.__E=h.__=null)}catch(e){t.__v=null,l||null!=o?(t.__e=A,t.__u|=l?160:32,o[o.indexOf(A)]=null):(t.__e=r.__e,t.__k=r.__k),n.__e(e,t,r)}else null==o&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=L(r.__e,t,r,i,s,o,a,l,c);(u=n.diffed)&&u(t)}function M(e,t,r){for(var i=0;i<r.length;i++)O(r[i],r[++i],r[++i]);n.__c&&n.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){n.__e(e,t.__v)}})}function L(e,t,n,i,s,o,a,A,l){var c,h,d,f,E,m,C,y=n.props,B=t.props,Q=t.type;if("svg"===Q&&(s=!0),null!=o){for(c=0;c<o.length;c++)if((E=o[c])&&"setAttribute"in E==!!Q&&(Q?E.localName===Q:3===E.nodeType)){e=E,o[c]=null;break}}if(null==e){if(null===Q)return document.createTextNode(B);e=s?document.createElementNS("http://www.w3.org/2000/svg",Q):document.createElement(Q,B.is&&B),o=null,A=!1}if(null===Q)y===B||A&&e.data===B||(e.data=B);else{if(o=o&&r.call(e.childNodes),y=n.props||u,!A&&null!=o)for(y={},c=0;c<e.attributes.length;c++)y[(E=e.attributes[c]).name]=E.value;for(c in y)E=y[c],"children"==c||("dangerouslySetInnerHTML"==c?d=E:"key"===c||c in B||_(e,c,null,E,s));for(c in B)E=B[c],"children"==c?f=E:"dangerouslySetInnerHTML"==c?h=E:"value"==c?m=E:"checked"==c?C=E:"key"===c||A&&"function"!=typeof E||y[c]===E||_(e,c,E,y[c],s);if(h)A||d&&(h.__html===d.__html||h.__html===e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(d&&(e.innerHTML=""),b(e,g(f)?f:[f],t,n,i,s&&"foreignObject"!==Q,o,a,o?o[0]:n.__k&&I(n,0),A,l),null!=o)for(c=o.length;c--;)null!=o[c]&&p(o[c]);A||(c="value",void 0===m||m===e[c]&&("progress"!==Q||m)&&("option"!==Q||m===y[c])||_(e,c,m,y[c],!1),c="checked",void 0!==C&&C!==e[c]&&_(e,c,C,y[c],!1))}return e}function O(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,r)}}function x(e,t,r){var i,s;if(n.unmount&&n.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||O(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){n.__e(e,t)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(s=0;s<i.length;s++)i[s]&&x(i[s],t,r||"function"!=typeof e.type);r||null==e.__e||p(e.__e),e.__=e.__e=e.__d=void 0}function U(e,t,r){return this.constructor(e,r)}function P(e,t,i){var s,o,a,A;n.__&&n.__(e,t),o=(s="function"==typeof i)?null:i&&i.__k||t.__k,a=[],A=[],F(t,e=(!s&&i||t).__k=E(C,null,[e]),o||u,u,void 0!==t.ownerSVGElement,!s&&i?[i]:o?null:t.firstChild?r.call(t.childNodes):null,a,!s&&i?i:o?o.__e:t.firstChild,s,A),e.__d=void 0,M(a,e,A)}r=h.slice,n={__e:function(e,t,r,n){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},i=0,s=function(e){return null!=e&&null==e.constructor},y.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(f({},r),this.props)),e&&f(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),v(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),v(this))},y.prototype.render=C,o=[],A="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=function(e,t){return e.__v.__b-t.__v.__b},w.__r=0,c=0,t.Component=y,t.Fragment=C,t.cloneElement=function(e,t,n){var i,s,o,a,A=f({},e.props);for(o in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)"key"==o?i=t[o]:"ref"==o?s=t[o]:A[o]=void 0===t[o]&&void 0!==a?a[o]:t[o];return arguments.length>2&&(A.children=arguments.length>3?r.call(arguments,2):n),m(e.type,A,i||e.key,s||e.ref,null)},t.createContext=function(e,t){var r={__c:t="__cC"+c++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,n;return this.getChildContext||(r=[],(n={})[t]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&r.some(function(e){e.__e=!0,v(e)})},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return r.Provider.__=r.Consumer.contextType=r},t.createElement=E,t.createRef=function(){return{current:null}},t.h=E,t.hydrate=function e(t,r){P(t,r,e)},t.isValidElement=s,t.options=n,t.render=P,t.toChildArray=function e(t,r){return r=r||[],null==t||"boolean"==typeof t||(g(t)?t.some(function(t){e(t,r)}):r.push(t)),r}},29530:(e,t,r)=>{"use strict";var n=r(57628);e.exports=t=n.descriptor=n.Root.fromJSON(r(24552)).lookup(".google.protobuf");var i=n.Namespace,s=n.Root,o=n.Enum,a=n.Type,A=n.Field,l=n.MapField,c=n.OneOf,u=n.Service,h=n.Method;function d(e,r,n){var l=t.FileDescriptorProto.create({name:e.filename||(e.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});n&&(l.syntax=n),e instanceof s||(l.package=e.fullName.substring(1));for(var c,h=0;h<e.nestedArray.length;++h)(c=e._nestedArray[h])instanceof a?l.messageType.push(c.toDescriptor(n)):c instanceof o?l.enumType.push(c.toDescriptor()):c instanceof A?l.extension.push(c.toDescriptor(n)):c instanceof u?l.service.push(c.toDescriptor()):c instanceof i&&d(c,r,n);l.options=v(e.options,t.FileOptions),l.messageType.length+l.enumType.length+l.extension.length+l.service.length&&r.push(l)}s.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.FileDescriptorSet.decode(e));var r=new s;if(e.file)for(var n,i,l,c=0;c<e.file.length;++c){if(i=r,(n=e.file[c]).package&&n.package.length&&(i=r.define(n.package)),n.name&&n.name.length&&r.files.push(i.filename=n.name),n.messageType)for(l=0;l<n.messageType.length;++l)i.add(a.fromDescriptor(n.messageType[l],n.syntax));if(n.enumType)for(l=0;l<n.enumType.length;++l)i.add(o.fromDescriptor(n.enumType[l]));if(n.extension)for(l=0;l<n.extension.length;++l)i.add(A.fromDescriptor(n.extension[l]));if(n.service)for(l=0;l<n.service.length;++l)i.add(u.fromDescriptor(n.service[l]));var h=Q(n.options,t.FileOptions);if(h){var d=Object.keys(h);for(l=0;l<d.length;++l)i.setOption(d[l],h[d[l]])}}return r},s.prototype.toDescriptor=function(e){var r=t.FileDescriptorSet.create();return d(this,r.file,e),r};var g=0;a.fromDescriptor=function(e,r){"number"==typeof e.length&&(e=t.DescriptorProto.decode(e));var n,i=new a(e.name.length?e.name:"Type"+g++,Q(e.options,t.MessageOptions));if(e.oneofDecl)for(n=0;n<e.oneofDecl.length;++n)i.add(c.fromDescriptor(e.oneofDecl[n]));if(e.field)for(n=0;n<e.field.length;++n){var s=A.fromDescriptor(e.field[n],r);i.add(s),e.field[n].hasOwnProperty("oneofIndex")&&i.oneofsArray[e.field[n].oneofIndex].add(s)}if(e.extension)for(n=0;n<e.extension.length;++n)i.add(A.fromDescriptor(e.extension[n],r));if(e.nestedType)for(n=0;n<e.nestedType.length;++n)i.add(a.fromDescriptor(e.nestedType[n],r)),e.nestedType[n].options&&e.nestedType[n].options.mapEntry&&i.setOption("map_entry",!0);if(e.enumType)for(n=0;n<e.enumType.length;++n)i.add(o.fromDescriptor(e.enumType[n]));if(e.extensionRange&&e.extensionRange.length)for(n=0,i.extensions=[];n<e.extensionRange.length;++n)i.extensions.push([e.extensionRange[n].start,e.extensionRange[n].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(i.reserved=[],e.reservedRange)for(n=0;n<e.reservedRange.length;++n)i.reserved.push([e.reservedRange[n].start,e.reservedRange[n].end]);if(e.reservedName)for(n=0;n<e.reservedName.length;++n)i.reserved.push(e.reservedName[n])}return i},a.prototype.toDescriptor=function(e){var r,n,i=t.DescriptorProto.create({name:this.name});for(n=0;n<this.fieldsArray.length;++n)if(i.field.push(r=this._fieldsArray[n].toDescriptor(e)),this._fieldsArray[n]instanceof l){var s=B(this._fieldsArray[n].keyType,this._fieldsArray[n].resolvedKeyType),c=B(this._fieldsArray[n].type,this._fieldsArray[n].resolvedType),u=11===c||14===c?this._fieldsArray[n].resolvedType&&w(this.parent,this._fieldsArray[n].resolvedType)||this._fieldsArray[n].type:void 0;i.nestedType.push(t.DescriptorProto.create({name:r.typeName,field:[t.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),t.FieldDescriptorProto.create({name:"value",number:2,label:1,type:c,typeName:u})],options:t.MessageOptions.create({mapEntry:!0})}))}for(n=0;n<this.oneofsArray.length;++n)i.oneofDecl.push(this._oneofsArray[n].toDescriptor());for(n=0;n<this.nestedArray.length;++n)this._nestedArray[n]instanceof A?i.field.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof a?i.nestedType.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof o&&i.enumType.push(this._nestedArray[n].toDescriptor());if(this.extensions)for(n=0;n<this.extensions.length;++n)i.extensionRange.push(t.DescriptorProto.ExtensionRange.create({start:this.extensions[n][0],end:this.extensions[n][1]}));if(this.reserved)for(n=0;n<this.reserved.length;++n)"string"==typeof this.reserved[n]?i.reservedName.push(this.reserved[n]):i.reservedRange.push(t.DescriptorProto.ReservedRange.create({start:this.reserved[n][0],end:this.reserved[n][1]}));return i.options=v(this.options,t.MessageOptions),i};var f=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;A.fromDescriptor=function(e,r){if("number"==typeof e.length&&(e=t.DescriptorProto.decode(e)),"number"!=typeof e.number)throw Error("missing field id");switch(n=e.typeName&&e.typeName.length?e.typeName:y(e.type),e.label){case 1:i=void 0;break;case 2:i="required";break;case 3:i="repeated";break;default:throw Error("illegal label: "+e.label)}var n,i,s=e.extendee;void 0!==e.extendee&&(s=s.length?s:void 0);var o=new A(e.name.length?e.name:"field"+e.number,e.number,n,i,s);if(o.options=Q(e.options,t.FieldOptions),e.defaultValue&&e.defaultValue.length){var a=e.defaultValue;switch(a){case"true":case"TRUE":a=!0;break;case"false":case"FALSE":a=!1;break;default:f.exec(a)&&(a=parseInt(a))}o.setOption("default",a)}return I(e.type)&&("proto3"===r?e.options&&!e.options.packed&&o.setOption("packed",!1):e.options&&e.options.packed||o.setOption("packed",!1)),o},A.prototype.toDescriptor=function(e){var r=t.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=n.util.ucFirst(this.name),r.label=3;else{switch(r.type=B(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:r.typeName=this.resolvedType?w(this.parent,this.resolvedType):this.type}switch(this.rule){case"repeated":r.label=3;break;case"required":r.label=2;break;default:r.label=1}}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=v(this.options,t.FieldOptions),null!=this.options.default&&(r.defaultValue=String(this.options.default))),"proto3"===e?this.packed||((r.options||(r.options=t.FieldOptions.create())).packed=!1):this.packed&&((r.options||(r.options=t.FieldOptions.create())).packed=!0),r};var p=0;o.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.EnumDescriptorProto.decode(e));var r={};if(e.value)for(var n=0;n<e.value.length;++n){var i=e.value[n].name,s=e.value[n].number||0;r[i&&i.length?i:"NAME"+s]=s}return new o(e.name&&e.name.length?e.name:"Enum"+p++,r,Q(e.options,t.EnumOptions))},o.prototype.toDescriptor=function(){for(var e=[],r=0,n=Object.keys(this.values);r<n.length;++r)e.push(t.EnumValueDescriptorProto.create({name:n[r],number:this.values[n[r]]}));return t.EnumDescriptorProto.create({name:this.name,value:e,options:v(this.options,t.EnumOptions)})};var E=0;c.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.OneofDescriptorProto.decode(e)),new c(e.name&&e.name.length?e.name:"oneof"+E++)},c.prototype.toDescriptor=function(){return t.OneofDescriptorProto.create({name:this.name})};var m=0;u.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.ServiceDescriptorProto.decode(e));var r=new u(e.name&&e.name.length?e.name:"Service"+m++,Q(e.options,t.ServiceOptions));if(e.method)for(var n=0;n<e.method.length;++n)r.add(h.fromDescriptor(e.method[n]));return r},u.prototype.toDescriptor=function(){for(var e=[],r=0;r<this.methodsArray.length;++r)e.push(this._methodsArray[r].toDescriptor());return t.ServiceDescriptorProto.create({name:this.name,method:e,options:v(this.options,t.ServiceOptions)})};var C=0;function y(e){switch(e){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+e)}function I(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function B(e,t){switch(e){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof o)return 14;if(t instanceof a)return t.group?10:11;throw Error("illegal type: "+e)}function Q(e,t){if(e){for(var r,i,s,a=[],A=0;A<t.fieldsArray.length;++A)"uninterpretedOption"!==(i=(r=t._fieldsArray[A]).name)&&e.hasOwnProperty(i)&&(s=e[i],r.resolvedType instanceof o&&"number"==typeof s&&void 0!==r.resolvedType.valuesById[s]&&(s=r.resolvedType.valuesById[s]),a.push(b(i),s));return a.length?n.util.toObject(a):void 0}}function v(e,t){if(e){for(var r,i,s=[],o=0,a=Object.keys(e);o<a.length;++o)if(i=e[r=a[o]],"default"!==r){var A=t.fields[r];(A||(A=t.fields[r=n.util.camelCase(r)]))&&s.push(r,i)}return s.length?t.fromObject(n.util.toObject(s)):void 0}}function w(e,t){var r=e.fullName.split("."),n=t.fullName.split("."),o=0,a=0,A=n.length-1;if(!(e instanceof s)&&t instanceof i)for(;o<r.length&&a<A&&r[o]===n[a];){var l=t.lookup(r[o++],!0);if(null!==l&&l!==t)break;++a}else for(;o<r.length&&a<A&&r[o]===n[a];++o,++a);return n.slice(a).join(".")}function b(e){return e.substring(0,1)+e.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}h.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.MethodDescriptorProto.decode(e)),new h(e.name&&e.name.length?e.name:"Method"+C++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,Q(e.options,t.MethodOptions))},h.prototype.toDescriptor=function(){return t.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:v(this.options,t.MethodOptions)})}},57628:(e,t,r)=>{"use strict";e.exports=r(22378)},6353:e=>{"use strict";e.exports=n;var t,r=/\/|\./;function n(e,t){r.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),n[e]=t}n("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),n("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),n("timestamp",{Timestamp:t}),n("empty",{Empty:{fields:{}}}),n("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),n("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),n("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),n.get=function(e){return n[e]||null}},89981:(e,t,r)=>{"use strict";var n=t,i=r(56734),s=r(87454);function o(e,t,r,n){var s=!1;if(t.resolvedType){if(t.resolvedType instanceof i){e("switch(d%s){",n);for(var o=t.resolvedType.values,a=Object.keys(o),A=0;A<a.length;++A)o[a[A]]!==t.typeDefault||s||(e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),t.repeated||e("break"),s=!0),e("case%j:",a[A])("case %i:",o[a[A]])("m%s=%j",n,o[a[A]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n)}else{var l=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,l)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,l?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function a(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,r,n,n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var s=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,s?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=s.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var a=t[n].resolve(),A=s.safeProp(a.name);a.map?(r("if(d%s){",A)('if(typeof d%s!=="object")',A)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",A)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",A),o(r,a,n,A+"[ks[i]]")("}")("}")):a.repeated?(r("if(d%s){",A)("if(!Array.isArray(d%s))",A)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",A)("for(var i=0;i<d%s.length;++i){",A),o(r,a,n,A+"[i]")("}")("}")):(a.resolvedType instanceof i||r("if(d%s!=null){",A),o(r,a,n,A),a.resolvedType instanceof i||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(s.compareFieldsById);if(!t.length)return s.codegen()("return {}");for(var r=s.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],o=[],A=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?n:t[l].map?o:A).push(t[l]);if(n.length){for(r("if(o.arrays||o.defaults){"),l=0;l<n.length;++l)r("d%s=[]",s.safeProp(n[l].name));r("}")}if(o.length){for(r("if(o.objects||o.defaults){"),l=0;l<o.length;++l)r("d%s={}",s.safeProp(o[l].name));r("}")}if(A.length){for(r("if(o.defaults){"),l=0;l<A.length;++l){var c=A[l],u=s.safeProp(c.name);if(c.resolvedType instanceof i)r("d%s=o.enums===String?%j:%j",u,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",u)("}else")("d%s=o.longs===String?%j:%i",u,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var h="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",u,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",u,h)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",u,u)("}")}else r("d%s=%j",u,c.typeDefault)}r("}")}var d=!1;for(l=0;l<t.length;++l){var c=t[l],g=e._fieldsArray.indexOf(c),u=s.safeProp(c.name);c.map?(d||(d=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",u,u)("d%s={}",u)("for(var j=0;j<ks2.length;++j){"),a(r,c,g,u+"[ks2[j]]")("}")):c.repeated?(r("if(m%s&&m%s.length){",u,u)("d%s=[]",u)("for(var j=0;j<m%s.length;++j){",u),a(r,c,g,u+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",u,c.name),a(r,c,g,u),c.partOf&&r("if(o.oneofs)")("d%s=%j",s.safeProp(c.partOf.name),c.name)),r("}")}return r("return d")}},33951:(e,t,r)=>{"use strict";e.exports=a;var n=r(56734),i=r(50816),s=r(87454);function o(e){return"missing required '"+e.name+"'"}function a(e){var t=s.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var a=e._fieldsArray[r].resolve(),A=a.resolvedType instanceof n?"int32":a.type,l="m"+s.safeProp(a.name);t("case %i: {",a.id),a.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),void 0!==i.defaults[a.keyType]?t("k=%j",i.defaults[a.keyType]):t("k=null"),void 0!==i.defaults[A]?t("value=%j",i.defaults[A]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),void 0===i.basic[A]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",A),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),t(void 0!==i.long[a.keyType]?'%s[typeof k==="object"?util.longToHash(k):k]=value':"%s[k]=value",l)):a.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==i.packed[A]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,A)("}else"),void 0===i.basic[A]?t(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,r):t("%s.push(r.%s())",l,A)):void 0===i.basic[A]?t(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,r):t("%s=r.%s()",l,A),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var c=e._fieldsArray[r];c.required&&t("if(!m.hasOwnProperty(%j))",c.name)("throw util.ProtocolError(%j,{instance:m})",o(c))}return t("return m")}},95:(e,t,r)=>{"use strict";e.exports=a;var n=r(56734),i=r(50816),s=r(87454);function o(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}function a(e){for(var t,r,a=s.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),A=e.fieldsArray.slice().sort(s.compareFieldsById),t=0;t<A.length;++t){var l=A[t].resolve(),c=e._fieldsArray.indexOf(l),u=l.resolvedType instanceof n?"int32":l.type,h=i.basic[u];r="m"+s.safeProp(l.name),l.map?(a("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|i.mapKey[l.keyType],l.keyType),void 0===h?a("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",c,r):a(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,u,r),a("}")("}")):l.repeated?(a("if(%s!=null&&%s.length){",r,r),l.packed&&void 0!==i.packed[u]?a("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",u,r)("w.ldelim()"):(a("for(var i=0;i<%s.length;++i)",r),void 0===h?o(a,l,c,r+"[i]"):a("w.uint32(%i).%s(%s[i])",(l.id<<3|h)>>>0,u,r)),a("}")):(l.optional&&a("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,l.name),void 0===h?o(a,l,c,r):a("w.uint32(%i).%s(%s)",(l.id<<3|h)>>>0,u,r))}return a("return w")}},56734:(e,t,r)=>{"use strict";e.exports=o;var n=r(44184);((o.prototype=Object.create(n.prototype)).constructor=o).className="Enum";var i=r(98727),s=r(87454);function o(e,t,r,i,s,o){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=s||{},this.valuesOptions=o,this.reserved=void 0,t)for(var a=Object.keys(t),A=0;A<a.length;++A)"number"==typeof t[a[A]]&&(this.valuesById[this.values[a[A]]=t[a[A]]]=a[A])}o.fromJSON=function(e,t){var r=new o(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},o.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return s.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},o.prototype.add=function(e,t,r,n){if(!s.isString(e))throw TypeError("name must be a string");if(!s.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return n&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[e]=n||null),this.comments[e]=r||null,this},o.prototype.remove=function(e){if(!s.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this},o.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},o.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},98138:(e,t,r)=>{"use strict";e.exports=l;var n,i=r(44184);((l.prototype=Object.create(i.prototype)).constructor=l).className="Field";var s=r(56734),o=r(50816),a=r(87454),A=/^required|optional|repeated$/;function l(e,t,r,n,s,l,c){if(a.isObject(n)?(c=s,l=n,n=s=void 0):a.isObject(s)&&(c=l,l=s,s=void 0),i.call(this,e,l),!a.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!a.isString(r))throw TypeError("type must be a string");if(void 0!==n&&!A.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==s&&!a.isString(s))throw TypeError("extend must be a string");"proto3_optional"===n&&(n="optional"),this.rule=n&&"optional"!==n?n:void 0,this.type=r,this.id=t,this.extend=s||void 0,this.required="required"===n,this.optional=!this.required,this.repeated="repeated"===n,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==o.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=c}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),i.prototype.setOption.call(this,e,t,r)},l.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof n?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof s&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof s)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,e=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,e=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof n&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},l.d=function(e,t,r,n){return"function"==typeof t?t=a.decorateType(t).name:t&&"object"==typeof t&&(t=a.decorateEnum(t).name),function(i,s){a.decorateType(i.constructor).add(new l(s,e,t,r,{default:n}))}},l._configure=function(e){n=e}},22585:(e,t,r)=>{"use strict";var n=e.exports=r(21353);function i(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)}function s(e,t){return t||(t=new n.Root),t.loadSync(e)}n.build="light",n.load=i,n.loadSync=s,n.encoder=r(95),n.decoder=r(33951),n.verifier=r(77624),n.converter=r(89981),n.ReflectionObject=r(44184),n.Namespace=r(98727),n.Root=r(43852),n.Enum=r(56734),n.Type=r(15006),n.Field=r(98138),n.OneOf=r(47702),n.MapField=r(8751),n.Service=r(58719),n.Method=r(80898),n.Message=r(92038),n.wrappers=r(51904),n.types=r(50816),n.util=r(87454),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},21353:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(79822),n.BufferWriter=r(57039),n.Reader=r(1761),n.BufferReader=r(8282),n.util=r(58345),n.rpc=r(78346),n.roots=r(48091),n.configure=i,i()},22378:(e,t,r)=>{"use strict";var n=e.exports=r(22585);n.build="full",n.tokenize=r(71652),n.parse=r(46796),n.common=r(6353),n.Root._configure(n.Type,n.parse,n.common)},8751:(e,t,r)=>{"use strict";e.exports=o;var n=r(98138);((o.prototype=Object.create(n.prototype)).constructor=o).className="MapField";var i=r(50816),s=r(87454);function o(e,t,r,i,o,a){if(n.call(this,e,t,i,void 0,void 0,o,a),!s.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(e,t){return new o(e,t.id,t.keyType,t.type,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},o.d=function(e,t,r){return"function"==typeof r?r=s.decorateType(r).name:r&&"object"==typeof r&&(r=s.decorateEnum(r).name),function(n,i){s.decorateType(n.constructor).add(new o(i,e,t,r))}}},92038:(e,t,r)=>{"use strict";e.exports=i;var n=r(58345);function i(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},80898:(e,t,r)=>{"use strict";e.exports=s;var n=r(44184);((s.prototype=Object.create(n.prototype)).constructor=s).className="Method";var i=r(87454);function s(e,t,r,s,o,a,A,l,c){if(i.isObject(o)?(A=o,o=a=void 0):i.isObject(a)&&(A=a,a=void 0),!(void 0===t||i.isString(t)))throw TypeError("type must be a string");if(!i.isString(r))throw TypeError("requestType must be a string");if(!i.isString(s))throw TypeError("responseType must be a string");n.call(this,e,A),this.type=t||"rpc",this.requestType=r,this.requestStream=!!o||void 0,this.responseType=s,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l,this.parsedOptions=c}s.fromJSON=function(e,t){return new s(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},s.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},s.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},98727:(e,t,r)=>{"use strict";e.exports=u;var n,i,s,o=r(44184);((u.prototype=Object.create(o.prototype)).constructor=u).className="Namespace";var a=r(98138),A=r(87454),l=r(47702);function c(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function u(e,t){o.call(this,e,t),this.nested=void 0,this._nestedArray=null}function h(e){return e._nestedArray=null,e}u.fromJSON=function(e,t){return new u(e,t.options).addJSON(t.nested)},u.arrayToJSON=c,u.isReservedId=function(e,t){if(e){for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0}return!1},u.isReservedName=function(e,t){if(e){for(var r=0;r<e.length;++r)if(e[r]===t)return!0}return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=A.toArray(this.nested))}}),u.prototype.toJSON=function(e){return A.toObject(["options",this.options,"nested",c(this.nestedArray,e)])},u.prototype.addJSON=function(e){var t=this;if(e)for(var r,o=Object.keys(e),A=0;A<o.length;++A)r=e[o[A]],t.add((void 0!==r.fields?n.fromJSON:void 0!==r.values?s.fromJSON:void 0!==r.methods?i.fromJSON:void 0!==r.id?a.fromJSON:u.fromJSON)(o[A],r));return this},u.prototype.get=function(e){return this.nested&&this.nested[e]||null},u.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof s)return this.nested[e].values;throw Error("no such enum: "+e)},u.prototype.add=function(e){if(!(e instanceof a&&void 0!==e.extend||e instanceof n||e instanceof l||e instanceof s||e instanceof i||e instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(t instanceof u&&e instanceof u&&!(t instanceof n||t instanceof i)){for(var r=t.nestedArray,o=0;o<r.length;++o)e.add(r[o]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),h(this)},u.prototype.remove=function(e){if(!(e instanceof o))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),h(this)},u.prototype.define=function(e,t){if(A.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof u))throw Error("path conflicts with non-namespace objects")}else r.add(r=new u(n))}return t&&r.addJSON(t),r},u.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof u?e[t++].resolveAll():e[t++].resolve();return this.resolve()},u.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),A.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof u&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof u&&(n=this._nestedArray[i].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},u.prototype.lookupType=function(e){var t=this.lookup(e,[n]);if(!t)throw Error("no such type: "+e);return t},u.prototype.lookupEnum=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},u.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[n,s]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},u.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},u._configure=function(e,t,r){n=e,i=t,s=r}},44184:(e,t,r)=>{"use strict";e.exports=s,s.className="ReflectionObject";var n,i=r(87454);function s(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(s.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),s.prototype.toJSON=function(){throw Error()},s.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},s.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},s.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},s.prototype.getOption=function(e){if(this.options)return this.options[e]},s.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},s.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var s=n.find(function(t){return Object.prototype.hasOwnProperty.call(t,e)});if(s){var o=s[e];i.setProperty(o,r,t)}else(s={})[e]=i.setProperty({},r,t),n.push(s)}else{var a={};a[e]=t,n.push(a)}return this},s.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},s.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},s._configure=function(e){n=e}},47702:(e,t,r)=>{"use strict";e.exports=o;var n=r(44184);((o.prototype=Object.create(n.prototype)).constructor=o).className="OneOf";var i=r(98138),s=r(87454);function o(e,t,r,i){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),!(void 0===t||Array.isArray(t)))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}o.fromJSON=function(e,t){return new o(e,t.oneof,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},o.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},o.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},o.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}a(this)},o.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},o.d=function(){for(var e=Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){s.decorateType(t.constructor).add(new o(r,e)),Object.defineProperty(t,r,{get:s.oneOfGetter(e),set:s.oneOfSetter(e)})}}},46796:(e,t,r)=>{"use strict";e.exports=v,v.filename=null,v.defaults={keepCase:!1};var n=r(71652),i=r(43852),s=r(15006),o=r(98138),a=r(8751),A=r(47702),l=r(56734),c=r(58719),u=r(80898),h=r(50816),d=r(87454),g=/^[1-9][0-9]*$/,f=/^-?[1-9][0-9]*$/,p=/^0[x][0-9a-fA-F]+$/,E=/^-?0[x][0-9a-fA-F]+$/,m=/^0[0-7]+$/,C=/^-?0[0-7]+$/,y=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,I=/^[a-zA-Z_][a-zA-Z_0-9]*$/,B=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,Q=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function v(e,t,r){t instanceof i||(r=t,t=new i),r||(r=v.defaults);var w,b,S,k,R,D=r.preferTrailingComment||!1,_=n(e,r.alternateCommentMode||!1),T=_.next,N=_.push,F=_.peek,M=_.skip,L=_.cmnt,O=!0,x=!1,U=t,P=r.keepCase?function(e){return e}:d.camelCase;function J(e,t,r){var n=v.filename;return r||(v.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+_.line+")")}function V(){var e,t=[];do{if('"'!==(e=T())&&"'"!==e)throw J(e);t.push(T()),M(e),e=F()}while('"'===e||"'"===e);return t.join("")}function H(e){var t=T();switch(t){case"'":case'"':return N(t),V();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return j(t,!0)}catch(r){if(e&&B.test(t))return t;throw J(t,"value")}}function G(e,t){var r,n;do t&&('"'===(r=F())||"'"===r)?e.push(V()):e.push([n=Y(T()),M("to",!0)?Y(T()):n]);while(M(",",!0));M(";")}function j(e,t){var r=1;switch("-"===e.charAt(0)&&(r=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return 1/0*r;case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(g.test(e))return r*parseInt(e,10);if(p.test(e))return r*parseInt(e,16);if(m.test(e))return r*parseInt(e,8);if(y.test(e))return r*parseFloat(e);throw J(e,"number",t)}function Y(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw J(e,"id");if(f.test(e))return parseInt(e,10);if(E.test(e))return parseInt(e,16);if(C.test(e))return parseInt(e,8);throw J(e,"id")}function W(){if(void 0!==b)throw J("package");if(b=T(),!B.test(b))throw J(b,"name");U=U.define(b),M(";")}function q(){var e,t=F();switch(t){case"weak":e=k||(k=[]),T();break;case"public":T();default:e=S||(S=[])}t=V(),M(";"),e.push(t)}function K(){if(M("="),!(x="proto3"===(R=V()))&&"proto2"!==R)throw J(R,"syntax");M(";")}function z(e,t){switch(t){case"option":return es(e,t),M(";"),!0;case"message":return X(e,t),!0;case"enum":return en(e,t),!0;case"service":return ec(e,t),!0;case"extend":return eh(e,t),!0}return!1}function $(e,t,r){var n,i=_.line;if(e&&("string"!=typeof e.comment&&(e.comment=L()),e.filename=v.filename),M("{",!0)){for(;"}"!==(n=T());)t(n);M(";",!0)}else r&&r(),M(";"),e&&("string"!=typeof e.comment||D)&&(e.comment=L(i)||e.comment)}function X(e,t){if(!I.test(t=T()))throw J(t,"type name");var r=new s(t);$(r,function(e){if(!z(r,e))switch(e){case"map":et(r,e);break;case"required":case"repeated":Z(r,e);break;case"optional":x?Z(r,"proto3_optional"):Z(r,"optional");break;case"oneof":er(r,e);break;case"extensions":G(r.extensions||(r.extensions=[]));break;case"reserved":G(r.reserved||(r.reserved=[]),!0);break;default:if(!x||!B.test(e))throw J(e);N(e),Z(r,"optional")}}),e.add(r)}function Z(e,t,r){var n=T();if("group"===n){ee(e,t);return}for(;n.endsWith(".")||F().startsWith(".");)n+=T();if(!B.test(n))throw J(n,"type");var i=T();if(!I.test(i))throw J(i,"name");i=P(i),M("=");var s=new o(i,Y(T()),n,t,r);if($(s,function(e){if("option"===e)es(s,e),M(";");else throw J(e)},function(){el(s)}),"proto3_optional"===t){var a=new A("_"+i);s.setOption("proto3_optional",!0),a.add(s),e.add(a)}else e.add(s);!x&&s.repeated&&(void 0!==h.packed[n]||void 0===h.basic[n])&&s.setOption("packed",!1,!0)}function ee(e,t){var r=T();if(!I.test(r))throw J(r,"name");var n=d.lcFirst(r);r===n&&(r=d.ucFirst(r)),M("=");var i=Y(T()),a=new s(r);a.group=!0;var A=new o(n,i,r,t);A.filename=v.filename,$(a,function(e){switch(e){case"option":es(a,e),M(";");break;case"required":case"repeated":Z(a,e);break;case"optional":x?Z(a,"proto3_optional"):Z(a,"optional");break;case"message":X(a,e);break;case"enum":en(a,e);break;default:throw J(e)}}),e.add(a).add(A)}function et(e){M("<");var t=T();if(void 0===h.mapKey[t])throw J(t,"type");M(",");var r=T();if(!B.test(r))throw J(r,"type");M(">");var n=T();if(!I.test(n))throw J(n,"name");M("=");var i=new a(P(n),Y(T()),t,r);$(i,function(e){if("option"===e)es(i,e),M(";");else throw J(e)},function(){el(i)}),e.add(i)}function er(e,t){if(!I.test(t=T()))throw J(t,"name");var r=new A(P(t));$(r,function(e){"option"===e?(es(r,e),M(";")):(N(e),Z(r,"optional"))}),e.add(r)}function en(e,t){if(!I.test(t=T()))throw J(t,"name");var r=new l(t);$(r,function(e){switch(e){case"option":es(r,e),M(";");break;case"reserved":G(r.reserved||(r.reserved=[]),!0);break;default:ei(r,e)}}),e.add(r)}function ei(e,t){if(!I.test(t))throw J(t,"name");M("=");var r=Y(T(),!0),n={options:void 0};n.setOption=function(e,t){void 0===this.options&&(this.options={}),this.options[e]=t},$(n,function(e){if("option"===e)es(n,e),M(";");else throw J(e)},function(){el(n)}),e.add(t,r,n.comment,n.options)}function es(e,t){var r,n=M("(",!0);if(!B.test(t=T()))throw J(t,"name");var i=t,s=i;n&&(M(")"),s=i="("+i+")",t=F(),Q.test(t)&&(r=t.slice(1),i+=t,T())),M("=");var o=eo(e,i);eA(e,s,o,r)}function eo(e,t){if(M("{",!0)){for(var r={};!M("}",!0);){if(!I.test(w=T()))throw J(w,"name");if(null===w)throw J(w,"end of input");var n,i,s=w;if(M(":",!0),"{"===F())n=eo(e,t+"."+w);else if("["===F()){if(n=[],M("[",!0)){do i=H(!0),n.push(i);while(M(",",!0));M("]"),void 0!==i&&ea(e,t+"."+w,i)}}else n=H(!0),ea(e,t+"."+w,n);var o=r[s];o&&(n=[].concat(o).concat(n)),r[s]=n,M(",",!0),M(";",!0)}return r}var a=H(!0);return ea(e,t,a),a}function ea(e,t,r){e.setOption&&e.setOption(t,r)}function eA(e,t,r,n){e.setParsedOption&&e.setParsedOption(t,r,n)}function el(e){if(M("[",!0)){do es(e,"option");while(M(",",!0));M("]")}return e}function ec(e,t){if(!I.test(t=T()))throw J(t,"service name");var r=new c(t);$(r,function(e){if(!z(r,e)){if("rpc"===e)eu(r,e);else throw J(e)}}),e.add(r)}function eu(e,t){var r=L(),n=t;if(!I.test(t=T()))throw J(t,"name");var i,s,o,a,A=t;if(M("("),M("stream",!0)&&(s=!0),!B.test(t=T())||(i=t,M(")"),M("returns"),M("("),M("stream",!0)&&(a=!0),!B.test(t=T())))throw J(t);o=t,M(")");var l=new u(A,n,i,o,s,a);l.comment=r,$(l,function(e){if("option"===e)es(l,e),M(";");else throw J(e)}),e.add(l)}function eh(e,t){if(!B.test(t=T()))throw J(t,"reference");var r=t;$(null,function(t){switch(t){case"required":case"repeated":Z(e,t,r);break;case"optional":x?Z(e,"proto3_optional",r):Z(e,"optional",r);break;default:if(!x||!B.test(t))throw J(t);N(t),Z(e,"optional",r)}})}for(;null!==(w=T());)switch(w){case"package":if(!O)throw J(w);W();break;case"import":if(!O)throw J(w);q();break;case"syntax":if(!O)throw J(w);K();break;case"option":es(U,w),M(";");break;default:if(z(U,w)){O=!1;continue}throw J(w)}return v.filename=null,{package:b,imports:S,weakImports:k,syntax:R,root:t}}},1761:(e,t,r)=>{"use strict";e.exports=A;var n,i=r(58345),s=i.LongBits,o=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function A(e){this.buf=e,this.pos=0,this.len=e.length}var l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new A(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new A(e);throw Error("illegal buffer")},c=function(){return i.Buffer?function(e){return(A.create=function(e){return i.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function u(){var e=new s(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw a(this,8);return new s(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}A.create=c(),A.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,A.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return e}}(),A.prototype.int32=function(){return 0|this.uint32()},A.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},A.prototype.bool=function(){return 0!==this.uint32()},A.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},A.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},A.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},A.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},A.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=i.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},A.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},A.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do if(this.pos>=this.len)throw a(this);while(128&this.buf[this.pos++]);return this},A.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},A._configure=function(e){n=e,A.create=c(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(A.prototype,{int64:function(){return u.call(this)[t](!1)},uint64:function(){return u.call(this)[t](!0)},sint64:function(){return u.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},8282:(e,t,r)=>{"use strict";e.exports=s;var n=r(1761);(s.prototype=Object.create(n.prototype)).constructor=s;var i=r(58345);function s(e){n.call(this,e)}s._configure=function(){i.Buffer&&(s.prototype._slice=i.Buffer.prototype.slice)},s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},s._configure()},43852:(e,t,r)=>{"use strict";e.exports=u;var n,i,s,o=r(98727);((u.prototype=Object.create(o.prototype)).constructor=u).className="Root";var a=r(98138),A=r(56734),l=r(47702),c=r(87454);function u(e){o.call(this,"",e),this.deferred=[],this.files=[]}function h(){}u.fromJSON=function(e,t){return t||(t=new u),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},u.prototype.resolvePath=c.path.resolve,u.prototype.fetch=c.fetch,u.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var o=this;if(!n)return c.asPromise(e,o,t,r);var a=n===h;function A(e,t){if(n){if(a)throw e;var r=n;n=null,r(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in s)return r}return null}function u(e,t){try{if(c.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),c.isString(t)){i.filename=e;var n,s=i(t,o,r),u=0;if(s.imports)for(;u<s.imports.length;++u)(n=l(s.imports[u])||o.resolvePath(e,s.imports[u]))&&d(n);if(s.weakImports)for(u=0;u<s.weakImports.length;++u)(n=l(s.weakImports[u])||o.resolvePath(e,s.weakImports[u]))&&d(n,!0)}else o.setOptions(t.options).addJSON(t.nested)}catch(e){A(e)}a||g||A(null,o)}function d(e,t){if(e=l(e)||e,!(o.files.indexOf(e)>-1)){if(o.files.push(e),e in s){a?u(e,s[e]):(++g,setTimeout(function(){--g,u(e,s[e])}));return}if(a){var r;try{r=c.fs.readFileSync(e).toString("utf8")}catch(e){t||A(e);return}u(e,r)}else++g,o.fetch(e,function(r,i){if(--g,n){if(r){t?g||A(null,o):A(r);return}u(e,i)}})}}var g=0;c.isString(t)&&(t=[t]);for(var f,p=0;p<t.length;++p)(f=o.resolvePath("",t[p]))&&d(f);if(a)return o;g||A(null,o)},u.prototype.loadSync=function(e,t){if(!c.isNode)throw Error("not supported");return this.load(e,t,h)},u.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return o.prototype.resolveAll.call(this)};var d=/^[A-Z]/;function g(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new a(t.fullName,t.id,t.type,t.rule,void 0,t.options);return!!r.get(n.name)||(n.declaringField=t,t.extensionField=n,r.add(n),!0)}return!1}u.prototype._handleAdd=function(e){if(e instanceof a)void 0===e.extend||e.extensionField||g(this,e)||this.deferred.push(e);else if(e instanceof A)d.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof n)for(var t=0;t<this.deferred.length;)g(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);d.test(e.name)&&(e.parent[e.name]=e)}},u.prototype._handleRemove=function(e){if(e instanceof a){if(void 0!==e.extend){if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}}else if(e instanceof A)d.test(e.name)&&delete e.parent[e.name];else if(e instanceof o){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);d.test(e.name)&&delete e.parent[e.name]}},u._configure=function(e,t,r){n=e,i=t,s=r}},48091:e=>{"use strict";e.exports={}},78346:(e,t,r)=>{"use strict";t.Service=r(20296)},20296:(e,t,r)=>{"use strict";e.exports=i;var n=r(58345);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return n.asPromise(e,a,t,r,i,s);if(!a.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(e,r){if(e)return a.emit("error",e,t),o(e);if(null===r){a.end(!0);return}if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",r,t),o(null,r)})}catch(e){a.emit("error",e,t),setTimeout(function(){o(e)},0);return}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},58719:(e,t,r)=>{"use strict";e.exports=a;var n=r(98727);((a.prototype=Object.create(n.prototype)).constructor=a).className="Service";var i=r(80898),s=r(87454),o=r(78346);function a(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function A(e){return e._methodsArray=null,e}a.fromJSON=function(e,t){var r=new a(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),s=0;s<n.length;++s)r.add(i.fromJSON(n[s],t.methods[n[s]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},a.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&!!e.keepComments;return s.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}}),a.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},a.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},a.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,A(this)):n.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,A(this)}return n.prototype.remove.call(this,e)},a.prototype.create=function(e,t,r){for(var n,i=new o.Service(e,t,r),a=0;a<this.methodsArray.length;++a){var A=s.lcFirst((n=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");i[A]=s.codegen(["r","c"],s.isReserved(A)?A+"_":A)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return i}},71652:e=>{"use strict";e.exports=u;var t=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,n=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*/]+ */,s=/^\s*\*?\/*/,o=/\n/g,a=/\s/,A=/\\(.?)/g,l={0:"\x00",r:"\r",n:"\n",t:"	"};function c(e){return e.replace(A,function(e,t){switch(t){case"\\":case"":return t;default:return l[t]||""}})}function u(e,A){e=e.toString();var l=0,u=e.length,h=1,d=0,g={},f=[],p=null;function E(e){return Error("illegal "+e+" (line "+h+")")}function m(){var t="'"===p?n:r;t.lastIndex=l-1;var i=t.exec(e);if(!i)throw E("string");return l=t.lastIndex,v(p),p=null,c(i[1])}function C(t){return e.charAt(t)}function y(t,r,n){var a,l,c={type:e.charAt(t++),lineEmpty:!1,leading:n},u=t-(a=A?2:3);do if(--u<0||"\n"===(l=e.charAt(u))){c.lineEmpty=!0;break}while(" "===l||"	"===l);for(var f=e.substring(t,r).split(o),p=0;p<f.length;++p)f[p]=f[p].replace(A?s:i,"").trim();c.text=f.join("\n").trim(),g[h]=c,d=h}function I(t){var r=B(t),n=e.substring(t,r);return/^\s*\/\//.test(n)}function B(e){for(var t=e;t<u&&"\n"!==C(t);)t++;return t}function Q(){if(f.length>0)return f.shift();if(p)return m();var r,n,i,s,o,c=0===l;do{if(l===u)return null;for(r=!1;a.test(i=C(l));)if("\n"===i&&(c=!0,++h),++l===u)return null;if("/"===C(l)){if(++l===u)throw E("comment");if("/"===C(l)){if(A){if(s=l,o=!1,I(l-1)){o=!0;do if((l=B(l))===u||(l++,!c))break;while(I(l))}else l=Math.min(u,B(l)+1);o&&(y(s,l,c),c=!0),h++,r=!0}else{for(o="/"===C(s=l+1);"\n"!==C(++l);)if(l===u)return null;++l,o&&(y(s,l-1,c),c=!0),++h,r=!0}}else{if("*"!==(i=C(l)))return"/";s=l+1,o=A||"*"===C(s);do{if("\n"===i&&++h,++l===u)throw E("comment");n=i,i=C(l)}while("*"!==n||"/"!==i);++l,o&&(y(s,l-2,c),c=!0),r=!0}}}while(r);var d=l;if(t.lastIndex=0,!t.test(C(d++)))for(;d<u&&!t.test(C(d));)++d;var g=e.substring(l,l=d);return('"'===g||"'"===g)&&(p=g),g}function v(e){f.push(e)}function w(){if(!f.length){var e=Q();if(null===e)return null;v(e)}return f[0]}function b(e,t){var r=w();if(r===e)return Q(),!0;if(!t)throw E("token '"+r+"', '"+e+"' expected");return!1}function S(e){var t,r=null;return void 0===e?(t=g[h-1],delete g[h-1],t&&(A||"*"===t.type||t.lineEmpty)&&(r=t.leading?t.text:null)):(d<e&&w(),t=g[e],delete g[e],t&&!t.lineEmpty&&(A||"/"===t.type)&&(r=t.leading?null:t.text)),r}return Object.defineProperty({next:Q,peek:w,push:v,skip:b,cmnt:S},"line",{get:function(){return h}})}u.unescape=c},15006:(e,t,r)=>{"use strict";e.exports=m;var n=r(98727);((m.prototype=Object.create(n.prototype)).constructor=m).className="Type";var i=r(56734),s=r(47702),o=r(98138),a=r(8751),A=r(58719),l=r(92038),c=r(1761),u=r(79822),h=r(87454),d=r(95),g=r(33951),f=r(77624),p=r(89981),E=r(51904);function m(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function C(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(m.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=m.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,l,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:h.oneOfGetter(this._oneofsArray[r].oneof),set:h.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),m.generateConstructor=function(e){for(var t,r=h.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",h.safeProp(t.name)):t.repeated&&r("this%s=[]",h.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},m.fromJSON=function(e,t){var r=new m(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var l=Object.keys(t.fields),c=0;c<l.length;++c)r.add((void 0!==t.fields[l[c]].keyType?a.fromJSON:o.fromJSON)(l[c],t.fields[l[c]]));if(t.oneofs)for(l=Object.keys(t.oneofs),c=0;c<l.length;++c)r.add(s.fromJSON(l[c],t.oneofs[l[c]]));if(t.nested)for(l=Object.keys(t.nested),c=0;c<l.length;++c){var u=t.nested[l[c]];r.add((void 0!==u.id?o.fromJSON:void 0!==u.fields?m.fromJSON:void 0!==u.values?i.fromJSON:void 0!==u.methods?A.fromJSON:n.fromJSON)(l[c],u))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},m.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&!!e.keepComments;return h.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},m.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},m.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},m.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof o&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),C(this)}return e instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),C(this)):n.prototype.add.call(this,e)},m.prototype.remove=function(e){if(e instanceof o&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),C(this)}if(e instanceof s){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),C(this)}return n.prototype.remove.call(this,e)},m.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},m.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},m.prototype.create=function(e){return new this.ctor(e)},m.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=d(this)({Writer:u,types:t,util:h}),this.decode=g(this)({Reader:c,types:t,util:h}),this.verify=f(this)({types:t,util:h}),this.fromObject=p.fromObject(this)({types:t,util:h}),this.toObject=p.toObject(this)({types:t,util:h});var n=E[e];if(n){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(i),i.toObject=this.toObject,this.toObject=n.toObject.bind(i)}return this},m.prototype.encode=function(e,t){return this.setup().encode(e,t)},m.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},m.prototype.decode=function(e,t){return this.setup().decode(e,t)},m.prototype.decodeDelimited=function(e){return e instanceof c||(e=c.create(e)),this.decode(e,e.uint32())},m.prototype.verify=function(e){return this.setup().verify(e)},m.prototype.fromObject=function(e){return this.setup().fromObject(e)},m.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},m.d=function(e){return function(t){h.decorateType(t,e)}}},50816:(e,t,r)=>{"use strict";var n=t,i=r(87454),s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(e,t){var r=0,n={};for(t|=0;r<e.length;)n[s[r+t]]=e[r++];return n}n.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),n.long=o([0,0,0,1,1],7),n.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},87454:(e,t,r)=>{"use strict";var n,i,s=e.exports=r(58345),o=r(48091);s.codegen=r(74983),s.fetch=r(3824),s.path=r(59419),s.fs=s.inquire("fs"),s.toArray=function(e){if(e){for(var t=Object.keys(e),r=Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},s.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],i=e[r++];void 0!==i&&(t[n]=i)}return t};var a=/\\/g,A=/"/g;s.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},s.safeProp=function(e){return!/^[$\w_]+$/.test(e)||s.isReserved(e)?'["'+e.replace(a,"\\\\").replace(A,'\\"')+'"]':"."+e},s.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;s.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,function(e,t){return t.toUpperCase()})},s.compareFieldsById=function(e,t){return e.id-t.id},s.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(s.decorateRoot.remove(e.$type),e.$type.name=t,s.decorateRoot.add(e.$type)),e.$type;n||(n=r(15006));var i=new n(t||e.name);return s.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var c=0;s.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=r(56734));var t=new i("Enum"+c++,e);return s.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},s.setProperty=function(e,t,r){function n(e,t,r){var i=t.shift();if("__proto__"===i||"prototype"===i)return e;if(t.length>0)e[i]=n(e[i]||{},t,r);else{var s=e[i];s&&(r=[].concat(s).concat(r)),e[i]=r}return e}if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return n(e,t=t.split("."),r)},Object.defineProperty(s,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(r(43852)))}})},22321:(e,t,r)=>{"use strict";e.exports=i;var n=r(58345);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var o=i.zeroHash="\x00\x00\x00\x00\x00\x00\x00\x00";i.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):s},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===o?s:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},58345:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function s(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(25409),n.base64=r(1315),n.EventEmitter=r(13595),n.float=r(1708),n.inquire=r(23421),n.utf8=r(9774),n.pool=r(7474),n.LongBits=r(22321),n.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!!(null!=r&&e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=s,n.ProtocolError=s("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;if(!e){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},77624:(e,t,r)=>{"use strict";e.exports=A;var n=r(56734),i=r(87454);function s(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function o(e,t,r,i){if(t.resolvedType){if(t.resolvedType instanceof n){e("switch(%s){",i)("default:")("return%j",s(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),a=0;a<o.length;++a)e("case %i:",t.resolvedType.values[o[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",t.name+".")("}")}else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",s(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",s(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",s(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",s(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",s(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",s(t,"buffer"))}return e}function a(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",s(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",s(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",s(t,"boolean key"))}return e}function A(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,n={};r.length&&t("var p={}");for(var A=0;A<e.fieldsArray.length;++A){var l=e._fieldsArray[A].resolve(),c="m"+i.safeProp(l.name);if(l.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",c,l.name),l.map)t("if(!util.isObject(%s))",c)("return%j",s(l,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),a(t,l,"k[i]"),o(t,l,A,c+"[k[i]]")("}");else if(l.repeated)t("if(!Array.isArray(%s))",c)("return%j",s(l,"array"))("for(var i=0;i<%s.length;++i){",c),o(t,l,A,c+"[i]")("}");else{if(l.partOf){var u=i.safeProp(l.partOf.name);1===n[l.partOf.name]&&t("if(p%s===1)",u)("return%j",l.partOf.name+": multiple values"),n[l.partOf.name]=1,t("p%s=1",u)}o(t,l,A,c)}l.optional&&t("}")}return t("return null")}},51904:(e,t,r)=>{"use strict";var n=t,i=r(92038);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].slice(1):e["@type"];return -1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="type.googleapis.com/",n="",s="";if(t&&t.json&&e.type_url&&e.value){s=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var o=this.lookup(s);o&&(e=o.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var a=e.$type.toObject(e,t),A="."===e.$type.fullName[0]?e.$type.fullName.slice(1):e.$type.fullName;return""===n&&(n=r),s=n+A,a["@type"]=s,a}return this.toObject(e,t)}}},79822:(e,t,r)=>{"use strict";e.exports=u;var n,i=r(58345),s=i.LongBits,o=i.base64,a=i.utf8;function A(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function l(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function u(){this.len=0,this.head=new A(l,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(u.create=function(){return new n})()}:function(){return new u}};function d(e,t,r){t[r]=255&e}function g(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function p(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function E(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}u.create=h(),u.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(u.alloc=i.pool(u.alloc,i.Array.prototype.subarray)),u.prototype._push=function(e,t,r){return this.tail=this.tail.next=new A(e,t,r),this.len+=t,this},f.prototype=Object.create(A.prototype),f.prototype.fn=g,u.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},u.prototype.int32=function(e){return e<0?this._push(p,10,s.fromNumber(e)):this.uint32(e)},u.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},u.prototype.uint64=function(e){var t=s.from(e);return this._push(p,t.length(),t)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(e){var t=s.from(e).zzEncode();return this._push(p,t.length(),t)},u.prototype.bool=function(e){return this._push(d,1,e?1:0)},u.prototype.fixed32=function(e){return this._push(E,4,e>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(e){var t=s.from(e);return this._push(E,4,t.lo)._push(E,4,t.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},u.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var m=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};u.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var r=u.alloc(t=o.length(e));o.decode(e,r,0),e=r}return this.uint32(t)._push(m,t,e)},u.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(d,1,0)},u.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new A(l,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new A(l,0,0),this.len=0),this},u.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},u.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},u._configure=function(e){n=e,u.create=h(),n._configure()}},57039:(e,t,r)=>{"use strict";e.exports=s;var n=r(79822);(s.prototype=Object.create(n.prototype)).constructor=s;var i=r(58345);function s(){n.call(this)}function o(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}s._configure=function(){s.alloc=i._Buffer_allocUnsafe,s.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},s.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s.writeBytesBuffer,t,e),this},s.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},s._configure()},48403:(e,t,r)=>{"use strict";var n;let i;let s=r(12148),o=r(71161),a=r(29615),A=r(45557),l=r(19397),c=r(71453),u=r(55909),{InvalidArgumentError:h}=a,d=r(39385),g=r(67301),f=r(107),p=r(50958),E=r(54397),m=r(19164),C=r(84319),y=r(13399),{getGlobalDispatcher:I,setGlobalDispatcher:B}=r(50585),Q=r(37755),v=r(58493),w=r(10970);try{r(6113),i=!0}catch{i=!1}function b(e){return(t,r,n)=>{if("function"==typeof r&&(n=r,r=null),!t||"string"!=typeof t&&"object"!=typeof t&&!(t instanceof URL))throw new h("invalid url");if(null!=r&&"object"!=typeof r)throw new h("invalid opts");if(r&&null!=r.path){if("string"!=typeof r.path)throw new h("invalid opts.path");let e=r.path;r.path.startsWith("/")||(e=`/${e}`),t=new URL(u.parseOrigin(t).origin+e)}else r||(r="object"==typeof t?t:{}),t=u.parseURL(t);let{agent:i,dispatcher:s=I()}=r;if(i)throw new h("unsupported opts.agent. Did you mean opts.client?");return e.call(s,{...r,origin:t.origin,path:t.search?`${t.pathname}${t.search}`:t.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}if(Object.assign(o.prototype,d),n=o,n=s,n=A,n=l,n=c,n=C,n=y,n=Q,n=v,n=w,n=g,n=a,n=B,n=I,u.nodeMajor>16||16===u.nodeMajor&&u.nodeMinor>=8){let t=null;e.exports.he=async function(e){t||(t=r(14713).fetch);try{return await t(...arguments)}catch(e){throw"object"==typeof e&&Error.captureStackTrace(e,this),e}},e.exports.Headers=r(85887).Headers,e.exports.Response=r(83748).Response,r(50646).Request,r(35217).FormData,r(81575).File,r(29009).FileReader;let{setGlobalOrigin:i,getGlobalOrigin:s}=r(17901);n=i,n=s;let{CacheStorage:o}=r(98200),{kConstruct:a}=r(88206);n=new o(a)}if(u.nodeMajor>=16){let{deleteCookie:e,getCookies:t,getSetCookies:i,setCookie:s}=r(97153);n=e,n=t,n=i,n=s;let{parseMIMEType:o,serializeAMimeType:a}=r(93804);n=o,n=a}if(u.nodeMajor>=18&&i){let{WebSocket:e}=r(87696);n=e}n=b(d.request),n=b(d.stream),n=b(d.pipeline),n=b(d.connect),n=b(d.upgrade),n=f,n=E,n=p,n=m},71453:(e,t,r)=>{"use strict";let{InvalidArgumentError:n}=r(29615),{kClients:i,kRunning:s,kClose:o,kDestroy:a,kDispatch:A,kInterceptors:l}=r(44466),c=r(59515),u=r(45557),h=r(12148),d=r(55909),g=r(10970),{WeakRef:f,FinalizationRegistry:p}=r(39149)(),E=Symbol("onConnect"),m=Symbol("onDisconnect"),C=Symbol("onConnectionError"),y=Symbol("maxRedirections"),I=Symbol("onDrain"),B=Symbol("factory"),Q=Symbol("finalizer"),v=Symbol("options");function w(e,t){return t&&1===t.connections?new h(e,t):new u(e,t)}class b extends c{constructor({factory:e=w,maxRedirections:t=0,connect:r,...s}={}){if(super(),"function"!=typeof e)throw new n("factory must be a function.");if(null!=r&&"function"!=typeof r&&"object"!=typeof r)throw new n("connect must be a function or an object");if(!Number.isInteger(t)||t<0)throw new n("maxRedirections must be a positive number");r&&"function"!=typeof r&&(r={...r}),this[l]=s.interceptors&&s.interceptors.Agent&&Array.isArray(s.interceptors.Agent)?s.interceptors.Agent:[g({maxRedirections:t})],this[v]={...d.deepClone(s),connect:r},this[v].interceptors=s.interceptors?{...s.interceptors}:void 0,this[y]=t,this[B]=e,this[i]=new Map,this[Q]=new p(e=>{let t=this[i].get(e);void 0!==t&&void 0===t.deref()&&this[i].delete(e)});let o=this;this[I]=(e,t)=>{o.emit("drain",e,[o,...t])},this[E]=(e,t)=>{o.emit("connect",e,[o,...t])},this[m]=(e,t,r)=>{o.emit("disconnect",e,[o,...t],r)},this[C]=(e,t,r)=>{o.emit("connectionError",e,[o,...t],r)}}get[s](){let e=0;for(let t of this[i].values()){let r=t.deref();r&&(e+=r[s])}return e}[A](e,t){let r;if(e.origin&&("string"==typeof e.origin||e.origin instanceof URL))r=String(e.origin);else throw new n("opts.origin must be a non-empty string or URL.");let s=this[i].get(r),o=s?s.deref():null;return o||(o=this[B](e.origin,this[v]).on("drain",this[I]).on("connect",this[E]).on("disconnect",this[m]).on("connectionError",this[C]),this[i].set(r,new f(o)),this[Q].register(o,r)),o.dispatch(e,t)}async [o](){let e=[];for(let t of this[i].values()){let r=t.deref();r&&e.push(r.close())}await Promise.all(e)}async [a](e){let t=[];for(let r of this[i].values()){let n=r.deref();n&&t.push(n.destroy(e))}await Promise.all(t)}}e.exports=b},28964:(e,t,r)=>{"use strict";let{addAbortListener:n}=r(55909),{RequestAbortedError:i}=r(29615),s=Symbol("kListener"),o=Symbol("kSignal");function a(e){e.abort?e.abort():e.onError(new i)}function A(e,t){if(e[o]=null,e[s]=null,t){if(t.aborted){a(e);return}e[o]=t,e[s]=()=>{a(e)},n(e[o],e[s])}}function l(e){e[o]&&("removeEventListener"in e[o]?e[o].removeEventListener("abort",e[s]):e[o].removeListener("abort",e[s]),e[o]=null,e[s]=null)}e.exports={addSignal:A,removeSignal:l}},53004:(e,t,r)=>{"use strict";let{AsyncResource:n}=r(50852),{InvalidArgumentError:i,RequestAbortedError:s,SocketError:o}=r(29615),a=r(55909),{addSignal:A,removeSignal:l}=r(28964);class c extends n{constructor(e,t){if(!e||"object"!=typeof e)throw new i("invalid opts");if("function"!=typeof t)throw new i("invalid callback");let{signal:r,opaque:n,responseHeaders:s}=e;if(r&&"function"!=typeof r.on&&"function"!=typeof r.addEventListener)throw new i("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=n||null,this.responseHeaders=s||null,this.callback=t,this.abort=null,A(this,r)}onConnect(e,t){if(!this.callback)throw new s;this.abort=e,this.context=t}onHeaders(){throw new o("bad connect",null)}onUpgrade(e,t,r){let{callback:n,opaque:i,context:s}=this;l(this),this.callback=null;let o=t;null!=o&&(o="raw"===this.responseHeaders?a.parseRawHeaders(t):a.parseHeaders(t)),this.runInAsyncScope(n,null,null,{statusCode:e,headers:o,socket:r,opaque:i,context:s})}onError(e){let{callback:t,opaque:r}=this;l(this),t&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(t,null,e,{opaque:r})}))}}function u(e,t){if(void 0===t)return new Promise((t,r)=>{u.call(this,e,(e,n)=>e?r(e):t(n))});try{let r=new c(e,t);this.dispatch({...e,method:"CONNECT"},r)}catch(n){if("function"!=typeof t)throw n;let r=e&&e.opaque;queueMicrotask(()=>t(n,{opaque:r}))}}e.exports=u},31365:(e,t,r)=>{"use strict";let{Readable:n,Duplex:i,PassThrough:s}=r(12781),{InvalidArgumentError:o,InvalidReturnValueError:a,RequestAbortedError:A}=r(29615),l=r(55909),{AsyncResource:c}=r(50852),{addSignal:u,removeSignal:h}=r(28964),d=r(39491),g=Symbol("resume");class f extends n{constructor(){super({autoDestroy:!0}),this[g]=null}_read(){let{[g]:e}=this;e&&(this[g]=null,e())}_destroy(e,t){this._read(),t(e)}}class p extends n{constructor(e){super({autoDestroy:!0}),this[g]=e}_read(){this[g]()}_destroy(e,t){e||this._readableState.endEmitted||(e=new A),t(e)}}class E extends c{constructor(e,t){if(!e||"object"!=typeof e)throw new o("invalid opts");if("function"!=typeof t)throw new o("invalid handler");let{signal:r,method:n,opaque:s,onInfo:a,responseHeaders:c}=e;if(r&&"function"!=typeof r.on&&"function"!=typeof r.addEventListener)throw new o("signal must be an EventEmitter or EventTarget");if("CONNECT"===n)throw new o("invalid method");if(a&&"function"!=typeof a)throw new o("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=c||null,this.handler=t,this.abort=null,this.context=null,this.onInfo=a||null,this.req=new f().on("error",l.nop),this.ret=new i({readableObjectMode:e.objectMode,autoDestroy:!0,read:()=>{let{body:e}=this;e&&e.resume&&e.resume()},write:(e,t,r)=>{let{req:n}=this;n.push(e,t)||n._readableState.destroyed?r():n[g]=r},destroy:(e,t)=>{let{body:r,req:n,res:i,ret:s,abort:o}=this;e||s._readableState.endEmitted||(e=new A),o&&e&&o(),l.destroy(r,e),l.destroy(n,e),l.destroy(i,e),h(this),t(e)}}).on("prefinish",()=>{let{req:e}=this;e.push(null)}),this.res=null,u(this,r)}onConnect(e,t){let{ret:r,res:n}=this;if(d(!n,"pipeline cannot be retried"),r.destroyed)throw new A;this.abort=e,this.context=t}onHeaders(e,t,r){let n;let{opaque:i,handler:s,context:o}=this;if(e<200){if(this.onInfo){let r="raw"===this.responseHeaders?l.parseRawHeaders(t):l.parseHeaders(t);this.onInfo({statusCode:e,headers:r})}return}this.res=new p(r);try{this.handler=null;let r="raw"===this.responseHeaders?l.parseRawHeaders(t):l.parseHeaders(t);n=this.runInAsyncScope(s,null,{statusCode:e,headers:r,opaque:i,body:this.res,context:o})}catch(e){throw this.res.on("error",l.nop),e}if(!n||"function"!=typeof n.on)throw new a("expected Readable");n.on("data",e=>{let{ret:t,body:r}=this;!t.push(e)&&r.pause&&r.pause()}).on("error",e=>{let{ret:t}=this;l.destroy(t,e)}).on("end",()=>{let{ret:e}=this;e.push(null)}).on("close",()=>{let{ret:e}=this;e._readableState.ended||l.destroy(e,new A)}),this.body=n}onData(e){let{res:t}=this;return t.push(e)}onComplete(e){let{res:t}=this;t.push(null)}onError(e){let{ret:t}=this;this.handler=null,l.destroy(t,e)}}function m(e,t){try{let r=new E(e,t);return this.dispatch({...e,body:r.req},r),r.ret}catch(e){return new s().destroy(e)}}e.exports=m},72053:(e,t,r)=>{"use strict";let n=r(63295),{InvalidArgumentError:i,RequestAbortedError:s}=r(29615),o=r(55909),{getResolveErrorBodyCallback:a}=r(9329),{AsyncResource:A}=r(50852),{addSignal:l,removeSignal:c}=r(28964);class u extends A{constructor(e,t){if(!e||"object"!=typeof e)throw new i("invalid opts");let{signal:r,method:n,opaque:s,body:a,onInfo:A,responseHeaders:c,throwOnError:u,highWaterMark:h}=e;try{if("function"!=typeof t)throw new i("invalid callback");if(h&&("number"!=typeof h||h<0))throw new i("invalid highWaterMark");if(r&&"function"!=typeof r.on&&"function"!=typeof r.addEventListener)throw new i("signal must be an EventEmitter or EventTarget");if("CONNECT"===n)throw new i("invalid method");if(A&&"function"!=typeof A)throw new i("invalid onInfo callback");super("UNDICI_REQUEST")}catch(e){throw o.isStream(a)&&o.destroy(a.on("error",o.nop),e),e}this.responseHeaders=c||null,this.opaque=s||null,this.callback=t,this.res=null,this.abort=null,this.body=a,this.trailers={},this.context=null,this.onInfo=A||null,this.throwOnError=u,this.highWaterMark=h,o.isStream(a)&&a.on("error",e=>{this.onError(e)}),l(this,r)}onConnect(e,t){if(!this.callback)throw new s;this.abort=e,this.context=t}onHeaders(e,t,r,i){let{callback:s,opaque:A,abort:l,context:c,responseHeaders:u,highWaterMark:h}=this,d="raw"===u?o.parseRawHeaders(t):o.parseHeaders(t);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:d});return}let g=("raw"===u?o.parseHeaders(t):d)["content-type"],f=new n({resume:r,abort:l,contentType:g,highWaterMark:h});this.callback=null,this.res=f,null!==s&&(this.throwOnError&&e>=400?this.runInAsyncScope(a,null,{callback:s,body:f,contentType:g,statusCode:e,statusMessage:i,headers:d}):this.runInAsyncScope(s,null,null,{statusCode:e,headers:d,trailers:this.trailers,opaque:A,body:f,context:c}))}onData(e){let{res:t}=this;return t.push(e)}onComplete(e){let{res:t}=this;c(this),o.parseHeaders(e,this.trailers),t.push(null)}onError(e){let{res:t,callback:r,body:n,opaque:i}=this;c(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:i})})),t&&(this.res=null,queueMicrotask(()=>{o.destroy(t,e)})),n&&(this.body=null,o.destroy(n,e))}}function h(e,t){if(void 0===t)return new Promise((t,r)=>{h.call(this,e,(e,n)=>e?r(e):t(n))});try{this.dispatch(e,new u(e,t))}catch(n){if("function"!=typeof t)throw n;let r=e&&e.opaque;queueMicrotask(()=>t(n,{opaque:r}))}}e.exports=h,e.exports.RequestHandler=u},28576:(e,t,r)=>{"use strict";let{finished:n,PassThrough:i}=r(12781),{InvalidArgumentError:s,InvalidReturnValueError:o,RequestAbortedError:a}=r(29615),A=r(55909),{getResolveErrorBodyCallback:l}=r(9329),{AsyncResource:c}=r(50852),{addSignal:u,removeSignal:h}=r(28964);class d extends c{constructor(e,t,r){if(!e||"object"!=typeof e)throw new s("invalid opts");let{signal:n,method:i,opaque:o,body:a,onInfo:l,responseHeaders:c,throwOnError:h}=e;try{if("function"!=typeof r)throw new s("invalid callback");if("function"!=typeof t)throw new s("invalid factory");if(n&&"function"!=typeof n.on&&"function"!=typeof n.addEventListener)throw new s("signal must be an EventEmitter or EventTarget");if("CONNECT"===i)throw new s("invalid method");if(l&&"function"!=typeof l)throw new s("invalid onInfo callback");super("UNDICI_STREAM")}catch(e){throw A.isStream(a)&&A.destroy(a.on("error",A.nop),e),e}this.responseHeaders=c||null,this.opaque=o||null,this.factory=t,this.callback=r,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=a,this.onInfo=l||null,this.throwOnError=h||!1,A.isStream(a)&&a.on("error",e=>{this.onError(e)}),u(this,n)}onConnect(e,t){if(!this.callback)throw new a;this.abort=e,this.context=t}onHeaders(e,t,r,s){let a;let{factory:c,opaque:u,context:h,callback:d,responseHeaders:g}=this,f="raw"===g?A.parseRawHeaders(t):A.parseHeaders(t);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:f});return}if(this.factory=null,this.throwOnError&&e>=400){let r=("raw"===g?A.parseHeaders(t):f)["content-type"];a=new i,this.callback=null,this.runInAsyncScope(l,null,{callback:d,body:a,contentType:r,statusCode:e,statusMessage:s,headers:f})}else{if(null===c)return;if(!(a=this.runInAsyncScope(c,null,{statusCode:e,headers:f,opaque:u,context:h}))||"function"!=typeof a.write||"function"!=typeof a.end||"function"!=typeof a.on)throw new o("expected Writable");n(a,{readable:!1},e=>{let{callback:t,res:r,opaque:n,trailers:i,abort:s}=this;this.res=null,(e||!r.readable)&&A.destroy(r,e),this.callback=null,this.runInAsyncScope(t,null,e||null,{opaque:n,trailers:i}),e&&s()})}return a.on("drain",r),this.res=a,!0!==(void 0!==a.writableNeedDrain?a.writableNeedDrain:a._writableState&&a._writableState.needDrain)}onData(e){let{res:t}=this;return!t||t.write(e)}onComplete(e){let{res:t}=this;h(this),t&&(this.trailers=A.parseHeaders(e),t.end())}onError(e){let{res:t,callback:r,opaque:n,body:i}=this;h(this),this.factory=null,t?(this.res=null,A.destroy(t,e)):r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})})),i&&(this.body=null,A.destroy(i,e))}}function g(e,t,r){if(void 0===r)return new Promise((r,n)=>{g.call(this,e,t,(e,t)=>e?n(e):r(t))});try{this.dispatch(e,new d(e,t,r))}catch(n){if("function"!=typeof r)throw n;let t=e&&e.opaque;queueMicrotask(()=>r(n,{opaque:t}))}}e.exports=g},65714:(e,t,r)=>{"use strict";let{InvalidArgumentError:n,RequestAbortedError:i,SocketError:s}=r(29615),{AsyncResource:o}=r(50852),a=r(55909),{addSignal:A,removeSignal:l}=r(28964),c=r(39491);class u extends o{constructor(e,t){if(!e||"object"!=typeof e)throw new n("invalid opts");if("function"!=typeof t)throw new n("invalid callback");let{signal:r,opaque:i,responseHeaders:s}=e;if(r&&"function"!=typeof r.on&&"function"!=typeof r.addEventListener)throw new n("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=t,this.abort=null,this.context=null,A(this,r)}onConnect(e,t){if(!this.callback)throw new i;this.abort=e,this.context=null}onHeaders(){throw new s("bad upgrade",null)}onUpgrade(e,t,r){let{callback:n,opaque:i,context:s}=this;c.strictEqual(e,101),l(this),this.callback=null;let o="raw"===this.responseHeaders?a.parseRawHeaders(t):a.parseHeaders(t);this.runInAsyncScope(n,null,null,{headers:o,socket:r,opaque:i,context:s})}onError(e){let{callback:t,opaque:r}=this;l(this),t&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(t,null,e,{opaque:r})}))}}function h(e,t){if(void 0===t)return new Promise((t,r)=>{h.call(this,e,(e,n)=>e?r(e):t(n))});try{let r=new u(e,t);this.dispatch({...e,method:e.method||"GET",upgrade:e.protocol||"Websocket"},r)}catch(n){if("function"!=typeof t)throw n;let r=e&&e.opaque;queueMicrotask(()=>t(n,{opaque:r}))}}e.exports=h},39385:(e,t,r)=>{"use strict";e.exports.request=r(72053),e.exports.stream=r(28576),e.exports.pipeline=r(31365),e.exports.upgrade=r(65714),e.exports.connect=r(53004)},63295:(e,t,r)=>{"use strict";let n;let i=r(39491),{Readable:s}=r(12781),{RequestAbortedError:o,NotSupportedError:a,InvalidArgumentError:A}=r(29615),l=r(55909),{ReadableStreamFrom:c,toUSVString:u}=r(55909),h=Symbol("kConsume"),d=Symbol("kReading"),g=Symbol("kBody"),f=Symbol("abort"),p=Symbol("kContentType"),E=()=>{};function m(e){return e[g]&&!0===e[g].locked||e[h]}function C(e){return l.isDisturbed(e)||m(e)}async function y(e,t){if(C(e))throw TypeError("unusable");return i(!e[h]),new Promise((r,n)=>{e[h]={type:t,stream:e,resolve:r,reject:n,length:0,body:[]},e.on("error",function(e){v(this[h],e)}).on("close",function(){null!==this[h].body&&v(this[h],new o)}),process.nextTick(I,e[h])})}function I(e){if(null===e.body)return;let{_readableState:t}=e.stream;for(let r of t.buffer)Q(e,r);for(t.endEmitted?B(this[h]):e.stream.on("end",function(){B(this[h])}),e.stream.resume();null!=e.stream.read(););}function B(e){let{type:t,body:i,resolve:s,stream:o,length:a}=e;try{if("text"===t)s(u(Buffer.concat(i)));else if("json"===t)s(JSON.parse(Buffer.concat(i)));else if("arrayBuffer"===t){let e=new Uint8Array(a),t=0;for(let r of i)e.set(r,t),t+=r.byteLength;s(e.buffer)}else"blob"===t&&(n||(n=r(14300).Blob),s(new n(i,{type:o[p]})));v(e)}catch(e){o.destroy(e)}}function Q(e,t){e.length+=t.length,e.body.push(t)}function v(e,t){null!==e.body&&(t?e.reject(t):e.resolve(),e.type=null,e.stream=null,e.resolve=null,e.reject=null,e.length=0,e.body=null)}e.exports=class extends s{constructor({resume:e,abort:t,contentType:r="",highWaterMark:n=65536}){super({autoDestroy:!0,read:e,highWaterMark:n}),this._readableState.dataEmitted=!1,this[f]=t,this[h]=null,this[g]=null,this[p]=r,this[d]=!1}destroy(e){return this.destroyed?this:(e||this._readableState.endEmitted||(e=new o),e&&this[f](),super.destroy(e))}emit(e,...t){return"data"===e?this._readableState.dataEmitted=!0:"error"===e&&(this._readableState.errorEmitted=!0),super.emit(e,...t)}on(e,...t){return("data"===e||"readable"===e)&&(this[d]=!0),super.on(e,...t)}addListener(e,...t){return this.on(e,...t)}off(e,...t){let r=super.off(e,...t);return("data"===e||"readable"===e)&&(this[d]=this.listenerCount("data")>0||this.listenerCount("readable")>0),r}removeListener(e,...t){return this.off(e,...t)}push(e){return this[h]&&null!==e&&0===this.readableLength?(Q(this[h],e),!this[d]||super.push(e)):super.push(e)}async text(){return y(this,"text")}async json(){return y(this,"json")}async blob(){return y(this,"blob")}async arrayBuffer(){return y(this,"arrayBuffer")}async formData(){throw new a}get bodyUsed(){return l.isDisturbed(this)}get body(){return!this[g]&&(this[g]=c(this),this[h]&&(this[g].getReader(),i(this[g].locked))),this[g]}dump(e){let t=e&&Number.isFinite(e.limit)?e.limit:262144,r=e&&e.signal;if(r)try{if("object"!=typeof r||!("aborted"in r))throw new A("signal must be an AbortSignal");l.throwIfAborted(r)}catch(e){return Promise.reject(e)}return this.closed?Promise.resolve(null):new Promise((e,n)=>{let i=r?l.addAbortListener(r,()=>{this.destroy()}):E;this.on("close",function(){i(),r&&r.aborted?n(r.reason||Object.assign(Error("The operation was aborted"),{name:"AbortError"})):e(null)}).on("error",E).on("data",function(e){(t-=e.length)<=0&&this.destroy()}).resume()})}}},9329:(e,t,r)=>{"use strict";let n=r(39491),{ResponseStatusCodeError:i}=r(29615),{toUSVString:s}=r(55909);async function o({callback:e,body:t,contentType:r,statusCode:o,statusMessage:a,headers:A}){n(t);let l=[],c=0;for await(let e of t)if(l.push(e),(c+=e.length)>131072){l=null;break}if(204===o||!r||!l){process.nextTick(e,new i(`Response status code ${o}${a?`: ${a}`:""}`,o,A));return}try{if(r.startsWith("application/json")){let t=JSON.parse(s(Buffer.concat(l)));process.nextTick(e,new i(`Response status code ${o}${a?`: ${a}`:""}`,o,A,t));return}if(r.startsWith("text/")){let t=s(Buffer.concat(l));process.nextTick(e,new i(`Response status code ${o}${a?`: ${a}`:""}`,o,A,t));return}}catch(e){}process.nextTick(e,new i(`Response status code ${o}${a?`: ${a}`:""}`,o,A))}e.exports={getResolveErrorBodyCallback:o}},19397:(e,t,r)=>{"use strict";let{BalancedPoolMissingUpstreamError:n,InvalidArgumentError:i}=r(29615),{PoolBase:s,kClients:o,kNeedDrain:a,kAddClient:A,kRemoveClient:l,kGetDispatcher:c}=r(9953),u=r(45557),{kUrl:h,kInterceptors:d}=r(44466),{parseOrigin:g}=r(55909),f=Symbol("factory"),p=Symbol("options"),E=Symbol("kGreatestCommonDivisor"),m=Symbol("kCurrentWeight"),C=Symbol("kIndex"),y=Symbol("kWeight"),I=Symbol("kMaxWeightPerServer"),B=Symbol("kErrorPenalty");function Q(e,t){return 0===t?e:Q(t,e%t)}function v(e,t){return new u(e,t)}class w extends s{constructor(e=[],{factory:t=v,...r}={}){if(super(),this[p]=r,this[C]=-1,this[m]=0,this[I]=this[p].maxWeightPerServer||100,this[B]=this[p].errorPenalty||15,Array.isArray(e)||(e=[e]),"function"!=typeof t)throw new i("factory must be a function.");for(let n of(this[d]=r.interceptors&&r.interceptors.BalancedPool&&Array.isArray(r.interceptors.BalancedPool)?r.interceptors.BalancedPool:[],this[f]=t,e))this.addUpstream(n);this._updateBalancedPoolStats()}addUpstream(e){let t=g(e).origin;if(this[o].find(e=>e[h].origin===t&&!0!==e.closed&&!0!==e.destroyed))return this;let r=this[f](t,Object.assign({},this[p]));for(let e of(this[A](r),r.on("connect",()=>{r[y]=Math.min(this[I],r[y]+this[B])}),r.on("connectionError",()=>{r[y]=Math.max(1,r[y]-this[B]),this._updateBalancedPoolStats()}),r.on("disconnect",(...e)=>{let t=e[2];t&&"UND_ERR_SOCKET"===t.code&&(r[y]=Math.max(1,r[y]-this[B]),this._updateBalancedPoolStats())}),this[o]))e[y]=this[I];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){this[E]=this[o].map(e=>e[y]).reduce(Q,0)}removeUpstream(e){let t=g(e).origin,r=this[o].find(e=>e[h].origin===t&&!0!==e.closed&&!0!==e.destroyed);return r&&this[l](r),this}get upstreams(){return this[o].filter(e=>!0!==e.closed&&!0!==e.destroyed).map(e=>e[h].origin)}[c](){if(0===this[o].length)throw new n;if(!this[o].find(e=>!e[a]&&!0!==e.closed&&!0!==e.destroyed)||this[o].map(e=>e[a]).reduce((e,t)=>e&&t,!0))return;let e=0,t=this[o].findIndex(e=>!e[a]);for(;e++<this[o].length;){this[C]=(this[C]+1)%this[o].length;let e=this[o][this[C]];if(e[y]>this[o][t][y]&&!e[a]&&(t=this[C]),0===this[C]&&(this[m]=this[m]-this[E],this[m]<=0&&(this[m]=this[I])),e[y]>=this[m]&&!e[a])return e}return this[m]=this[o][t][y],this[C]=t,this[o][t]}}e.exports=w},39451:(e,t,r)=>{"use strict";let{kConstruct:n}=r(88206),{urlEquals:i,fieldValues:s}=r(69654),{kEnumerableProperty:o,isDisturbed:a}=r(55909),{kHeadersList:A}=r(44466),{webidl:l}=r(533),{Response:c,cloneResponse:u}=r(83748),{Request:h}=r(50646),{kState:d,kHeaders:g,kGuard:f,kRealm:p}=r(40952),{fetching:E}=r(14713),{urlIsHttpHttpsScheme:m,createDeferredPromise:C,readAllBytes:y}=r(53854),I=r(39491),{getGlobalDispatcher:B}=r(50585);class Q{#g;constructor(){arguments[0]!==n&&l.illegalConstructor(),this.#g=arguments[1]}async match(e,t={}){l.brandCheck(this,Q),l.argumentLengthCheck(arguments,1,{header:"Cache.match"}),e=l.converters.RequestInfo(e),t=l.converters.CacheQueryOptions(t);let r=await this.matchAll(e,t);if(0!==r.length)return r[0]}async matchAll(e,t={}){l.brandCheck(this,Q),void 0!==e&&(e=l.converters.RequestInfo(e)),t=l.converters.CacheQueryOptions(t);let r=null;if(void 0!==e){if(e instanceof h){if("GET"!==(r=e[d]).method&&!t.ignoreMethod)return[]}else"string"==typeof e&&(r=new h(e)[d])}let n=[];if(void 0===e)for(let e of this.#g)n.push(e[1]);else for(let e of this.#f(r,t))n.push(e[1]);let i=[];for(let e of n){let t=new c(e.body?.source??null),r=t[d].body;t[d]=e,t[d].body=r,t[g][A]=e.headersList,t[g][f]="immutable",i.push(t)}return Object.freeze(i)}async add(e){l.brandCheck(this,Q),l.argumentLengthCheck(arguments,1,{header:"Cache.add"});let t=[e=l.converters.RequestInfo(e)],r=this.addAll(t);return await r}async addAll(e){l.brandCheck(this,Q),l.argumentLengthCheck(arguments,1,{header:"Cache.addAll"});let t=[],r=[];for(let t of e=l.converters["sequence<RequestInfo>"](e)){if("string"==typeof t)continue;let e=t[d];if(!m(e.url)||"GET"!==e.method)throw l.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme when method is not GET."})}let n=[];for(let i of e){let e=new h(i)[d];if(!m(e.url))throw l.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme."});e.initiator="fetch",e.destination="subresource",r.push(e);let o=C();n.push(E({request:e,dispatcher:B(),processResponse(e){if("error"===e.type||206===e.status||e.status<200||e.status>299)o.reject(l.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(e.headersList.contains("vary")){for(let t of s(e.headersList.get("vary")))if("*"===t){for(let e of(o.reject(l.errors.exception({header:"Cache.addAll",message:"invalid vary field value"})),n))e.abort();return}}},processResponseEndOfBody(e){if(e.aborted){o.reject(new DOMException("aborted","AbortError"));return}o.resolve(e)}})),t.push(o.promise)}let i=Promise.all(t),o=await i,a=[],A=0;for(let e of o){let t={type:"put",request:r[A],response:e};a.push(t),A++}let c=C(),u=null;try{this.#p(a)}catch(e){u=e}return queueMicrotask(()=>{null===u?c.resolve(void 0):c.reject(u)}),c.promise}async put(e,t){l.brandCheck(this,Q),l.argumentLengthCheck(arguments,2,{header:"Cache.put"}),e=l.converters.RequestInfo(e),t=l.converters.Response(t);let r=null;if(!m((r=e instanceof h?e[d]:new h(e)[d]).url)||"GET"!==r.method)throw l.errors.exception({header:"Cache.put",message:"Expected an http/s scheme when method is not GET"});let n=t[d];if(206===n.status)throw l.errors.exception({header:"Cache.put",message:"Got 206 status"});if(n.headersList.contains("vary")){for(let e of s(n.headersList.get("vary")))if("*"===e)throw l.errors.exception({header:"Cache.put",message:"Got * vary field value"})}if(n.body&&(a(n.body.stream)||n.body.stream.locked))throw l.errors.exception({header:"Cache.put",message:"Response body is locked or disturbed"});let i=u(n),o=C();null!=n.body?y(n.body.stream.getReader()).then(o.resolve,o.reject):o.resolve(void 0);let A=[],c={type:"put",request:r,response:i};A.push(c);let g=await o.promise;null!=i.body&&(i.body.source=g);let f=C(),p=null;try{this.#p(A)}catch(e){p=e}return queueMicrotask(()=>{null===p?f.resolve():f.reject(p)}),f.promise}async delete(e,t={}){let r;l.brandCheck(this,Q),l.argumentLengthCheck(arguments,1,{header:"Cache.delete"}),e=l.converters.RequestInfo(e),t=l.converters.CacheQueryOptions(t);let n=null;if(e instanceof h){if("GET"!==(n=e[d]).method&&!t.ignoreMethod)return!1}else I("string"==typeof e),n=new h(e)[d];let i=[],s={type:"delete",request:n,options:t};i.push(s);let o=C(),a=null;try{r=this.#p(i)}catch(e){a=e}return queueMicrotask(()=>{null===a?o.resolve(!!r?.length):o.reject(a)}),o.promise}async keys(e,t={}){l.brandCheck(this,Q),void 0!==e&&(e=l.converters.RequestInfo(e)),t=l.converters.CacheQueryOptions(t);let r=null;if(void 0!==e){if(e instanceof h){if("GET"!==(r=e[d]).method&&!t.ignoreMethod)return[]}else"string"==typeof e&&(r=new h(e)[d])}let n=C(),i=[];if(void 0===e)for(let e of this.#g)i.push(e[0]);else for(let e of this.#f(r,t))i.push(e[0]);return queueMicrotask(()=>{let e=[];for(let t of i){let r=new h("https://a");r[d]=t,r[g][A]=t.headersList,r[g][f]="immutable",r[p]=t.client,e.push(r)}n.resolve(Object.freeze(e))}),n.promise}#p(e){let t=this.#g,r=[...t],n=[],i=[];try{for(let r of e){let e;if("delete"!==r.type&&"put"!==r.type)throw l.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if("delete"===r.type&&null!=r.response)throw l.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#f(r.request,r.options,n).length)throw new DOMException("???","InvalidStateError");if("delete"===r.type){if(e=this.#f(r.request,r.options),0===e.length)return[];for(let r of e){let e=t.indexOf(r);I(-1!==e),t.splice(e,1)}}else if("put"===r.type){if(null==r.response)throw l.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let i=r.request;if(!m(i.url))throw l.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if("GET"!==i.method)throw l.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(null!=r.options)throw l.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});for(let n of e=this.#f(r.request)){let e=t.indexOf(n);I(-1!==e),t.splice(e,1)}t.push([r.request,r.response]),n.push([r.request,r.response])}i.push([r.request,r.response])}return i}catch(e){throw this.#g.length=0,this.#g=r,e}}#f(e,t,r){let n=[];for(let i of r??this.#g){let[r,s]=i;this.#E(e,r,s,t)&&n.push(i)}return n}#E(e,t,r=null,n){let o=new URL(e.url),a=new URL(t.url);if(n?.ignoreSearch&&(a.search="",o.search=""),!i(o,a,!0))return!1;if(null==r||n?.ignoreVary||!r.headersList.contains("vary"))return!0;for(let n of s(r.headersList.get("vary")))if("*"===n||t.headersList.get(n)!==e.headersList.get(n))return!1;return!0}}Object.defineProperties(Q.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:o,matchAll:o,add:o,addAll:o,put:o,delete:o,keys:o});let v=[{key:"ignoreSearch",converter:l.converters.boolean,defaultValue:!1},{key:"ignoreMethod",converter:l.converters.boolean,defaultValue:!1},{key:"ignoreVary",converter:l.converters.boolean,defaultValue:!1}];l.converters.CacheQueryOptions=l.dictionaryConverter(v),l.converters.MultiCacheQueryOptions=l.dictionaryConverter([...v,{key:"cacheName",converter:l.converters.DOMString}]),l.converters.Response=l.interfaceConverter(c),l.converters["sequence<RequestInfo>"]=l.sequenceConverter(l.converters.RequestInfo),e.exports={Cache:Q}},98200:(e,t,r)=>{"use strict";let{kConstruct:n}=r(88206),{Cache:i}=r(39451),{webidl:s}=r(533),{kEnumerableProperty:o}=r(55909);class a{#m;constructor(){this.#m=new Map,arguments[0]!==n&&s.illegalConstructor()}async match(e,t={}){if(s.brandCheck(this,a),s.argumentLengthCheck(arguments,1,{header:"CacheStorage.match"}),e=s.converters.RequestInfo(e),null!=(t=s.converters.MultiCacheQueryOptions(t)).cacheName){if(this.#m.has(t.cacheName)){let r=new i(n,this.#m.get(t.cacheName));return await r.match(e,t)}}else for(let r of this.#m.values()){let s=new i(n,r),o=await s.match(e,t);if(void 0!==o)return o}}async has(e){return s.brandCheck(this,a),s.argumentLengthCheck(arguments,1,{header:"CacheStorage.has"}),e=s.converters.DOMString(e),this.#m.has(e)}async open(e){if(s.brandCheck(this,a),s.argumentLengthCheck(arguments,1,{header:"CacheStorage.open"}),e=s.converters.DOMString(e),this.#m.has(e))return new i(n,this.#m.get(e));let t=[];return this.#m.set(e,t),new i(n,t)}async delete(e){return s.brandCheck(this,a),s.argumentLengthCheck(arguments,1,{header:"CacheStorage.delete"}),e=s.converters.DOMString(e),this.#m.delete(e)}async keys(){return s.brandCheck(this,a),[...this.#m.keys()]}}Object.defineProperties(a.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:o,has:o,open:o,delete:o,keys:o}),e.exports={CacheStorage:a}},88206:(e,t,r)=>{"use strict";e.exports={kConstruct:r(44466).kConstruct}},69654:(e,t,r)=>{"use strict";let n=r(39491),{URLSerializer:i}=r(93804),{isValidHeaderName:s}=r(53854);function o(e,t,r=!1){return i(e,r)===i(t,r)}function a(e){n(null!==e);let t=[];for(let r of e.split(","))(r=r.trim()).length&&s(r)&&t.push(r);return t}e.exports={urlEquals:o,fieldValues:a}},12148:(e,t,r)=>{"use strict";let n;let i=r(39491),s=r(41808),o=r(13685),{pipeline:a}=r(12781),A=r(55909),l=r(93161),c=r(47047),u=r(59515),{RequestContentLengthMismatchError:h,ResponseContentLengthMismatchError:d,InvalidArgumentError:g,RequestAbortedError:f,HeadersTimeoutError:p,HeadersOverflowError:E,SocketError:m,InformationalError:C,BodyTimeoutError:y,HTTPParserError:I,ResponseExceededMaxSizeError:B,ClientDestroyedError:Q}=r(29615),v=r(67301),{kUrl:w,kReset:b,kServerName:S,kClient:k,kBusy:R,kParser:D,kConnect:_,kBlocking:T,kResuming:N,kRunning:F,kPending:M,kSize:L,kWriting:O,kQueue:x,kConnected:U,kConnecting:P,kNeedDrain:J,kNoRef:V,kKeepAliveDefaultTimeout:H,kHostHeader:G,kPendingIdx:j,kRunningIdx:Y,kError:W,kPipelining:q,kSocket:K,kKeepAliveTimeoutValue:z,kMaxHeadersSize:$,kKeepAliveMaxTimeout:X,kKeepAliveTimeoutThreshold:Z,kHeadersTimeout:ee,kBodyTimeout:et,kStrictContentLength:er,kConnector:en,kMaxRedirections:ei,kMaxRequests:es,kCounter:eo,kClose:ea,kDestroy:eA,kDispatch:el,kInterceptors:ec,kLocalAddress:eu,kMaxResponseSize:eh,kHTTPConnVersion:ed,kHost:eg,kHTTP2Session:ef,kHTTP2SessionState:ep,kHTTP2BuildRequest:eE,kHTTP2CopyHeaders:em,kHTTP1BuildRequest:eC}=r(44466);try{n=r(85158)}catch{n={constants:{}}}let{constants:{HTTP2_HEADER_AUTHORITY:ey,HTTP2_HEADER_METHOD:eI,HTTP2_HEADER_PATH:eB,HTTP2_HEADER_SCHEME:eQ,HTTP2_HEADER_CONTENT_LENGTH:ev,HTTP2_HEADER_EXPECT:ew,HTTP2_HEADER_STATUS:eb}}=n,eS=!1,ek=Buffer[Symbol.species],eR=Symbol("kClosedResolve"),eD={};try{let e=r(67643);eD.sendHeaders=e.channel("undici:client:sendHeaders"),eD.beforeConnect=e.channel("undici:client:beforeConnect"),eD.connectError=e.channel("undici:client:connectError"),eD.connected=e.channel("undici:client:connected")}catch{eD.sendHeaders={hasSubscribers:!1},eD.beforeConnect={hasSubscribers:!1},eD.connectError={hasSubscribers:!1},eD.connected={hasSubscribers:!1}}class e_ extends u{constructor(e,{interceptors:t,maxHeaderSize:r,headersTimeout:n,socketTimeout:i,requestTimeout:a,connectTimeout:l,bodyTimeout:c,idleTimeout:u,keepAlive:h,keepAliveTimeout:d,maxKeepAliveTimeout:f,keepAliveMaxTimeout:p,keepAliveTimeoutThreshold:E,socketPath:m,pipelining:C,tls:y,strictContentLength:I,maxCachedSessions:B,maxRedirections:Q,connect:b,maxRequestsPerClient:k,localAddress:R,maxResponseSize:D,autoSelectFamily:_,autoSelectFamilyAttemptTimeout:T,allowH2:F,maxConcurrentStreams:M}={}){if(super(),void 0!==h)throw new g("unsupported keepAlive, use pipelining=0 instead");if(void 0!==i)throw new g("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(void 0!==a)throw new g("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(void 0!==u)throw new g("unsupported idleTimeout, use keepAliveTimeout instead");if(void 0!==f)throw new g("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(null!=r&&!Number.isFinite(r))throw new g("invalid maxHeaderSize");if(null!=m&&"string"!=typeof m)throw new g("invalid socketPath");if(null!=l&&(!Number.isFinite(l)||l<0))throw new g("invalid connectTimeout");if(null!=d&&(!Number.isFinite(d)||d<=0))throw new g("invalid keepAliveTimeout");if(null!=p&&(!Number.isFinite(p)||p<=0))throw new g("invalid keepAliveMaxTimeout");if(null!=E&&!Number.isFinite(E))throw new g("invalid keepAliveTimeoutThreshold");if(null!=n&&(!Number.isInteger(n)||n<0))throw new g("headersTimeout must be a positive integer or zero");if(null!=c&&(!Number.isInteger(c)||c<0))throw new g("bodyTimeout must be a positive integer or zero");if(null!=b&&"function"!=typeof b&&"object"!=typeof b)throw new g("connect must be a function or an object");if(null!=Q&&(!Number.isInteger(Q)||Q<0))throw new g("maxRedirections must be a positive number");if(null!=k&&(!Number.isInteger(k)||k<0))throw new g("maxRequestsPerClient must be a positive number");if(null!=R&&("string"!=typeof R||0===s.isIP(R)))throw new g("localAddress must be valid string IP address");if(null!=D&&(!Number.isInteger(D)||D<-1))throw new g("maxResponseSize must be a positive number");if(null!=T&&(!Number.isInteger(T)||T<-1))throw new g("autoSelectFamilyAttemptTimeout must be a positive number");if(null!=F&&"boolean"!=typeof F)throw new g("allowH2 must be a valid boolean value");if(null!=M&&("number"!=typeof M||M<1))throw new g("maxConcurrentStreams must be a possitive integer, greater than 0");"function"!=typeof b&&(b=v({...y,maxCachedSessions:B,allowH2:F,socketPath:m,timeout:l,...A.nodeHasAutoSelectFamily&&_?{autoSelectFamily:_,autoSelectFamilyAttemptTimeout:T}:void 0,...b})),this[ec]=t&&t.Client&&Array.isArray(t.Client)?t.Client:[eO({maxRedirections:Q})],this[w]=A.parseOrigin(e),this[en]=b,this[K]=null,this[q]=null!=C?C:1,this[$]=r||o.maxHeaderSize,this[H]=null==d?4e3:d,this[X]=null==p?6e5:p,this[Z]=null==E?1e3:E,this[z]=this[H],this[S]=null,this[eu]=null!=R?R:null,this[N]=0,this[J]=0,this[G]=`host: ${this[w].hostname}${this[w].port?`:${this[w].port}`:""}\r
`,this[et]=null!=c?c:3e5,this[ee]=null!=n?n:3e5,this[er]=null==I||I,this[ei]=Q,this[es]=k,this[eR]=null,this[eh]=D>-1?D:-1,this[ed]="h1",this[ef]=null,this[ep]=F?{openStreams:0,maxConcurrentStreams:null!=M?M:100}:null,this[eg]=`${this[w].hostname}${this[w].port?`:${this[w].port}`:""}`,this[x]=[],this[Y]=0,this[j]=0}get pipelining(){return this[q]}set pipelining(e){this[q]=e,e4(this,!0)}get[M](){return this[x].length-this[j]}get[F](){return this[j]-this[Y]}get[L](){return this[x].length-this[Y]}get[U](){return!!this[K]&&!this[P]&&!this[K].destroyed}get[R](){let e=this[K];return e&&(e[b]||e[O]||e[T])||this[L]>=(this[q]||1)||this[M]>0}[_](e){e1(this),this.once("connect",e)}[el](e,t){let r=e.origin||this[w].origin,n="h2"===this[ed]?c[eE](r,e,t):c[eC](r,e,t);return this[x].push(n),this[N]||(null==A.bodyLength(n.body)&&A.isIterable(n.body)?(this[N]=1,process.nextTick(e4,this)):e4(this,!0)),this[N]&&2!==this[J]&&this[R]&&(this[J]=2),this[J]<2}async [ea](){return new Promise(e=>{this[L]?this[eR]=e:e(null)})}async [eA](e){return new Promise(t=>{let r=this[x].splice(this[j]);for(let t=0;t<r.length;t++)tr(this,r[t],e);let n=()=>{this[eR]&&(this[eR](),this[eR]=null),t()};null!=this[ef]&&(A.destroy(this[ef],e),this[ef]=null,this[ep]=null),this[K]?A.destroy(this[K].on("close",n),e):queueMicrotask(n),e4(this)})}}function eT(e){i("ERR_TLS_CERT_ALTNAME_INVALID"!==e.code),this[K][W]=e,eX(this[k],e)}function eN(e,t,r){let n=new C(`HTTP/2: "frameError" received - type ${e}, code ${t}`);0===r&&(this[K][W]=n,eX(this[k],n))}function eF(){A.destroy(this,new m("other side closed")),A.destroy(this[K],new m("other side closed"))}function eM(e){let t=this[k],r=new C(`HTTP/2: "GOAWAY" frame received with code ${e}`);if(t[K]=null,t[ef]=null,t.destroyed){i(0===this[M]);let e=t[x].splice(t[Y]);for(let t=0;t<e.length;t++)tr(this,e[t],r)}else if(t[F]>0){let e=t[x][t[Y]];t[x][t[Y]++]=null,tr(t,e,r)}t[j]=t[Y],i(0===t[F]),t.emit("disconnect",t[w],[t],r),e4(t)}let eL=r(48515),eO=r(10970),ex=Buffer.alloc(0),eU=null,eP=async function(){let e;let t=process.env.JEST_WORKER_ID?r(32137):void 0;try{e=await WebAssembly.compile(Buffer.from(r(89683),"base64"))}catch(n){e=await WebAssembly.compile(Buffer.from(t||r(32137),"base64"))}return await WebAssembly.instantiate(e,{env:{wasm_on_url:(e,t,r)=>0,wasm_on_status:(e,t,r)=>{i.strictEqual(eJ.ptr,e);let n=t-eG+eV.byteOffset;return eJ.onStatus(new ek(eV.buffer,n,r))||0},wasm_on_message_begin:e=>(i.strictEqual(eJ.ptr,e),eJ.onMessageBegin()||0),wasm_on_header_field:(e,t,r)=>{i.strictEqual(eJ.ptr,e);let n=t-eG+eV.byteOffset;return eJ.onHeaderField(new ek(eV.buffer,n,r))||0},wasm_on_header_value:(e,t,r)=>{i.strictEqual(eJ.ptr,e);let n=t-eG+eV.byteOffset;return eJ.onHeaderValue(new ek(eV.buffer,n,r))||0},wasm_on_headers_complete:(e,t,r,n)=>(i.strictEqual(eJ.ptr,e),eJ.onHeadersComplete(t,!!r,!!n)||0),wasm_on_body:(e,t,r)=>{i.strictEqual(eJ.ptr,e);let n=t-eG+eV.byteOffset;return eJ.onBody(new ek(eV.buffer,n,r))||0},wasm_on_message_complete:e=>(i.strictEqual(eJ.ptr,e),eJ.onMessageComplete()||0)}})}();eP.catch();let eJ=null,eV=null,eH=0,eG=null,ej=1,eY=2,eW=3;class eq{constructor(e,t,{exports:r}){i(Number.isFinite(e[$])&&e[$]>0),this.llhttp=r,this.ptr=this.llhttp.llhttp_alloc(eL.TYPE.RESPONSE),this.client=e,this.socket=t,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=e[$],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=e[eh]}setTimeout(e,t){this.timeoutType=t,e!==this.timeoutValue?(l.clearTimeout(this.timeout),e?(this.timeout=l.setTimeout(eK,e,this),this.timeout.unref&&this.timeout.unref()):this.timeout=null,this.timeoutValue=e):this.timeout&&this.timeout.refresh&&this.timeout.refresh()}resume(){!this.socket.destroyed&&this.paused&&(i(null!=this.ptr),i(null==eJ),this.llhttp.llhttp_resume(this.ptr),i(this.timeoutType===eY),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||ex),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let e=this.socket.read();if(null===e)break;this.execute(e)}}execute(e){i(null!=this.ptr),i(null==eJ),i(!this.paused);let{socket:t,llhttp:r}=this;e.length>eH&&(eG&&r.free(eG),eH=4096*Math.ceil(e.length/4096),eG=r.malloc(eH)),new Uint8Array(r.memory.buffer,eG,eH).set(e);try{let n;try{eV=e,eJ=this,n=r.llhttp_execute(this.ptr,eG,e.length)}catch(e){throw e}finally{eJ=null,eV=null}let i=r.llhttp_get_error_pos(this.ptr)-eG;if(n===eL.ERROR.PAUSED_UPGRADE)this.onUpgrade(e.slice(i));else if(n===eL.ERROR.PAUSED)this.paused=!0,t.unshift(e.slice(i));else if(n!==eL.ERROR.OK){let t=r.llhttp_get_error_reason(this.ptr),s="";if(t){let e=new Uint8Array(r.memory.buffer,t).indexOf(0);s="Response does not match the HTTP/1.1 protocol ("+Buffer.from(r.memory.buffer,t,e).toString()+")"}throw new I(s,eL.ERROR[n],e.slice(i))}}catch(e){A.destroy(t,e)}}destroy(){i(null!=this.ptr),i(null==eJ),this.llhttp.llhttp_free(this.ptr),this.ptr=null,l.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(e){this.statusText=e.toString()}onMessageBegin(){let{socket:e,client:t}=this;if(e.destroyed||!t[x][t[Y]])return -1}onHeaderField(e){let t=this.headers.length;(1&t)==0?this.headers.push(e):this.headers[t-1]=Buffer.concat([this.headers[t-1],e]),this.trackHeader(e.length)}onHeaderValue(e){let t=this.headers.length;(1&t)==1?(this.headers.push(e),t+=1):this.headers[t-1]=Buffer.concat([this.headers[t-1],e]);let r=this.headers[t-2];10===r.length&&"keep-alive"===r.toString().toLowerCase()?this.keepAlive+=e.toString():10===r.length&&"connection"===r.toString().toLowerCase()?this.connection+=e.toString():14===r.length&&"content-length"===r.toString().toLowerCase()&&(this.contentLength+=e.toString()),this.trackHeader(e.length)}trackHeader(e){this.headersSize+=e,this.headersSize>=this.headersMaxSize&&A.destroy(this.socket,new E)}onUpgrade(e){let{upgrade:t,client:r,socket:n,headers:s,statusCode:o}=this;i(t);let a=r[x][r[Y]];i(a),i(!n.destroyed),i(n===r[K]),i(!this.paused),i(a.upgrade||"CONNECT"===a.method),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,i(this.headers.length%2==0),this.headers=[],this.headersSize=0,n.unshift(e),n[D].destroy(),n[D]=null,n[k]=null,n[W]=null,n.removeListener("error",e$).removeListener("readable",ez).removeListener("end",eZ).removeListener("close",e0),r[K]=null,r[x][r[Y]++]=null,r.emit("disconnect",r[w],[r],new C("upgrade"));try{a.onUpgrade(o,s,n)}catch(e){A.destroy(n,e)}e4(r)}onHeadersComplete(e,t,r){let{client:n,socket:s,headers:o,statusText:a}=this;if(s.destroyed)return -1;let l=n[x][n[Y]];if(!l)return -1;if(i(!this.upgrade),i(this.statusCode<200),100===e)return A.destroy(s,new m("bad response",A.getSocketInfo(s))),-1;if(t&&!l.upgrade)return A.destroy(s,new m("bad upgrade",A.getSocketInfo(s))),-1;if(i.strictEqual(this.timeoutType,ej),this.statusCode=e,this.shouldKeepAlive=r||"HEAD"===l.method&&!s[b]&&"keep-alive"===this.connection.toLowerCase(),this.statusCode>=200){let e=null!=l.bodyTimeout?l.bodyTimeout:n[et];this.setTimeout(e,eY)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if("CONNECT"===l.method||t)return i(1===n[F]),this.upgrade=!0,2;if(i(this.headers.length%2==0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&n[q]){let e=this.keepAlive?A.parseKeepAliveTimeout(this.keepAlive):null;if(null!=e){let t=Math.min(e-n[Z],n[X]);t<=0?s[b]=!0:n[z]=t}else n[z]=n[H]}else s[b]=!0;let c=!1===l.onHeaders(e,o,this.resume,a);return l.aborted?-1:"HEAD"===l.method||e<200?1:(s[T]&&(s[T]=!1,e4(n)),c?eL.ERROR.PAUSED:0)}onBody(e){let{client:t,socket:r,statusCode:n,maxResponseSize:s}=this;if(r.destroyed)return -1;let o=t[x][t[Y]];return(i(o),i.strictEqual(this.timeoutType,eY),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),i(n>=200),s>-1&&this.bytesRead+e.length>s)?(A.destroy(r,new B),-1):(this.bytesRead+=e.length,!1===o.onData(e))?eL.ERROR.PAUSED:void 0}onMessageComplete(){let{client:e,socket:t,statusCode:r,upgrade:n,headers:s,contentLength:o,bytesRead:a,shouldKeepAlive:l}=this;if(t.destroyed&&(!r||l))return -1;if(n)return;let c=e[x][e[Y]];if(i(c),i(r>=100),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",i(this.headers.length%2==0),this.headers=[],this.headersSize=0,!(r<200)){if("HEAD"!==c.method&&o&&a!==parseInt(o,10))return A.destroy(t,new d),-1;if(c.onComplete(s),e[x][e[Y]++]=null,t[O])return i.strictEqual(e[F],0),A.destroy(t,new C("reset")),eL.ERROR.PAUSED;if(!l||t[b]&&0===e[F])return A.destroy(t,new C("reset")),eL.ERROR.PAUSED;1===e[q]?setImmediate(e4,e):e4(e)}}}function eK(e){let{socket:t,timeoutType:r,client:n}=e;r===ej?(!t[O]||t.writableNeedDrain||n[F]>1)&&(i(!e.paused,"cannot be paused while waiting for headers"),A.destroy(t,new p)):r===eY?e.paused||A.destroy(t,new y):r===eW&&(i(0===n[F]&&n[z]),A.destroy(t,new C("socket idle timeout")))}function ez(){let{[D]:e}=this;e&&e.readMore()}function e$(e){let{[k]:t,[D]:r}=this;if(i("ERR_TLS_CERT_ALTNAME_INVALID"!==e.code),"h2"!==t[ed]&&"ECONNRESET"===e.code&&r.statusCode&&!r.shouldKeepAlive){r.onMessageComplete();return}this[W]=e,eX(this[k],e)}function eX(e,t){if(0===e[F]&&"UND_ERR_INFO"!==t.code&&"UND_ERR_SOCKET"!==t.code){i(e[j]===e[Y]);let r=e[x].splice(e[Y]);for(let n=0;n<r.length;n++)tr(e,r[n],t);i(0===e[L])}}function eZ(){let{[D]:e,[k]:t}=this;if("h2"!==t[ed]&&e.statusCode&&!e.shouldKeepAlive){e.onMessageComplete();return}A.destroy(this,new m("other side closed",A.getSocketInfo(this)))}function e0(){let{[k]:e,[D]:t}=this;"h1"===e[ed]&&t&&(this[W]||!t.statusCode||t.shouldKeepAlive||t.onMessageComplete(),this[D].destroy(),this[D]=null);let r=this[W]||new m("closed",A.getSocketInfo(this));if(e[K]=null,e.destroyed){i(0===e[M]);let t=e[x].splice(e[Y]);for(let n=0;n<t.length;n++)tr(e,t[n],r)}else if(e[F]>0&&"UND_ERR_INFO"!==r.code){let t=e[x][e[Y]];e[x][e[Y]++]=null,tr(e,t,r)}e[j]=e[Y],i(0===e[F]),e.emit("disconnect",e[w],[e],r),e4(e)}async function e1(e){i(!e[P]),i(!e[K]);let{host:t,hostname:r,protocol:o,port:a}=e[w];if("["===r[0]){let e=r.indexOf("]");i(-1!==e);let t=r.substring(1,e);i(s.isIP(t)),r=t}e[P]=!0,eD.beforeConnect.hasSubscribers&&eD.beforeConnect.publish({connectParams:{host:t,hostname:r,protocol:o,port:a,servername:e[S],localAddress:e[eu]},connector:e[en]});try{let s=await new Promise((n,i)=>{e[en]({host:t,hostname:r,protocol:o,port:a,servername:e[S],localAddress:e[eu]},(e,t)=>{e?i(e):n(t)})});if(e.destroyed){A.destroy(s.on("error",()=>{}),new Q);return}if(e[P]=!1,i(s),"h2"===s.alpnProtocol){eS||(eS=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let t=n.connect(e[w],{createConnection:()=>s,peerMaxConcurrentStreams:e[ep].maxConcurrentStreams});e[ed]="h2",t[k]=e,t[K]=s,t.on("error",eT),t.on("frameError",eN),t.on("end",eF),t.on("goaway",eM),t.on("close",e0),t.unref(),e[ef]=t,s[ef]=t}else eU||(eU=await eP,eP=null),s[V]=!1,s[O]=!1,s[b]=!1,s[T]=!1,s[D]=new eq(e,s,eU);s[eo]=0,s[es]=e[es],s[k]=e,s[W]=null,s.on("error",e$).on("readable",ez).on("end",eZ).on("close",e0),e[K]=s,eD.connected.hasSubscribers&&eD.connected.publish({connectParams:{host:t,hostname:r,protocol:o,port:a,servername:e[S],localAddress:e[eu]},connector:e[en],socket:s}),e.emit("connect",e[w],[e])}catch(n){if(e.destroyed)return;if(e[P]=!1,eD.connectError.hasSubscribers&&eD.connectError.publish({connectParams:{host:t,hostname:r,protocol:o,port:a,servername:e[S],localAddress:e[eu]},connector:e[en],error:n}),"ERR_TLS_CERT_ALTNAME_INVALID"===n.code)for(i(0===e[F]);e[M]>0&&e[x][e[j]].servername===e[S];){let t=e[x][e[j]++];tr(e,t,n)}else eX(e,n);e.emit("connectionError",e[w],[e],n)}e4(e)}function e2(e){e[J]=0,e.emit("drain",e[w],[e])}function e4(e,t){2!==e[N]&&(e[N]=2,e5(e,t),e[N]=0,e[Y]>256&&(e[x].splice(0,e[Y]),e[j]-=e[Y],e[Y]=0))}function e5(e,t){for(;;){if(e.destroyed){i(0===e[M]);return}if(e[eR]&&!e[L]){e[eR](),e[eR]=null;return}let r=e[K];if(r&&!r.destroyed&&"h2"!==r.alpnProtocol){if(0===e[L]?!r[V]&&r.unref&&(r.unref(),r[V]=!0):r[V]&&r.ref&&(r.ref(),r[V]=!1),0===e[L])r[D].timeoutType!==eW&&r[D].setTimeout(e[z],eW);else if(e[F]>0&&r[D].statusCode<200&&r[D].timeoutType!==ej){let t=e[x][e[Y]],n=null!=t.headersTimeout?t.headersTimeout:e[ee];r[D].setTimeout(n,ej)}}if(e[R])e[J]=2;else if(2===e[J]){t?(e[J]=1,process.nextTick(e2,e)):e2(e);continue}if(0===e[M]||e[F]>=(e[q]||1))return;let n=e[x][e[j]];if("https:"===e[w].protocol&&e[S]!==n.servername){if(e[F]>0)return;if(e[S]=n.servername,r&&r.servername!==n.servername){A.destroy(r,new C("servername changed"));return}}if(e[P])return;if(!r&&!e[ef]){e1(e);return}if(r.destroyed||r[O]||r[b]||r[T]||e[F]>0&&!n.idempotent||e[F]>0&&(n.upgrade||"CONNECT"===n.method)||e[F]>0&&0!==A.bodyLength(n.body)&&(A.isStream(n.body)||A.isAsyncIterable(n.body)))return;!n.aborted&&e9(e,n)?e[j]++:e[x].splice(e[j],1)}}function e3(e){return"GET"!==e&&"HEAD"!==e&&"OPTIONS"!==e&&"TRACE"!==e&&"CONNECT"!==e}function e9(e,t){if("h2"===e[ed]){e8(e,e[ef],t);return}let{body:r,method:n,path:s,host:o,upgrade:a,headers:l,blocking:c,reset:u}=t,d="PUT"===n||"POST"===n||"PATCH"===n;r&&"function"==typeof r.read&&r.read(0);let g=A.bodyLength(r),p=g;if(null===p&&(p=t.contentLength),0!==p||d||(p=null),e3(n)&&p>0&&null!==t.contentLength&&t.contentLength!==p){if(e[er])return tr(e,t,new h),!1;process.emitWarning(new h)}let E=e[K];try{t.onConnect(r=>{t.aborted||t.completed||(tr(e,t,r||new f),A.destroy(E,new C("aborted")))})}catch(r){tr(e,t,r)}if(t.aborted)return!1;"HEAD"===n&&(E[b]=!0),(a||"CONNECT"===n)&&(E[b]=!0),null!=u&&(E[b]=u),e[es]&&E[eo]++>=e[es]&&(E[b]=!0),c&&(E[T]=!0);let m=`${n} ${s} HTTP/1.1\r
`;return"string"==typeof o?m+=`host: ${o}\r
`:m+=e[G],a?m+=`connection: upgrade\r
upgrade: ${a}\r
`:e[q]&&!E[b]?m+="connection: keep-alive\r\n":m+="connection: close\r\n",l&&(m+=l),eD.sendHeaders.hasSubscribers&&eD.sendHeaders.publish({request:t,headers:m,socket:E}),r&&0!==g?A.isBuffer(r)?(i(p===r.byteLength,"buffer body must have content length"),E.cork(),E.write(`${m}content-length: ${p}\r
\r
`,"latin1"),E.write(r),E.uncork(),t.onBodySent(r),t.onRequestSent(),d||(E[b]=!0)):A.isBlobLike(r)?"function"==typeof r.stream?te({body:r.stream(),client:e,request:t,socket:E,contentLength:p,header:m,expectsPayload:d}):e7({body:r,client:e,request:t,socket:E,contentLength:p,header:m,expectsPayload:d}):A.isStream(r)?e6({body:r,client:e,request:t,socket:E,contentLength:p,header:m,expectsPayload:d}):A.isIterable(r)?te({body:r,client:e,request:t,socket:E,contentLength:p,header:m,expectsPayload:d}):i(!1):(0===p?E.write(`${m}content-length: 0\r
\r
`,"latin1"):(i(null===p,"no body must not have content length"),E.write(`${m}\r
`,"latin1")),t.onRequestSent()),!0}function e8(e,t,r){let n,s;let{body:o,method:a,path:l,host:u,upgrade:d,expectContinue:g,signal:p,headers:E}=r;if(n="string"==typeof E?c[em](E.trim()):E,d)return tr(e,r,Error("Upgrade not supported for H2")),!1;try{r.onConnect(t=>{r.aborted||r.completed||tr(e,r,t||new f)})}catch(t){tr(e,r,t)}if(r.aborted)return!1;let m=e[ep];if(n[ey]=u||e[eg],n[eI]=a,"CONNECT"===a)return t.ref(),(s=t.request(n,{endStream:!1,signal:p})).id&&!s.pending?(r.onUpgrade(null,null,s),++m.openStreams):s.once("ready",()=>{r.onUpgrade(null,null,s),++m.openStreams}),s.once("close",()=>{m.openStreams-=1,0===m.openStreams&&t.unref()}),!0;n[eB]=l,n[eQ]="https";let y="PUT"===a||"POST"===a||"PATCH"===a;o&&"function"==typeof o.read&&o.read(0);let I=A.bodyLength(o);if(null==I&&(I=r.contentLength),0!==I&&y||(I=null),e3(a)&&I>0&&null!=r.contentLength&&r.contentLength!==I){if(e[er])return tr(e,r,new h),!1;process.emitWarning(new h)}null!=I&&(i(o,"no body must not have content length"),n[ev]=`${I}`),t.ref();let B="GET"===a||"HEAD"===a;return g?(n[ew]="100-continue",(s=t.request(n,{endStream:B,signal:p})).once("continue",Q)):(s=t.request(n,{endStream:B,signal:p}),Q()),++m.openStreams,s.once("response",e=>{let{[eb]:t,...n}=e;!1===r.onHeaders(Number(t),n,s.resume.bind(s),"")&&s.pause()}),s.once("end",()=>{r.onComplete([])}),s.on("data",e=>{!1===r.onData(e)&&s.pause()}),s.once("close",()=>{m.openStreams-=1,0===m.openStreams&&t.unref()}),s.once("error",function(t){!e[ef]||e[ef].destroyed||this.closed||this.destroyed||(m.streams-=1,A.destroy(s,t))}),s.once("frameError",(t,n)=>{let i=new C(`HTTP/2: "frameError" received - type ${t}, code ${n}`);tr(e,r,i),!e[ef]||e[ef].destroyed||this.closed||this.destroyed||(m.streams-=1,A.destroy(s,i))}),!0;function Q(){o?A.isBuffer(o)?(i(I===o.byteLength,"buffer body must have content length"),s.cork(),s.write(o),s.uncork(),s.end(),r.onBodySent(o),r.onRequestSent()):A.isBlobLike(o)?"function"==typeof o.stream?te({client:e,request:r,contentLength:I,h2stream:s,expectsPayload:y,body:o.stream(),socket:e[K],header:""}):e7({body:o,client:e,request:r,contentLength:I,expectsPayload:y,h2stream:s,header:"",socket:e[K]}):A.isStream(o)?e6({body:o,client:e,request:r,contentLength:I,expectsPayload:y,socket:e[K],h2stream:s,header:""}):A.isIterable(o)?te({body:o,client:e,request:r,contentLength:I,expectsPayload:y,header:"",h2stream:s,socket:e[K]}):i(!1):r.onRequestSent()}}function e6({h2stream:e,body:t,client:r,request:n,socket:s,contentLength:o,header:l,expectsPayload:c}){if(i(0!==o||0===r[F],"stream body cannot be pipelined"),"h2"===r[ed]){let r=a(t,e,r=>{r?(A.destroy(t,r),A.destroy(e,r)):n.onRequestSent()});function u(e){n.onBodySent(e)}r.on("data",u),r.once("end",()=>{r.removeListener("data",u),A.destroy(r)});return}let h=!1,d=new tt({socket:s,request:n,contentLength:o,client:r,expectsPayload:c,header:l}),g=function(e){if(!h)try{!d.write(e)&&this.pause&&this.pause()}catch(e){A.destroy(this,e)}},p=function(){!h&&t.resume&&t.resume()},E=function(){if(h)return;let e=new f;queueMicrotask(()=>m(e))},m=function(e){if(!h){if(h=!0,i(s.destroyed||s[O]&&r[F]<=1),s.off("drain",p).off("error",m),t.removeListener("data",g).removeListener("end",m).removeListener("error",m).removeListener("close",E),!e)try{d.end()}catch(t){e=t}d.destroy(e),e&&("UND_ERR_INFO"!==e.code||"reset"!==e.message)?A.destroy(t,e):A.destroy(t)}};t.on("data",g).on("end",m).on("error",m).on("close",E),t.resume&&t.resume(),s.on("drain",p).on("error",m)}async function e7({h2stream:e,body:t,client:r,request:n,socket:s,contentLength:o,header:a,expectsPayload:l}){i(o===t.size,"blob body must have content length");let c="h2"===r[ed];try{if(null!=o&&o!==t.size)throw new h;let i=Buffer.from(await t.arrayBuffer());c?(e.cork(),e.write(i),e.uncork()):(s.cork(),s.write(`${a}content-length: ${o}\r
\r
`,"latin1"),s.write(i),s.uncork()),n.onBodySent(i),n.onRequestSent(),l||(s[b]=!0),e4(r)}catch(t){A.destroy(c?e:s,t)}}async function te({h2stream:e,body:t,client:r,request:n,socket:s,contentLength:o,header:a,expectsPayload:A}){i(0!==o||0===r[F],"iterator body cannot be pipelined");let l=null;function c(){if(l){let e=l;l=null,e()}}let u=()=>new Promise((e,t)=>{i(null===l),s[W]?t(s[W]):l=e});if("h2"===r[ed]){e.on("close",c).on("drain",c);try{for await(let r of t){if(s[W])throw s[W];let t=e.write(r);n.onBodySent(r),t||await u()}}catch(t){e.destroy(t)}finally{n.onRequestSent(),e.end(),e.off("close",c).off("drain",c)}return}s.on("close",c).on("drain",c);let h=new tt({socket:s,request:n,contentLength:o,client:r,expectsPayload:A,header:a});try{for await(let e of t){if(s[W])throw s[W];h.write(e)||await u()}h.end()}catch(e){h.destroy(e)}finally{s.off("close",c).off("drain",c)}}class tt{constructor({socket:e,request:t,contentLength:r,client:n,expectsPayload:i,header:s}){this.socket=e,this.request=t,this.contentLength=r,this.client=n,this.bytesWritten=0,this.expectsPayload=i,this.header=s,e[O]=!0}write(e){let{socket:t,request:r,contentLength:n,client:i,bytesWritten:s,expectsPayload:o,header:a}=this;if(t[W])throw t[W];if(t.destroyed)return!1;let A=Buffer.byteLength(e);if(!A)return!0;if(null!==n&&s+A>n){if(i[er])throw new h;process.emitWarning(new h)}t.cork(),0===s&&(o||(t[b]=!0),null===n?t.write(`${a}transfer-encoding: chunked\r
`,"latin1"):t.write(`${a}content-length: ${n}\r
\r
`,"latin1")),null===n&&t.write(`\r
${A.toString(16)}\r
`,"latin1"),this.bytesWritten+=A;let l=t.write(e);return t.uncork(),r.onBodySent(e),!l&&t[D].timeout&&t[D].timeoutType===ej&&t[D].timeout.refresh&&t[D].timeout.refresh(),l}end(){let{socket:e,contentLength:t,client:r,bytesWritten:n,expectsPayload:i,header:s,request:o}=this;if(o.onRequestSent(),e[O]=!1,e[W])throw e[W];if(!e.destroyed){if(0===n?i?e.write(`${s}content-length: 0\r
\r
`,"latin1"):e.write(`${s}\r
`,"latin1"):null===t&&e.write("\r\n0\r\n\r\n","latin1"),null!==t&&n!==t){if(r[er])throw new h;process.emitWarning(new h)}e[D].timeout&&e[D].timeoutType===ej&&e[D].timeout.refresh&&e[D].timeout.refresh(),e4(r)}}destroy(e){let{socket:t,client:r}=this;t[O]=!1,e&&(i(r[F]<=1,"pipeline should only contain this request"),A.destroy(t,e))}}function tr(e,t,r){try{t.onError(r),i(t.aborted)}catch(t){e.emit("error",t)}}e.exports=e_},39149:(e,t,r)=>{"use strict";let{kConnected:n,kSize:i}=r(44466);class s{constructor(e){this.value=e}deref(){return 0===this.value[n]&&0===this.value[i]?void 0:this.value}}class o{constructor(e){this.finalizer=e}register(e,t){e.on&&e.on("disconnect",()=>{0===e[n]&&0===e[i]&&this.finalizer(t)})}}e.exports=function(){return process.env.NODE_V8_COVERAGE?{WeakRef:s,FinalizationRegistry:o}:{WeakRef:global.WeakRef||s,FinalizationRegistry:global.FinalizationRegistry||o}}},48651:e=>{"use strict";let t=1024,r=4096;e.exports={maxAttributeValueSize:t,maxNameValuePairSize:r}},97153:(e,t,r)=>{"use strict";let{parseSetCookie:n}=r(30701),{stringify:i,getHeadersList:s}=r(30738),{webidl:o}=r(533),{Headers:a}=r(85887);function A(e){o.argumentLengthCheck(arguments,1,{header:"getCookies"}),o.brandCheck(e,a,{strict:!1});let t=e.get("cookie"),r={};if(!t)return r;for(let e of t.split(";")){let[t,...n]=e.split("=");r[t.trim()]=n.join("=")}return r}function l(e,t,r){o.argumentLengthCheck(arguments,2,{header:"deleteCookie"}),o.brandCheck(e,a,{strict:!1}),t=o.converters.DOMString(t),r=o.converters.DeleteCookieAttributes(r),u(e,{name:t,value:"",expires:new Date(0),...r})}function c(e){o.argumentLengthCheck(arguments,1,{header:"getSetCookies"}),o.brandCheck(e,a,{strict:!1});let t=s(e).cookies;return t?t.map(e=>n(Array.isArray(e)?e[1]:e)):[]}function u(e,t){o.argumentLengthCheck(arguments,2,{header:"setCookie"}),o.brandCheck(e,a,{strict:!1}),i(t=o.converters.Cookie(t))&&e.append("Set-Cookie",i(t))}o.converters.DeleteCookieAttributes=o.dictionaryConverter([{converter:o.nullableConverter(o.converters.DOMString),key:"path",defaultValue:null},{converter:o.nullableConverter(o.converters.DOMString),key:"domain",defaultValue:null}]),o.converters.Cookie=o.dictionaryConverter([{converter:o.converters.DOMString,key:"name"},{converter:o.converters.DOMString,key:"value"},{converter:o.nullableConverter(e=>"number"==typeof e?o.converters["unsigned long long"](e):new Date(e)),key:"expires",defaultValue:null},{converter:o.nullableConverter(o.converters["long long"]),key:"maxAge",defaultValue:null},{converter:o.nullableConverter(o.converters.DOMString),key:"domain",defaultValue:null},{converter:o.nullableConverter(o.converters.DOMString),key:"path",defaultValue:null},{converter:o.nullableConverter(o.converters.boolean),key:"secure",defaultValue:null},{converter:o.nullableConverter(o.converters.boolean),key:"httpOnly",defaultValue:null},{converter:o.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:o.sequenceConverter(o.converters.DOMString),key:"unparsed",defaultValue:[]}]),e.exports={getCookies:A,deleteCookie:l,getSetCookies:c,setCookie:u}},30701:(e,t,r)=>{"use strict";let{maxNameValuePairSize:n,maxAttributeValueSize:i}=r(48651),{isCTLExcludingHtab:s}=r(30738),{collectASequenceOfCodePointsFast:o}=r(93804),a=r(39491);function A(e){if(s(e))return null;let t="",r="",i="",a="";if(e.includes(";")){let n={position:0};t=o(";",e,n),r=e.slice(n.position)}else t=e;if(t.includes("=")){let e={position:0};i=o("=",t,e),a=t.slice(e.position+1)}else a=t;return(i=i.trim(),a=a.trim(),i.length+a.length>n)?null:{name:i,value:a,...l(r)}}function l(e,t={}){if(0===e.length)return t;a(";"===e[0]);let r="";(e=e.slice(1)).includes(";")?(r=o(";",e,{position:0}),e=e.slice(r.length)):(r=e,e="");let n="",s="";if(r.includes("=")){let e={position:0};n=o("=",r,e),s=r.slice(e.position+1)}else n=r;if(n=n.trim(),(s=s.trim()).length>i)return l(e,t);let A=n.toLowerCase();if("expires"===A){let e=new Date(s);t.expires=e}else if("max-age"===A){let r=s.charCodeAt(0);if((r<48||r>57)&&"-"!==s[0]||!/^\d+$/.test(s))return l(e,t);let n=Number(s);t.maxAge=n}else if("domain"===A){let e=s;"."===e[0]&&(e=e.slice(1)),e=e.toLowerCase(),t.domain=e}else if("path"===A){let e="";e=0===s.length||"/"!==s[0]?"/":s,t.path=e}else if("secure"===A)t.secure=!0;else if("httponly"===A)t.httpOnly=!0;else if("samesite"===A){let e="Default",r=s.toLowerCase();r.includes("none")&&(e="None"),r.includes("strict")&&(e="Strict"),r.includes("lax")&&(e="Lax"),t.sameSite=e}else t.unparsed??=[],t.unparsed.push(`${n}=${s}`);return l(e,t)}e.exports={parseSetCookie:A,parseUnparsedAttributes:l}},30738:(e,t,r)=>{"use strict";let n;let i=r(39491),{kHeadersList:s}=r(44466);function o(e){if(0===e.length)return!1;for(let t of e){let e=t.charCodeAt(0);if(e>=0||e<=8||e>=10||e<=31||127===e)return!1}}function a(e){for(let t of e){let e=t.charCodeAt(0);if(e<=32||e>127||"("===t||")"===t||">"===t||"<"===t||"@"===t||","===t||";"===t||":"===t||"\\"===t||'"'===t||"/"===t||"["===t||"]"===t||"?"===t||"="===t||"{"===t||"}"===t)throw Error("Invalid cookie name")}}function A(e){for(let t of e){let e=t.charCodeAt(0);if(e<33||34===e||44===e||59===e||92===e||e>126)throw Error("Invalid header value")}}function l(e){for(let t of e)if(33>t.charCodeAt(0)||";"===t)throw Error("Invalid cookie path")}function c(e){if(e.startsWith("-")||e.endsWith(".")||e.endsWith("-"))throw Error("Invalid cookie domain")}function u(e){"number"==typeof e&&(e=new Date(e));let t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getUTCDay()],n=e.getUTCDate().toString().padStart(2,"0"),i=t[e.getUTCMonth()],s=e.getUTCFullYear(),o=e.getUTCHours().toString().padStart(2,"0"),a=e.getUTCMinutes().toString().padStart(2,"0"),A=e.getUTCSeconds().toString().padStart(2,"0");return`${r}, ${n} ${i} ${s} ${o}:${a}:${A} GMT`}function h(e){if(e<0)throw Error("Invalid cookie max-age")}function d(e){if(0===e.name.length)return null;a(e.name),A(e.value);let t=[`${e.name}=${e.value}`];for(let r of(e.name.startsWith("__Secure-")&&(e.secure=!0),e.name.startsWith("__Host-")&&(e.secure=!0,e.domain=null,e.path="/"),e.secure&&t.push("Secure"),e.httpOnly&&t.push("HttpOnly"),"number"==typeof e.maxAge&&(h(e.maxAge),t.push(`Max-Age=${e.maxAge}`)),e.domain&&(c(e.domain),t.push(`Domain=${e.domain}`)),e.path&&(l(e.path),t.push(`Path=${e.path}`)),e.expires&&"Invalid Date"!==e.expires.toString()&&t.push(`Expires=${u(e.expires)}`),e.sameSite&&t.push(`SameSite=${e.sameSite}`),e.unparsed)){if(!r.includes("="))throw Error("Invalid unparsed");let[e,...n]=r.split("=");t.push(`${e.trim()}=${n.join("=")}`)}return t.join("; ")}function g(e){if(e[s])return e[s];n||i(n=Object.getOwnPropertySymbols(e).find(e=>"headers list"===e.description),"Headers cannot be parsed");let t=e[n];return i(t),t}e.exports={isCTLExcludingHtab:o,stringify:d,getHeadersList:g}},67301:(e,t,r)=>{"use strict";let n,i;let s=r(41808),o=r(39491),a=r(55909),{InvalidArgumentError:A,ConnectTimeoutError:l}=r(29615);function c({allowH2:e,maxCachedSessions:t,socketPath:l,timeout:c,...d}){if(null!=t&&(!Number.isInteger(t)||t<0))throw new A("maxCachedSessions must be a positive integer or zero");let g={path:l,...d},f=new i(null==t?100:t);return c=null==c?1e4:c,e=null!=e&&e,function({hostname:t,host:i,protocol:A,port:l,servername:d,localAddress:p,httpSocket:E},m){let C;if("https:"===A){n||(n=r(24404));let s=(d=d||g.servername||a.getServerName(i)||null)||t,A=f.get(s)||null;o(s),(C=n.connect({highWaterMark:16384,...g,servername:d,session:A,localAddress:p,ALPNProtocols:e?["http/1.1","h2"]:["http/1.1"],socket:E,port:l||443,host:t})).on("session",function(e){f.set(s,e)})}else o(!E,"httpSocket can only be sent on TLS update"),C=s.connect({highWaterMark:65536,...g,localAddress:p,port:l||80,host:t});if(null==g.keepAlive||g.keepAlive){let e=void 0===g.keepAliveInitialDelay?6e4:g.keepAliveInitialDelay;C.setKeepAlive(!0,e)}let y=u(()=>h(C),c);return C.setNoDelay(!0).once("https:"===A?"secureConnect":"connect",function(){if(y(),m){let e=m;m=null,e(null,this)}}).on("error",function(e){if(y(),m){let t=m;m=null,t(e)}}),C}}function u(e,t){if(!t)return()=>{};let r=null,n=null,i=setTimeout(()=>{r=setImmediate(()=>{"win32"===process.platform?n=setImmediate(()=>e()):e()})},t);return()=>{clearTimeout(i),clearImmediate(r),clearImmediate(n)}}function h(e){a.destroy(e,new l)}i=global.FinalizationRegistry&&!process.env.NODE_V8_COVERAGE?class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(e=>{if(this._sessionCache.size<this._maxCachedSessions)return;let t=this._sessionCache.get(e);void 0!==t&&void 0===t.deref()&&this._sessionCache.delete(e)})}get(e){let t=this._sessionCache.get(e);return t?t.deref():null}set(e,t){0!==this._maxCachedSessions&&(this._sessionCache.set(e,new WeakRef(t)),this._sessionRegistry.register(t,e))}}:class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map}get(e){return this._sessionCache.get(e)}set(e,t){if(0!==this._maxCachedSessions){if(this._sessionCache.size>=this._maxCachedSessions){let{value:e}=this._sessionCache.keys().next();this._sessionCache.delete(e)}this._sessionCache.set(e,t)}}},e.exports=c},29615:e=>{"use strict";class t extends Error{constructor(e){super(e),this.name="UndiciError",this.code="UND_ERR"}}class r extends t{constructor(e){super(e),Error.captureStackTrace(this,r),this.name="ConnectTimeoutError",this.message=e||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}}class n extends t{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}}class i extends t{constructor(e){super(e),Error.captureStackTrace(this,i),this.name="HeadersOverflowError",this.message=e||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}}class s extends t{constructor(e){super(e),Error.captureStackTrace(this,s),this.name="BodyTimeoutError",this.message=e||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}}class o extends t{constructor(e,t,r,n){super(e),Error.captureStackTrace(this,o),this.name="ResponseStatusCodeError",this.message=e||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=n,this.status=t,this.statusCode=t,this.headers=r}}class a extends t{constructor(e){super(e),Error.captureStackTrace(this,a),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}}class A extends t{constructor(e){super(e),Error.captureStackTrace(this,A),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}}class l extends t{constructor(e){super(e),Error.captureStackTrace(this,l),this.name="AbortError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}}class c extends t{constructor(e){super(e),Error.captureStackTrace(this,c),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}}class u extends t{constructor(e){super(e),Error.captureStackTrace(this,u),this.name="RequestContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}}class h extends t{constructor(e){super(e),Error.captureStackTrace(this,h),this.name="ResponseContentLengthMismatchError",this.message=e||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}}class d extends t{constructor(e){super(e),Error.captureStackTrace(this,d),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}}class g extends t{constructor(e){super(e),Error.captureStackTrace(this,g),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}}class f extends t{constructor(e,t){super(e),Error.captureStackTrace(this,f),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET",this.socket=t}}class p extends t{constructor(e){super(e),Error.captureStackTrace(this,p),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}}class E extends t{constructor(e){super(e),Error.captureStackTrace(this,p),this.name="MissingUpstreamError",this.message=e||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}}class m extends Error{constructor(e,t,r){super(e),Error.captureStackTrace(this,m),this.name="HTTPParserError",this.code=t?`HPE_${t}`:void 0,this.data=r?r.toString():void 0}}class C extends t{constructor(e){super(e),Error.captureStackTrace(this,C),this.name="ResponseExceededMaxSizeError",this.message=e||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}}class y extends t{constructor(e,t,{headers:r,data:n}){super(e),Error.captureStackTrace(this,y),this.name="RequestRetryError",this.message=e||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=t,this.data=n,this.headers=r}}e.exports={HTTPParserError:m,UndiciError:t,HeadersTimeoutError:n,HeadersOverflowError:i,BodyTimeoutError:s,RequestContentLengthMismatchError:u,ConnectTimeoutError:r,ResponseStatusCodeError:o,InvalidArgumentError:a,InvalidReturnValueError:A,RequestAbortedError:l,ClientDestroyedError:d,ClientClosedError:g,InformationalError:c,SocketError:f,NotSupportedError:p,ResponseContentLengthMismatchError:h,BalancedPoolMissingUpstreamError:E,ResponseExceededMaxSizeError:C,RequestRetryError:y}},47047:(e,t,r)=>{"use strict";let n;let{InvalidArgumentError:i,NotSupportedError:s}=r(29615),o=r(39491),{kHTTP2BuildRequest:a,kHTTP2CopyHeaders:A,kHTTP1BuildRequest:l}=r(44466),c=r(55909),u=/^[\^_`a-zA-Z\-0-9!#$%&'*+.|~]+$/,h=/[^\t\x20-\x7e\x80-\xff]/,d=/[^\u0021-\u00ff]/,g=Symbol("handler"),f={};try{let e=r(67643);f.create=e.channel("undici:request:create"),f.bodySent=e.channel("undici:request:bodySent"),f.headers=e.channel("undici:request:headers"),f.trailers=e.channel("undici:request:trailers"),f.error=e.channel("undici:request:error")}catch{f.create={hasSubscribers:!1},f.bodySent={hasSubscribers:!1},f.headers={hasSubscribers:!1},f.trailers={hasSubscribers:!1},f.error={hasSubscribers:!1}}class p{constructor(e,{path:t,method:s,body:o,headers:a,query:A,idempotent:l,blocking:h,upgrade:p,headersTimeout:E,bodyTimeout:C,reset:y,throwOnError:I,expectContinue:B},Q){if("string"!=typeof t)throw new i("path must be a string");if("/"===t[0]||t.startsWith("http://")||t.startsWith("https://")||"CONNECT"===s){if(null!==d.exec(t))throw new i("invalid request path")}else throw new i("path must be an absolute URL or start with a slash");if("string"!=typeof s)throw new i("method must be a string");if(null===u.exec(s))throw new i("invalid request method");if(p&&"string"!=typeof p)throw new i("upgrade must be a string");if(null!=E&&(!Number.isFinite(E)||E<0))throw new i("invalid headersTimeout");if(null!=C&&(!Number.isFinite(C)||C<0))throw new i("invalid bodyTimeout");if(null!=y&&"boolean"!=typeof y)throw new i("invalid reset");if(null!=B&&"boolean"!=typeof B)throw new i("invalid expectContinue");if(this.headersTimeout=E,this.bodyTimeout=C,this.throwOnError=!0===I,this.method=s,this.abort=null,null==o)this.body=null;else if(c.isStream(o)){this.body=o;let e=this.body._readableState;e&&e.autoDestroy||(this.endHandler=function(){c.destroy(this)},this.body.on("end",this.endHandler)),this.errorHandler=e=>{this.abort?this.abort(e):this.error=e},this.body.on("error",this.errorHandler)}else if(c.isBuffer(o))this.body=o.byteLength?o:null;else if(ArrayBuffer.isView(o))this.body=o.buffer.byteLength?Buffer.from(o.buffer,o.byteOffset,o.byteLength):null;else if(o instanceof ArrayBuffer)this.body=o.byteLength?Buffer.from(o):null;else if("string"==typeof o)this.body=o.length?Buffer.from(o):null;else if(c.isFormDataLike(o)||c.isIterable(o)||c.isBlobLike(o))this.body=o;else throw new i("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=p||null,this.path=A?c.buildURL(t,A):t,this.origin=e,this.idempotent=null==l?"HEAD"===s||"GET"===s:l,this.blocking=null!=h&&h,this.reset=null==y?null:y,this.host=null,this.contentLength=null,this.contentType=null,this.headers="",this.expectContinue=null!=B&&B,Array.isArray(a)){if(a.length%2!=0)throw new i("headers array must be even");for(let e=0;e<a.length;e+=2)m(this,a[e],a[e+1])}else if(a&&"object"==typeof a){let e=Object.keys(a);for(let t=0;t<e.length;t++){let r=e[t];m(this,r,a[r])}}else if(null!=a)throw new i("headers must be an object or an array");if(c.isFormDataLike(this.body)){if(c.nodeMajor<16||16===c.nodeMajor&&c.nodeMinor<8)throw new i("Form-Data bodies are only supported in node v16.8 and newer.");n||(n=r(53107).extractBody);let[e,t]=n(o);null==this.contentType&&(this.contentType=t,this.headers+=`content-type: ${t}\r
`),this.body=e.stream,this.contentLength=e.length}else c.isBlobLike(o)&&null==this.contentType&&o.type&&(this.contentType=o.type,this.headers+=`content-type: ${o.type}\r
`);c.validateHandler(Q,s,p),this.servername=c.getServerName(this.host),this[g]=Q,f.create.hasSubscribers&&f.create.publish({request:this})}onBodySent(e){if(this[g].onBodySent)try{return this[g].onBodySent(e)}catch(e){this.abort(e)}}onRequestSent(){if(f.bodySent.hasSubscribers&&f.bodySent.publish({request:this}),this[g].onRequestSent)try{return this[g].onRequestSent()}catch(e){this.abort(e)}}onConnect(e){if(o(!this.aborted),o(!this.completed),!this.error)return this.abort=e,this[g].onConnect(e);e(this.error)}onHeaders(e,t,r,n){o(!this.aborted),o(!this.completed),f.headers.hasSubscribers&&f.headers.publish({request:this,response:{statusCode:e,headers:t,statusText:n}});try{return this[g].onHeaders(e,t,r,n)}catch(e){this.abort(e)}}onData(e){o(!this.aborted),o(!this.completed);try{return this[g].onData(e)}catch(e){return this.abort(e),!1}}onUpgrade(e,t,r){return o(!this.aborted),o(!this.completed),this[g].onUpgrade(e,t,r)}onComplete(e){this.onFinally(),o(!this.aborted),this.completed=!0,f.trailers.hasSubscribers&&f.trailers.publish({request:this,trailers:e});try{return this[g].onComplete(e)}catch(e){this.onError(e)}}onError(e){if(this.onFinally(),f.error.hasSubscribers&&f.error.publish({request:this,error:e}),!this.aborted)return this.aborted=!0,this[g].onError(e)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(e,t){return m(this,e,t),this}static[l](e,t,r){return new p(e,t,r)}static[a](e,t,r){let n=t.headers,s=new p(e,t={...t,headers:null},r);if(s.headers={},Array.isArray(n)){if(n.length%2!=0)throw new i("headers array must be even");for(let e=0;e<n.length;e+=2)m(s,n[e],n[e+1],!0)}else if(n&&"object"==typeof n){let e=Object.keys(n);for(let t=0;t<e.length;t++){let r=e[t];m(s,r,n[r],!0)}}else if(null!=n)throw new i("headers must be an object or an array");return s}static[A](e){let t=e.split("\r\n"),r={};for(let e of t){let[t,n]=e.split(": ");null!=n&&0!==n.length&&(r[t]?r[t]+=`,${n}`:r[t]=n)}return r}}function E(e,t,r){if(t&&"object"==typeof t||(t=null!=t?`${t}`:"",null!==h.exec(t)))throw new i(`invalid ${e} header`);return r?t:`${e}: ${t}\r
`}function m(e,t,r,n=!1){if(r&&"object"==typeof r&&!Array.isArray(r))throw new i(`invalid ${t} header`);if(void 0!==r){if(null===e.host&&4===t.length&&"host"===t.toLowerCase()){if(null!==h.exec(r))throw new i(`invalid ${t} header`);e.host=r}else if(null===e.contentLength&&14===t.length&&"content-length"===t.toLowerCase()){if(e.contentLength=parseInt(r,10),!Number.isFinite(e.contentLength))throw new i("invalid content-length header")}else if(null===e.contentType&&12===t.length&&"content-type"===t.toLowerCase())e.contentType=r,n?e.headers[t]=E(t,r,n):e.headers+=E(t,r);else if(17===t.length&&"transfer-encoding"===t.toLowerCase())throw new i("invalid transfer-encoding header");else if(10===t.length&&"connection"===t.toLowerCase()){let t="string"==typeof r?r.toLowerCase():null;if("close"!==t&&"keep-alive"!==t)throw new i("invalid connection header");"close"===t&&(e.reset=!0)}else if(10===t.length&&"keep-alive"===t.toLowerCase())throw new i("invalid keep-alive header");else if(7===t.length&&"upgrade"===t.toLowerCase())throw new i("invalid upgrade header");else if(6===t.length&&"expect"===t.toLowerCase())throw new s("expect header not supported");else if(null===u.exec(t))throw new i("invalid header key");else if(Array.isArray(r))for(let i=0;i<r.length;i++)n?e.headers[t]?e.headers[t]+=`,${E(t,r[i],n)}`:e.headers[t]=E(t,r[i],n):e.headers+=E(t,r[i]);else n?e.headers[t]=E(t,r,n):e.headers+=E(t,r)}}e.exports=p},44466:e=>{"use strict";e.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kHeadersList:Symbol("headers list"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kHTTP2BuildRequest:Symbol("http2 build request"),kHTTP1BuildRequest:Symbol("http1 build request"),kHTTP2CopyHeaders:Symbol("http2 copy headers"),kHTTPConnVersion:Symbol("http connection version"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable")}},55909:(e,t,r)=>{"use strict";let n;let i=r(39491),{kDestroyed:s,kBodyUsed:o}=r(44466),{IncomingMessage:a}=r(13685),A=r(12781),l=r(41808),{InvalidArgumentError:c}=r(29615),{Blob:u}=r(14300),h=r(73837),{stringify:d}=r(63477),[g,f]=process.versions.node.split(".").map(e=>Number(e));function p(){}function E(e){return e&&"object"==typeof e&&"function"==typeof e.pipe&&"function"==typeof e.on}function m(e){return u&&e instanceof u||e&&"object"==typeof e&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function C(e,t){if(e.includes("?")||e.includes("#"))throw Error('Query params cannot be passed when url already contains "?" or "#".');let r=d(t);return r&&(e+="?"+r),e}function y(e){if("string"==typeof e){if(e=new URL(e),!/^https?:/.test(e.origin||e.protocol))throw new c("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}if(!e||"object"!=typeof e)throw new c("Invalid URL: The URL argument must be a non-null object.");if(!/^https?:/.test(e.origin||e.protocol))throw new c("Invalid URL protocol: the URL must start with `http:` or `https:`.");if(!(e instanceof URL)){if(null!=e.port&&""!==e.port&&!Number.isFinite(parseInt(e.port)))throw new c("Invalid URL: port must be a valid integer or a string representation of an integer.");if(null!=e.path&&"string"!=typeof e.path)throw new c("Invalid URL path: the path must be a string or null/undefined.");if(null!=e.pathname&&"string"!=typeof e.pathname)throw new c("Invalid URL pathname: the pathname must be a string or null/undefined.");if(null!=e.hostname&&"string"!=typeof e.hostname)throw new c("Invalid URL hostname: the hostname must be a string or null/undefined.");if(null!=e.origin&&"string"!=typeof e.origin)throw new c("Invalid URL origin: the origin must be a string or null/undefined.");let t=null!=e.port?e.port:"https:"===e.protocol?443:80,r=null!=e.origin?e.origin:`${e.protocol}//${e.hostname}:${t}`,n=null!=e.path?e.path:`${e.pathname||""}${e.search||""}`;r.endsWith("/")&&(r=r.substring(0,r.length-1)),n&&!n.startsWith("/")&&(n=`/${n}`),e=new URL(r+n)}return e}function I(e){if("/"!==(e=y(e)).pathname||e.search||e.hash)throw new c("invalid url");return e}function B(e){if("["===e[0]){let t=e.indexOf("]");return i(-1!==t),e.substring(1,t)}let t=e.indexOf(":");return -1===t?e:e.substring(0,t)}function Q(e){if(!e)return null;i.strictEqual(typeof e,"string");let t=B(e);return l.isIP(t)?"":t}function v(e){return JSON.parse(JSON.stringify(e))}function w(e){return!!(null!=e&&"function"==typeof e[Symbol.asyncIterator])}function b(e){return!!(null!=e&&("function"==typeof e[Symbol.iterator]||"function"==typeof e[Symbol.asyncIterator]))}function S(e){if(null==e)return 0;if(E(e)){let t=e._readableState;return t&&!1===t.objectMode&&!0===t.ended&&Number.isFinite(t.length)?t.length:null}return m(e)?null!=e.size?e.size:null:M(e)?e.byteLength:null}function k(e){return!e||!!(e.destroyed||e[s])}function R(e){let t=e&&e._readableState;return k(e)&&t&&!t.endEmitted}function D(e,t){null==e||!E(e)||k(e)||("function"==typeof e.destroy?(Object.getPrototypeOf(e).constructor===a&&(e.socket=null),e.destroy(t)):t&&process.nextTick((e,t)=>{e.emit("error",t)},e,t),!0===e.destroyed||(e[s]=!0))}let _=/timeout=(\d+)/;function T(e){let t=e.toString().match(_);return t?1e3*parseInt(t[1],10):null}function N(e,t={}){if(!Array.isArray(e))return e;for(let r=0;r<e.length;r+=2){let n=e[r].toString().toLowerCase(),i=t[n];i?(Array.isArray(i)||(i=[i],t[n]=i),i.push(e[r+1].toString("utf8"))):Array.isArray(e[r+1])?t[n]=e[r+1].map(e=>e.toString("utf8")):t[n]=e[r+1].toString("utf8")}return"content-length"in t&&"content-disposition"in t&&(t["content-disposition"]=Buffer.from(t["content-disposition"]).toString("latin1")),t}function F(e){let t=[],r=!1,n=-1;for(let i=0;i<e.length;i+=2){let s=e[i+0].toString(),o=e[i+1].toString("utf8");14===s.length&&("content-length"===s||"content-length"===s.toLowerCase())?(t.push(s,o),r=!0):19===s.length&&("content-disposition"===s||"content-disposition"===s.toLowerCase())?n=t.push(s,o)-1:t.push(s,o)}return r&&-1!==n&&(t[n]=Buffer.from(t[n]).toString("latin1")),t}function M(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}function L(e,t,r){if(!e||"object"!=typeof e)throw new c("handler must be an object");if("function"!=typeof e.onConnect)throw new c("invalid onConnect method");if("function"!=typeof e.onError)throw new c("invalid onError method");if("function"!=typeof e.onBodySent&&void 0!==e.onBodySent)throw new c("invalid onBodySent method");if(r||"CONNECT"===t){if("function"!=typeof e.onUpgrade)throw new c("invalid onUpgrade method")}else{if("function"!=typeof e.onHeaders)throw new c("invalid onHeaders method");if("function"!=typeof e.onData)throw new c("invalid onData method");if("function"!=typeof e.onComplete)throw new c("invalid onComplete method")}}function O(e){return!!(e&&(A.isDisturbed?A.isDisturbed(e)||e[o]:e[o]||e.readableDidRead||e._readableState&&e._readableState.dataEmitted||R(e)))}function x(e){return!!(e&&(A.isErrored?A.isErrored(e):/state: 'errored'/.test(h.inspect(e))))}function U(e){return!!(e&&(A.isReadable?A.isReadable(e):/state: 'readable'/.test(h.inspect(e))))}function P(e){return{localAddress:e.localAddress,localPort:e.localPort,remoteAddress:e.remoteAddress,remotePort:e.remotePort,remoteFamily:e.remoteFamily,timeout:e.timeout,bytesWritten:e.bytesWritten,bytesRead:e.bytesRead}}async function*J(e){for await(let t of e)yield Buffer.isBuffer(t)?t:Buffer.from(t)}function V(e){let t;return(n||(n=r(35356).ReadableStream),n.from)?n.from(J(e)):new n({async start(){t=e[Symbol.asyncIterator]()},async pull(e){let{done:r,value:n}=await t.next();if(r)queueMicrotask(()=>{e.close()});else{let t=Buffer.isBuffer(n)?n:Buffer.from(n);e.enqueue(new Uint8Array(t))}return e.desiredSize>0},async cancel(e){await t.return()}},0)}function H(e){return e&&"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"FormData"===e[Symbol.toStringTag]}function G(e){if(e){if("function"==typeof e.throwIfAborted)e.throwIfAborted();else if(e.aborted){let e=Error("The operation was aborted");throw e.name="AbortError",e}}}function j(e,t){return"addEventListener"in e?(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)):(e.addListener("abort",t),()=>e.removeListener("abort",t))}let Y=!!String.prototype.toWellFormed;function W(e){return Y?`${e}`.toWellFormed():h.toUSVString?h.toUSVString(e):`${e}`}function q(e){if(null==e||""===e)return{start:0,end:null,size:null};let t=e?e.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return t?{start:parseInt(t[1]),end:t[2]?parseInt(t[2]):null,size:t[3]?parseInt(t[3]):null}:null}let K=Object.create(null);K.enumerable=!0,e.exports={kEnumerableProperty:K,nop:p,isDisturbed:O,isErrored:x,isReadable:U,toUSVString:W,isReadableAborted:R,isBlobLike:m,parseOrigin:I,parseURL:y,getServerName:Q,isStream:E,isIterable:b,isAsyncIterable:w,isDestroyed:k,parseRawHeaders:F,parseHeaders:N,parseKeepAliveTimeout:T,destroy:D,bodyLength:S,deepClone:v,ReadableStreamFrom:V,isBuffer:M,validateHandler:L,getSocketInfo:P,isFormDataLike:H,buildURL:C,throwIfAborted:G,addAbortListener:j,parseRangeHeader:q,nodeMajor:g,nodeMinor:f,nodeHasAutoSelectFamily:g>18||18===g&&f>=13,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"]}},59515:(e,t,r)=>{"use strict";let n=r(71161),{ClientDestroyedError:i,ClientClosedError:s,InvalidArgumentError:o}=r(29615),{kDestroy:a,kClose:A,kDispatch:l,kInterceptors:c}=r(44466),u=Symbol("destroyed"),h=Symbol("closed"),d=Symbol("onDestroyed"),g=Symbol("onClosed"),f=Symbol("Intercepted Dispatch");class p extends n{constructor(){super(),this[u]=!1,this[d]=null,this[h]=!1,this[g]=[]}get destroyed(){return this[u]}get closed(){return this[h]}get interceptors(){return this[c]}set interceptors(e){if(e){for(let t=e.length-1;t>=0;t--)if("function"!=typeof this[c][t])throw new o("interceptor must be an function")}this[c]=e}close(e){if(void 0===e)return new Promise((e,t)=>{this.close((r,n)=>r?t(r):e(n))});if("function"!=typeof e)throw new o("invalid callback");if(this[u]){queueMicrotask(()=>e(new i,null));return}if(this[h]){this[g]?this[g].push(e):queueMicrotask(()=>e(null,null));return}this[h]=!0,this[g].push(e);let t=()=>{let e=this[g];this[g]=null;for(let t=0;t<e.length;t++)e[t](null,null)};this[A]().then(()=>this.destroy()).then(()=>{queueMicrotask(t)})}destroy(e,t){if("function"==typeof e&&(t=e,e=null),void 0===t)return new Promise((t,r)=>{this.destroy(e,(e,n)=>e?r(e):t(n))});if("function"!=typeof t)throw new o("invalid callback");if(this[u]){this[d]?this[d].push(t):queueMicrotask(()=>t(null,null));return}e||(e=new i),this[u]=!0,this[d]=this[d]||[],this[d].push(t);let r=()=>{let e=this[d];this[d]=null;for(let t=0;t<e.length;t++)e[t](null,null)};this[a](e).then(()=>{queueMicrotask(r)})}[f](e,t){if(!this[c]||0===this[c].length)return this[f]=this[l],this[l](e,t);let r=this[l].bind(this);for(let e=this[c].length-1;e>=0;e--)r=this[c][e](r);return this[f]=r,r(e,t)}dispatch(e,t){if(!t||"object"!=typeof t)throw new o("handler must be an object");try{if(!e||"object"!=typeof e)throw new o("opts must be an object.");if(this[u]||this[d])throw new i;if(this[h])throw new s;return this[f](e,t)}catch(e){if("function"!=typeof t.onError)throw new o("invalid onError method");return t.onError(e),!1}}}e.exports=p},71161:(e,t,r)=>{"use strict";let n=r(82361);class i extends n{dispatch(){throw Error("not implemented")}close(){throw Error("not implemented")}destroy(){throw Error("not implemented")}}e.exports=i},53107:(e,t,r)=>{"use strict";let n=r(1464),i=r(55909),{ReadableStreamFrom:s,isBlobLike:o,isReadableStreamLike:a,readableStreamClose:A,createDeferredPromise:l,fullyReadBody:c}=r(53854),{FormData:u}=r(35217),{kState:h}=r(40952),{webidl:d}=r(533),{DOMException:g,structuredClone:f}=r(19089),{Blob:p,File:E}=r(14300),{kBodyUsed:m}=r(44466),C=r(39491),{isErrored:y}=r(55909),{isUint8Array:I,isArrayBuffer:B}=r(29830),{File:Q}=r(81575),{parseMIMEType:v,serializeAMimeType:w}=r(93804),b=globalThis.ReadableStream,S=E??Q,k=new TextEncoder,R=new TextDecoder;function D(e,t=!1){b||(b=r(35356).ReadableStream);let n=null;C(a(n=e instanceof b?e:o(e)?e.stream():new b({async pull(e){e.enqueue("string"==typeof c?k.encode(c):c),queueMicrotask(()=>A(e))},start(){},type:void 0})));let l=null,c=null,u=null,h=null;if("string"==typeof e)c=e,h="text/plain;charset=UTF-8";else if(e instanceof URLSearchParams)c=e.toString(),h="application/x-www-form-urlencoded;charset=UTF-8";else if(B(e))c=new Uint8Array(e.slice());else if(ArrayBuffer.isView(e))c=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));else if(i.isFormDataLike(e)){let t=`----formdata-undici-0${`${Math.floor(1e11*Math.random())}`.padStart(11,"0")}`,r=`--${t}\r
Content-Disposition: form-data`,n=e=>e.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),i=e=>e.replace(/\r?\n|\r/g,"\r\n"),s=[],o=new Uint8Array([13,10]);u=0;let a=!1;for(let[t,A]of e)if("string"==typeof A){let e=k.encode(r+`; name="${n(i(t))}"`+`\r
\r
${i(A)}\r
`);s.push(e),u+=e.byteLength}else{let e=k.encode(`${r}; name="${n(i(t))}"`+(A.name?`; filename="${n(A.name)}"`:"")+"\r\n"+`Content-Type: ${A.type||"application/octet-stream"}\r
\r
`);s.push(e,A,o),"number"==typeof A.size?u+=e.byteLength+A.size+o.byteLength:a=!0}let A=k.encode(`--${t}--`);s.push(A),u+=A.byteLength,a&&(u=null),c=e,l=async function*(){for(let e of s)e.stream?yield*e.stream():yield e},h="multipart/form-data; boundary="+t}else if(o(e))c=e,u=e.size,e.type&&(h=e.type);else if("function"==typeof e[Symbol.asyncIterator]){if(t)throw TypeError("keepalive");if(i.isDisturbed(e)||e.locked)throw TypeError("Response body object should not be disturbed or locked");n=e instanceof b?e:s(e)}if(("string"==typeof c||i.isBuffer(c))&&(u=Buffer.byteLength(c)),null!=l){let t;n=new b({async start(){t=l(e)[Symbol.asyncIterator]()},async pull(e){let{value:r,done:i}=await t.next();return i?queueMicrotask(()=>{e.close()}):y(n)||e.enqueue(new Uint8Array(r)),e.desiredSize>0},async cancel(e){await t.return()},type:void 0})}return[{stream:n,source:c,length:u},h]}function _(e,t=!1){return b||(b=r(35356).ReadableStream),e instanceof b&&(C(!i.isDisturbed(e),"The body has already been consumed."),C(!e.locked,"The stream is locked.")),D(e,t)}function T(e){let[t,r]=e.stream.tee(),[,n]=f(r,{transfer:[r]}).tee();return e.stream=t,{stream:n,length:e.length,source:e.source}}async function*N(e){if(e){if(I(e))yield e;else{let t=e.stream;if(i.isDisturbed(t))throw TypeError("The body has already been consumed.");if(t.locked)throw TypeError("The stream is locked.");t[m]=!0,yield*t}}}function F(e){if(e.aborted)throw new g("The operation was aborted.","AbortError")}function M(e){return{blob(){return O(this,e=>{let t=J(this);return"failure"===t?t="":t&&(t=w(t)),new p([e],{type:t})},e)},arrayBuffer(){return O(this,e=>new Uint8Array(e).buffer,e)},text(){return O(this,U,e)},json(){return O(this,P,e)},async formData(){d.brandCheck(this,e),F(this[h]);let t=this.headers.get("Content-Type");if(/multipart\/form-data/.test(t)){let e;let t={};for(let[e,r]of this.headers)t[e.toLowerCase()]=r;let r=new u;try{e=new n({headers:t,preservePath:!0})}catch(e){throw new g(`${e}`,"AbortError")}e.on("field",(e,t)=>{r.append(e,t)}),e.on("file",(e,t,n,i,s)=>{let o=[];if("base64"===i||"base64"===i.toLowerCase()){let i="";t.on("data",e=>{let t=(i+=e.toString().replace(/[\r\n]/gm,"")).length-i.length%4;o.push(Buffer.from(i.slice(0,t),"base64")),i=i.slice(t)}),t.on("end",()=>{o.push(Buffer.from(i,"base64")),r.append(e,new S(o,n,{type:s}))})}else t.on("data",e=>{o.push(e)}),t.on("end",()=>{r.append(e,new S(o,n,{type:s}))})});let i=new Promise((t,r)=>{e.on("finish",t),e.on("error",e=>r(TypeError(e)))});if(null!==this.body)for await(let t of N(this[h].body))e.write(t);return e.end(),await i,r}if(/application\/x-www-form-urlencoded/.test(t)){let e;try{let t="",r=new TextDecoder("utf-8",{ignoreBOM:!0});for await(let e of N(this[h].body)){if(!I(e))throw TypeError("Expected Uint8Array chunk");t+=r.decode(e,{stream:!0})}t+=r.decode(),e=new URLSearchParams(t)}catch(e){throw Object.assign(TypeError(),{cause:e})}let t=new u;for(let[r,n]of e)t.append(r,n);return t}throw await Promise.resolve(),F(this[h]),d.errors.exception({header:`${e.name}.formData`,message:"Could not parse content as FormData."})}}}function L(e){Object.assign(e.prototype,M(e))}async function O(e,t,r){if(d.brandCheck(e,r),F(e[h]),x(e[h].body))throw TypeError("Body is unusable");let n=l(),i=e=>n.reject(e),s=e=>{try{n.resolve(t(e))}catch(e){i(e)}};return null==e[h].body?s(new Uint8Array):await c(e[h].body,s,i),n.promise}function x(e){return null!=e&&(e.stream.locked||i.isDisturbed(e.stream))}function U(e){return 0===e.length?"":(239===e[0]&&187===e[1]&&191===e[2]&&(e=e.subarray(3)),R.decode(e))}function P(e){return JSON.parse(U(e))}function J(e){let{headersList:t}=e[h],r=t.get("content-type");return null===r?"failure":v(r)}e.exports={extractBody:D,safelyExtractBody:_,cloneBody:T,mixinBody:L}},19089:(e,t,r)=>{"use strict";let n;let{MessageChannel:i,receiveMessageOnPort:s}=r(71267),o=["GET","HEAD","POST"],a=new Set(o),A=[101,204,205,304],l=[301,302,303,307,308],c=new Set(l),u=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","5060","5061","6000","6566","6665","6666","6667","6668","6669","6697","10080"],h=new Set(u),d=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],g=new Set(d),f=["follow","manual","error"],p=["GET","HEAD","OPTIONS","TRACE"],E=new Set(p),m=["navigate","same-origin","no-cors","cors"],C=["omit","same-origin","include"],y=["default","no-store","reload","no-cache","force-cache","only-if-cached"],I=["content-encoding","content-language","content-location","content-type","content-length"],B=["half"],Q=["CONNECT","TRACE","TRACK"],v=new Set(Q),w=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],b=new Set(w),S=globalThis.DOMException??(()=>{try{atob("~")}catch(e){return Object.getPrototypeOf(e).constructor}})(),k=globalThis.structuredClone??function(e,t){if(0==arguments.length)throw TypeError("missing argument");return n||(n=new i),n.port1.unref(),n.port2.unref(),n.port1.postMessage(e,t?.transfer),s(n.port2).message};e.exports={DOMException:S,structuredClone:k,subresource:w,forbiddenMethods:Q,requestBodyHeader:I,referrerPolicy:d,requestRedirect:f,requestMode:m,requestCredentials:C,requestCache:y,redirectStatus:l,corsSafeListedMethods:o,nullBodyStatus:A,safeMethods:p,badPorts:u,requestDuplex:B,subresourceSet:b,badPortsSet:h,redirectStatusSet:c,corsSafeListedMethodsSet:a,safeMethodsSet:E,forbiddenMethodsSet:v,referrerPolicySet:g}},93804:(e,t,r)=>{"use strict";let n=r(39491),{atob:i}=r(14300),{isomorphicDecode:s}=r(53854),o=new TextEncoder,a=/^[!#$%&'*+-.^_|~A-Za-z0-9]+$/,A=/(\u000A|\u000D|\u0009|\u0020)/,l=/[\u0009|\u0020-\u007E|\u0080-\u00FF]/;function c(e){n("data:"===e.protocol);let t=u(e,!0);t=t.slice(5);let r={position:0},i=d(",",t,r),o=i.length;if(i=Q(i,!0,!0),r.position>=t.length)return"failure";r.position++;let a=g(t.slice(o+1));if(/;(\u0020){0,}base64$/i.test(i)){if("failure"===(a=E(s(a))))return"failure";i=(i=(i=i.slice(0,-6)).replace(/(\u0020)+$/,"")).slice(0,-1)}i.startsWith(";")&&(i="text/plain"+i);let A=p(i);return"failure"===A&&(A=p("text/plain;charset=US-ASCII")),{mimeType:A,body:a}}function u(e,t=!1){if(!t)return e.href;let r=e.href,n=e.hash.length;return 0===n?r:r.substring(0,r.length-n)}function h(e,t,r){let n="";for(;r.position<t.length&&e(t[r.position]);)n+=t[r.position],r.position++;return n}function d(e,t,r){let n=t.indexOf(e,r.position),i=r.position;return -1===n?(r.position=t.length,t.slice(i)):(r.position=n,t.slice(i,r.position))}function g(e){return f(o.encode(e))}function f(e){let t=[];for(let r=0;r<e.length;r++){let n=e[r];if(37!==n)t.push(n);else if(37!==n||/^[0-9A-Fa-f]{2}$/i.test(String.fromCharCode(e[r+1],e[r+2]))){let n=Number.parseInt(String.fromCharCode(e[r+1],e[r+2]),16);t.push(n),r+=2}else t.push(37)}return Uint8Array.from(t)}function p(e){e=I(e,!0,!0);let t={position:0},r=d("/",e,t);if(0===r.length||!a.test(r)||t.position>e.length)return"failure";t.position++;let n=d(";",e,t);if(0===(n=I(n,!1,!0)).length||!a.test(n))return"failure";let i=r.toLowerCase(),s=n.toLowerCase(),o={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;t.position<e.length;){t.position++,h(e=>A.test(e),e,t);let r=h(e=>";"!==e&&"="!==e,e,t);if(r=r.toLowerCase(),t.position<e.length){if(";"===e[t.position])continue;t.position++}if(t.position>e.length)break;let n=null;if('"'===e[t.position])n=m(e,t,!0),d(";",e,t);else if(0===(n=I(n=d(";",e,t),!1,!0)).length)continue;0!==r.length&&a.test(r)&&(0===n.length||l.test(n))&&!o.parameters.has(r)&&o.parameters.set(r,n)}return o}function E(e){if((e=e.replace(/[\u0009\u000A\u000C\u000D\u0020]/g,"")).length%4==0&&(e=e.replace(/=?=$/,"")),e.length%4==1||/[^+/0-9A-Za-z]/.test(e))return"failure";let t=i(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}function m(e,t,r){let i=t.position,s="";for(n('"'===e[t.position]),t.position++;s+=h(e=>'"'!==e&&"\\"!==e,e,t),!(t.position>=e.length);){let r=e[t.position];if(t.position++,"\\"===r){if(t.position>=e.length){s+="\\";break}s+=e[t.position],t.position++}else{n('"'===r);break}}return r?s:e.slice(i,t.position)}function C(e){n("failure"!==e);let{parameters:t,essence:r}=e,i=r;for(let[e,r]of t.entries())i+=";"+e+"=",a.test(r)||(r='"'+(r=r.replace(/(\\|")/g,"\\$1"))+'"'),i+=r;return i}function y(e){return"\r"===e||"\n"===e||"	"===e||" "===e}function I(e,t=!0,r=!0){let n=0,i=e.length-1;if(t)for(;n<e.length&&y(e[n]);n++);if(r)for(;i>0&&y(e[i]);i--);return e.slice(n,i+1)}function B(e){return"\r"===e||"\n"===e||"	"===e||"\f"===e||" "===e}function Q(e,t=!0,r=!0){let n=0,i=e.length-1;if(t)for(;n<e.length&&B(e[n]);n++);if(r)for(;i>0&&B(e[i]);i--);return e.slice(n,i+1)}e.exports={dataURLProcessor:c,URLSerializer:u,collectASequenceOfCodePoints:h,collectASequenceOfCodePointsFast:d,stringPercentDecode:g,parseMIMEType:p,collectAnHTTPQuotedString:m,serializeAMimeType:C}},81575:(e,t,r)=>{"use strict";let{Blob:n,File:i}=r(14300),{types:s}=r(73837),{kState:o}=r(40952),{isBlobLike:a}=r(53854),{webidl:A}=r(533),{parseMIMEType:l,serializeAMimeType:c}=r(93804),{kEnumerableProperty:u}=r(55909),h=new TextEncoder;class d extends n{constructor(e,t,r={}){let n;A.argumentLengthCheck(arguments,2,{header:"File constructor"}),e=A.converters["sequence<BlobPart>"](e),t=A.converters.USVString(t),r=A.converters.FilePropertyBag(r);let i=t,s=r.type;n:{if(s){if("failure"===(s=l(s))){s="";break n}s=c(s).toLowerCase()}n=r.lastModified}super(f(e,r),{type:s}),this[o]={name:i,lastModified:n,type:s}}get name(){return A.brandCheck(this,d),this[o].name}get lastModified(){return A.brandCheck(this,d),this[o].lastModified}get type(){return A.brandCheck(this,d),this[o].type}}class g{constructor(e,t,r={}){let n=t,i=r.type,s=r.lastModified??Date.now();this[o]={blobLike:e,name:n,type:i,lastModified:s}}stream(...e){return A.brandCheck(this,g),this[o].blobLike.stream(...e)}arrayBuffer(...e){return A.brandCheck(this,g),this[o].blobLike.arrayBuffer(...e)}slice(...e){return A.brandCheck(this,g),this[o].blobLike.slice(...e)}text(...e){return A.brandCheck(this,g),this[o].blobLike.text(...e)}get size(){return A.brandCheck(this,g),this[o].blobLike.size}get type(){return A.brandCheck(this,g),this[o].blobLike.type}get name(){return A.brandCheck(this,g),this[o].name}get lastModified(){return A.brandCheck(this,g),this[o].lastModified}get[Symbol.toStringTag](){return"File"}}function f(e,t){let r=[];for(let n of e)if("string"==typeof n){let e=n;"native"===t.endings&&(e=p(e)),r.push(h.encode(e))}else s.isAnyArrayBuffer(n)||s.isTypedArray(n)?n.buffer?r.push(new Uint8Array(n.buffer,n.byteOffset,n.byteLength)):r.push(new Uint8Array(n)):a(n)&&r.push(n);return r}function p(e){let t="\n";return"win32"===process.platform&&(t="\r\n"),e.replace(/\r?\n/g,t)}function E(e){return i&&e instanceof i||e instanceof d||e&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&"File"===e[Symbol.toStringTag]}Object.defineProperties(d.prototype,{[Symbol.toStringTag]:{value:"File",configurable:!0},name:u,lastModified:u}),A.converters.Blob=A.interfaceConverter(n),A.converters.BlobPart=function(e,t){if("Object"===A.util.Type(e)){if(a(e))return A.converters.Blob(e,{strict:!1});if(ArrayBuffer.isView(e)||s.isAnyArrayBuffer(e))return A.converters.BufferSource(e,t)}return A.converters.USVString(e,t)},A.converters["sequence<BlobPart>"]=A.sequenceConverter(A.converters.BlobPart),A.converters.FilePropertyBag=A.dictionaryConverter([{key:"lastModified",converter:A.converters["long long"],get defaultValue(){return Date.now()}},{key:"type",converter:A.converters.DOMString,defaultValue:""},{key:"endings",converter:e=>("native"!==(e=(e=A.converters.DOMString(e)).toLowerCase())&&(e="transparent"),e),defaultValue:"transparent"}]),e.exports={File:d,FileLike:g,isFileLike:E}},35217:(e,t,r)=>{"use strict";let{isBlobLike:n,toUSVString:i,makeIterator:s}=r(53854),{kState:o}=r(40952),{File:a,FileLike:A,isFileLike:l}=r(81575),{webidl:c}=r(533),{Blob:u,File:h}=r(14300),d=h??a;class g{constructor(e){if(void 0!==e)throw c.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[o]=[]}append(e,t,r){if(c.brandCheck(this,g),c.argumentLengthCheck(arguments,2,{header:"FormData.append"}),3==arguments.length&&!n(t))throw TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");e=c.converters.USVString(e),t=n(t)?c.converters.Blob(t,{strict:!1}):c.converters.USVString(t),r=3==arguments.length?c.converters.USVString(r):void 0;let i=f(e,t,r);this[o].push(i)}delete(e){c.brandCheck(this,g),c.argumentLengthCheck(arguments,1,{header:"FormData.delete"}),e=c.converters.USVString(e),this[o]=this[o].filter(t=>t.name!==e)}get(e){c.brandCheck(this,g),c.argumentLengthCheck(arguments,1,{header:"FormData.get"}),e=c.converters.USVString(e);let t=this[o].findIndex(t=>t.name===e);return -1===t?null:this[o][t].value}getAll(e){return c.brandCheck(this,g),c.argumentLengthCheck(arguments,1,{header:"FormData.getAll"}),e=c.converters.USVString(e),this[o].filter(t=>t.name===e).map(e=>e.value)}has(e){return c.brandCheck(this,g),c.argumentLengthCheck(arguments,1,{header:"FormData.has"}),e=c.converters.USVString(e),-1!==this[o].findIndex(t=>t.name===e)}set(e,t,r){if(c.brandCheck(this,g),c.argumentLengthCheck(arguments,2,{header:"FormData.set"}),3==arguments.length&&!n(t))throw TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");e=c.converters.USVString(e),t=n(t)?c.converters.Blob(t,{strict:!1}):c.converters.USVString(t),r=3==arguments.length?i(r):void 0;let s=f(e,t,r),a=this[o].findIndex(t=>t.name===e);-1!==a?this[o]=[...this[o].slice(0,a),s,...this[o].slice(a+1).filter(t=>t.name!==e)]:this[o].push(s)}entries(){return c.brandCheck(this,g),s(()=>this[o].map(e=>[e.name,e.value]),"FormData","key+value")}keys(){return c.brandCheck(this,g),s(()=>this[o].map(e=>[e.name,e.value]),"FormData","key")}values(){return c.brandCheck(this,g),s(()=>this[o].map(e=>[e.name,e.value]),"FormData","value")}forEach(e,t=globalThis){if(c.brandCheck(this,g),c.argumentLengthCheck(arguments,1,{header:"FormData.forEach"}),"function"!=typeof e)throw TypeError("Failed to execute 'forEach' on 'FormData': parameter 1 is not of type 'Function'.");for(let[r,n]of this)e.apply(t,[n,r,this])}}function f(e,t,r){if(e=Buffer.from(e).toString("utf8"),"string"==typeof t)t=Buffer.from(t).toString("utf8");else if(l(t)||(t=t instanceof u?new d([t],"blob",{type:t.type}):new A(t,"blob",{type:t.type})),void 0!==r){let e={type:t.type,lastModified:t.lastModified};t=h&&t instanceof h||t instanceof a?new d([t],r,e):new A(t,r,e)}return{name:e,value:t}}g.prototype[Symbol.iterator]=g.prototype.entries,Object.defineProperties(g.prototype,{[Symbol.toStringTag]:{value:"FormData",configurable:!0}}),e.exports={FormData:g}},17901:e=>{"use strict";let t=Symbol.for("undici.globalOrigin.1");function r(){return globalThis[t]}function n(e){if(void 0===e){Object.defineProperty(globalThis,t,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let r=new URL(e);if("http:"!==r.protocol&&"https:"!==r.protocol)throw TypeError(`Only http & https urls are allowed, received ${r.protocol}`);Object.defineProperty(globalThis,t,{value:r,writable:!0,enumerable:!1,configurable:!1})}e.exports={getGlobalOrigin:r,setGlobalOrigin:n}},85887:(e,t,r)=>{"use strict";let{kHeadersList:n,kConstruct:i}=r(44466),{kGuard:s}=r(40952),{kEnumerableProperty:o}=r(55909),{makeIterator:a,isValidHeaderName:A,isValidHeaderValue:l}=r(53854),{webidl:c}=r(533),u=r(39491),h=Symbol("headers map"),d=Symbol("headers map sorted");function g(e){return 10===e||13===e||9===e||32===e}function f(e){let t=0,r=e.length;for(;r>t&&g(e.charCodeAt(r-1));)--r;for(;r>t&&g(e.charCodeAt(t));)++t;return 0===t&&r===e.length?e:e.substring(t,r)}function p(e,t){if(Array.isArray(t))for(let r=0;r<t.length;++r){let n=t[r];if(2!==n.length)throw c.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});E(e,n[0],n[1])}else if("object"==typeof t&&null!==t){let r=Object.keys(t);for(let n=0;n<r.length;++n)E(e,r[n],t[r[n]])}else throw c.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}function E(e,t,r){if(r=f(r),A(t)){if(!l(r))throw c.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw c.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header name"});if("immutable"===e[s])throw TypeError("immutable");return e[s],e[n].append(t,r)}class m{constructor(e){this.cookies=null,e instanceof m?(this[h]=new Map(e[h]),this[d]=e[d],this.cookies=null===e.cookies?null:[...e.cookies]):(this[h]=new Map(e),this[d]=null)}contains(e){return e=e.toLowerCase(),this[h].has(e)}clear(){this[h].clear(),this[d]=null,this.cookies=null}append(e,t){this[d]=null;let r=e.toLowerCase(),n=this[h].get(r);if(n){let e="cookie"===r?"; ":", ";this[h].set(r,{name:n.name,value:`${n.value}${e}${t}`})}else this[h].set(r,{name:e,value:t});"set-cookie"===r&&(this.cookies??=[],this.cookies.push(t))}set(e,t){this[d]=null;let r=e.toLowerCase();"set-cookie"===r&&(this.cookies=[t]),this[h].set(r,{name:e,value:t})}delete(e){this[d]=null,"set-cookie"===(e=e.toLowerCase())&&(this.cookies=null),this[h].delete(e)}get(e){let t=this[h].get(e.toLowerCase());return void 0===t?null:t.value}*[Symbol.iterator](){for(let[e,{value:t}]of this[h])yield[e,t]}get entries(){let e={};if(this[h].size)for(let{name:t,value:r}of this[h].values())e[t]=r;return e}}class C{constructor(e){if(e===i)return;this[n]=new m,this[s]="none",void 0!==e&&p(this,e=c.converters.HeadersInit(e))}append(e,t){return c.brandCheck(this,C),c.argumentLengthCheck(arguments,2,{header:"Headers.append"}),e=c.converters.ByteString(e),t=c.converters.ByteString(t),E(this,e,t)}delete(e){if(c.brandCheck(this,C),c.argumentLengthCheck(arguments,1,{header:"Headers.delete"}),!A(e=c.converters.ByteString(e)))throw c.errors.invalidArgument({prefix:"Headers.delete",value:e,type:"header name"});if("immutable"===this[s])throw TypeError("immutable");this[s],this[n].contains(e)&&this[n].delete(e)}get(e){if(c.brandCheck(this,C),c.argumentLengthCheck(arguments,1,{header:"Headers.get"}),!A(e=c.converters.ByteString(e)))throw c.errors.invalidArgument({prefix:"Headers.get",value:e,type:"header name"});return this[n].get(e)}has(e){if(c.brandCheck(this,C),c.argumentLengthCheck(arguments,1,{header:"Headers.has"}),!A(e=c.converters.ByteString(e)))throw c.errors.invalidArgument({prefix:"Headers.has",value:e,type:"header name"});return this[n].contains(e)}set(e,t){if(c.brandCheck(this,C),c.argumentLengthCheck(arguments,2,{header:"Headers.set"}),e=c.converters.ByteString(e),t=f(t=c.converters.ByteString(t)),A(e)){if(!l(t))throw c.errors.invalidArgument({prefix:"Headers.set",value:t,type:"header value"})}else throw c.errors.invalidArgument({prefix:"Headers.set",value:e,type:"header name"});if("immutable"===this[s])throw TypeError("immutable");this[s],this[n].set(e,t)}getSetCookie(){c.brandCheck(this,C);let e=this[n].cookies;return e?[...e]:[]}get[d](){if(this[n][d])return this[n][d];let e=[],t=[...this[n]].sort((e,t)=>e[0]<t[0]?-1:1),r=this[n].cookies;for(let n=0;n<t.length;++n){let[i,s]=t[n];if("set-cookie"===i)for(let t=0;t<r.length;++t)e.push([i,r[t]]);else u(null!==s),e.push([i,s])}return this[n][d]=e,e}keys(){if(c.brandCheck(this,C),"immutable"===this[s]){let e=this[d];return a(()=>e,"Headers","key")}return a(()=>[...this[d].values()],"Headers","key")}values(){if(c.brandCheck(this,C),"immutable"===this[s]){let e=this[d];return a(()=>e,"Headers","value")}return a(()=>[...this[d].values()],"Headers","value")}entries(){if(c.brandCheck(this,C),"immutable"===this[s]){let e=this[d];return a(()=>e,"Headers","key+value")}return a(()=>[...this[d].values()],"Headers","key+value")}forEach(e,t=globalThis){if(c.brandCheck(this,C),c.argumentLengthCheck(arguments,1,{header:"Headers.forEach"}),"function"!=typeof e)throw TypeError("Failed to execute 'forEach' on 'Headers': parameter 1 is not of type 'Function'.");for(let[r,n]of this)e.apply(t,[n,r,this])}[Symbol.for("nodejs.util.inspect.custom")](){return c.brandCheck(this,C),this[n]}}C.prototype[Symbol.iterator]=C.prototype.entries,Object.defineProperties(C.prototype,{append:o,delete:o,get:o,has:o,set:o,getSetCookie:o,keys:o,values:o,entries:o,forEach:o,[Symbol.iterator]:{enumerable:!1},[Symbol.toStringTag]:{value:"Headers",configurable:!0}}),c.converters.HeadersInit=function(e){if("Object"===c.util.Type(e))return e[Symbol.iterator]?c.converters["sequence<sequence<ByteString>>"](e):c.converters["record<ByteString, ByteString>"](e);throw c.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})},e.exports={fill:p,Headers:C,HeadersList:m}},14713:(e,t,r)=>{"use strict";let n;let{Response:i,makeNetworkError:s,makeAppropriateNetworkError:o,filterResponse:a,makeResponse:A}=r(83748),{Headers:l}=r(85887),{Request:c,makeRequest:u}=r(50646),h=r(59796),{bytesMatch:d,makePolicyContainer:g,clonePolicyContainer:f,requestBadPort:p,TAOCheck:E,appendRequestOriginHeader:m,responseLocationURL:C,requestCurrentURL:y,setRequestReferrerPolicyOnRedirect:I,tryUpgradeRequestToAPotentiallyTrustworthyURL:B,createOpaqueTimingInfo:Q,appendFetchMetadata:v,corsCheck:w,crossOriginResourcePolicyCheck:b,determineRequestsReferrer:S,coarsenedSharedCurrentTime:k,createDeferredPromise:R,isBlobLike:D,sameOrigin:_,isCancelled:T,isAborted:N,isErrorLike:F,fullyReadBody:M,readableStreamClose:L,isomorphicEncode:O,urlIsLocal:x,urlIsHttpHttpsScheme:U,urlHasHttpsScheme:P}=r(53854),{kState:J,kHeaders:V,kGuard:H,kRealm:G}=r(40952),j=r(39491),{safelyExtractBody:Y}=r(53107),{redirectStatusSet:W,nullBodyStatus:q,safeMethodsSet:K,requestBodyHeader:z,subresourceSet:$,DOMException:X}=r(19089),{kHeadersList:Z}=r(44466),ee=r(82361),{Readable:et,pipeline:er}=r(12781),{addAbortListener:en,isErrored:ei,isReadable:es,nodeMajor:eo,nodeMinor:ea}=r(55909),{dataURLProcessor:eA,serializeAMimeType:el}=r(93804),{TransformStream:ec}=r(35356),{getGlobalDispatcher:eu}=r(50585),{webidl:eh}=r(533),{STATUS_CODES:ed}=r(13685),eg=["GET","HEAD"],ef=globalThis.ReadableStream;class ep extends ee{constructor(e){super(),this.dispatcher=e,this.connection=null,this.dump=!1,this.state="ongoing",this.setMaxListeners(21)}terminate(e){"ongoing"===this.state&&(this.state="terminated",this.connection?.destroy(e),this.emit("terminated",e))}abort(e){"ongoing"===this.state&&(this.state="aborted",e||(e=new X("The operation was aborted.","AbortError")),this.serializedAbortReason=e,this.connection?.destroy(e),this.emit("terminated",e))}}function eE(e,t={}){let r;eh.argumentLengthCheck(arguments,1,{header:"globalThis.fetch"});let n=R();try{r=new c(e,t)}catch(e){return n.reject(e),n.promise}let s=r[J];if(r.signal.aborted)return ey(n,s,null,r.signal.reason),n.promise;let o=s.client.globalObject;o?.constructor?.name==="ServiceWorkerGlobalScope"&&(s.serviceWorkers="none");let a=null,A=null,l=!1,u=null;en(r.signal,()=>{l=!0,j(null!=u),u.abort(r.signal.reason),ey(n,s,a,r.signal.reason)});let h=e=>l?Promise.resolve():e.aborted?(ey(n,s,a,u.serializedAbortReason),Promise.resolve()):"error"===e.type?(n.reject(Object.assign(TypeError("fetch failed"),{cause:e.error})),Promise.resolve()):void((a=new i)[J]=e,a[G]=A,a[V][Z]=e.headersList,a[V][H]="immutable",a[V][G]=A,n.resolve(a));return u=eI({request:s,processResponseEndOfBody:e=>em(e,"fetch"),processResponse:h,dispatcher:t.dispatcher??eu()}),n.promise}function em(e,t="other"){if("error"===e.type&&e.aborted||!e.urlList?.length)return;let r=e.urlList[0],n=e.timingInfo,i=e.cacheState;U(r)&&null!==n&&(e.timingAllowPassed||(n=Q({startTime:n.startTime}),i=""),n.endTime=k(),e.timingInfo=n,eC(n,r,t,globalThis,i))}function eC(e,t,r,n,i){(eo>18||18===eo&&ea>=2)&&performance.markResourceTiming(e,t.href,r,n,i)}function ey(e,t,r,n){if(n||(n=new X("The operation was aborted.","AbortError")),e.reject(n),null!=t.body&&es(t.body?.stream)&&t.body.stream.cancel(n).catch(e=>{if("ERR_INVALID_STATE"!==e.code)throw e}),null==r)return;let i=r[J];null!=i.body&&es(i.body?.stream)&&i.body.stream.cancel(n).catch(e=>{if("ERR_INVALID_STATE"!==e.code)throw e})}function eI({request:e,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:o=!1,dispatcher:a}){let A=null,l=!1;null!=e.client&&(A=e.client.globalObject,l=e.client.crossOriginIsolatedCapability);let c=Q({startTime:k(l)}),u={controller:new ep(a),request:e,timingInfo:c,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:A,crossOriginIsolatedCapability:l};if(j(!e.body||e.body.stream),"client"===e.window&&(e.window=e.client?.globalObject?.constructor?.name==="Window"?e.client:"no-window"),"client"===e.origin&&(e.origin=e.client?.origin),"client"===e.policyContainer&&(null!=e.client?e.policyContainer=f(e.client.policyContainer):e.policyContainer=g()),!e.headersList.contains("accept")){let t="*/*";e.headersList.append("accept",t)}return e.headersList.contains("accept-language")||e.headersList.append("accept-language","*"),e.priority,$.has(e.destination),eB(u).catch(e=>{u.controller.terminate(e)}),u.controller}async function eB(e,t=!1){let r=e.request,n=null;if(r.localURLsOnly&&!x(y(r))&&(n=s("local URLs only")),B(r),"blocked"===p(r)&&(n=s("bad port")),""===r.referrerPolicy&&(r.referrerPolicy=r.policyContainer.referrerPolicy),"no-referrer"!==r.referrer&&(r.referrer=S(r)),null===n&&(n=await (async()=>{let t=y(r);return _(t,r.url)&&"basic"===r.responseTainting||"data:"===t.protocol||"navigate"===r.mode||"websocket"===r.mode?(r.responseTainting="basic",await eQ(e)):"same-origin"===r.mode?s('request mode cannot be "same-origin"'):"no-cors"===r.mode?"follow"!==r.redirect?s('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await eQ(e)):U(y(r))?(r.responseTainting="cors",await eb(e)):s("URL scheme must be a HTTP(S) scheme")})()),t)return n;0===n.status||n.internalResponse||(r.responseTainting,"basic"===r.responseTainting?n=a(n,"basic"):"cors"===r.responseTainting?n=a(n,"cors"):"opaque"===r.responseTainting?n=a(n,"opaque"):j(!1));let i=0===n.status?n:n.internalResponse;if(0===i.urlList.length&&i.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),"opaque"===n.type&&206===i.status&&i.rangeRequested&&!r.headers.contains("range")&&(n=i=s()),0!==n.status&&("HEAD"===r.method||"CONNECT"===r.method||q.includes(i.status))&&(i.body=null,e.controller.dump=!0),r.integrity){let t=t=>ew(e,s(t));if("opaque"===r.responseTainting||null==n.body){t(n.error);return}let i=i=>{if(!d(i,r.integrity)){t("integrity mismatch");return}n.body=Y(i)[0],ew(e,n)};await M(n.body,i,t)}else ew(e,n)}function eQ(e){if(T(e)&&0===e.request.redirectCount)return Promise.resolve(o(e));let{request:t}=e,{protocol:i}=y(t);switch(i){case"about:":return Promise.resolve(s("about scheme is not supported"));case"blob:":{n||(n=r(14300).resolveObjectURL);let e=y(t);if(0!==e.search.length)return Promise.resolve(s("NetworkError when attempting to fetch resource."));let i=n(e.toString());if("GET"!==t.method||!D(i))return Promise.resolve(s("invalid method"));let o=Y(i),a=o[0],l=A({statusText:"OK",headersList:[["content-length",{name:"Content-Length",value:O(`${a.length}`)}],["content-type",{name:"Content-Type",value:o[1]??""}]]});return l.body=a,Promise.resolve(l)}case"data:":{let e=eA(y(t));if("failure"===e)return Promise.resolve(s("failed to fetch the data URL"));return Promise.resolve(A({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:el(e.mimeType)}]],body:Y(e.body)[0]}))}case"file:":return Promise.resolve(s("not implemented... yet..."));case"http:":case"https:":return eb(e).catch(e=>s(e));default:return Promise.resolve(s("unknown scheme"))}}function ev(e,t){e.request.done=!0,null!=e.processResponseDone&&queueMicrotask(()=>e.processResponseDone(t))}function ew(e,t){"error"===t.type&&(t.urlList=[e.request.urlList[0]],t.timingInfo=Q({startTime:e.timingInfo.startTime}));let r=()=>{e.request.done=!0,null!=e.processResponseEndOfBody&&queueMicrotask(()=>e.processResponseEndOfBody(t))};if(null!=e.processResponse&&queueMicrotask(()=>e.processResponse(t)),null==t.body)r();else{let e=new ec({start(){},transform:(e,t)=>{t.enqueue(e)},flush:r},{size:()=>1},{size:()=>1});t.body={stream:t.body.stream.pipeThrough(e)}}if(null!=e.processResponseConsumeBody){let r=r=>e.processResponseConsumeBody(t,r),n=r=>e.processResponseConsumeBody(t,r);return null!=t.body?M(t.body,r,n):(queueMicrotask(()=>r(null)),Promise.resolve())}}async function eb(e){let t=e.request,r=null,n=null,i=e.timingInfo;if(t.serviceWorkers,null===r){if("follow"===t.redirect&&(t.serviceWorkers="none"),n=r=await ek(e),"cors"===t.responseTainting&&"failure"===w(t,r))return s("cors failure");"failure"===E(t,r)&&(t.timingAllowFailed=!0)}return("opaque"===t.responseTainting||"opaque"===r.type)&&"blocked"===b(t.origin,t.client,t.destination,n)?s("blocked"):(W.has(n.status)&&("manual"!==t.redirect&&e.controller.connection.destroy(),"error"===t.redirect?r=s("unexpected redirect"):"manual"===t.redirect?r=n:"follow"===t.redirect?r=await eS(e,r):j(!1)),r.timingInfo=i,r)}function eS(e,t){let r;let n=e.request,i=t.internalResponse?t.internalResponse:t;try{if(r=C(i,y(n).hash),null==r)return t}catch(e){return Promise.resolve(s(e))}if(!U(r))return Promise.resolve(s("URL scheme must be a HTTP(S) scheme"));if(20===n.redirectCount)return Promise.resolve(s("redirect count exceeded"));if(n.redirectCount+=1,"cors"===n.mode&&(r.username||r.password)&&!_(n,r))return Promise.resolve(s('cross origin not allowed for request mode "cors"'));if("cors"===n.responseTainting&&(r.username||r.password))return Promise.resolve(s('URL cannot contain credentials for request mode "cors"'));if(303!==i.status&&null!=n.body&&null==n.body.source)return Promise.resolve(s());if([301,302].includes(i.status)&&"POST"===n.method||303===i.status&&!eg.includes(n.method))for(let e of(n.method="GET",n.body=null,z))n.headersList.delete(e);_(y(n),r)||(n.headersList.delete("authorization"),n.headersList.delete("proxy-authorization",!0),n.headersList.delete("cookie"),n.headersList.delete("host")),null!=n.body&&(j(null!=n.body.source),n.body=Y(n.body.source)[0]);let o=e.timingInfo;return o.redirectEndTime=o.postRedirectStartTime=k(e.crossOriginIsolatedCapability),0===o.redirectStartTime&&(o.redirectStartTime=o.startTime),n.urlList.push(r),I(n,i),eB(e,!0)}async function ek(e,t=!1,r=!1){let n=e.request,i=null,a=null,A=null,l=null,c=!1;"no-window"===n.window&&"error"===n.redirect?(i=e,a=n):(a=u(n),(i={...e}).request=a);let h="include"===n.credentials||"same-origin"===n.credentials&&"basic"===n.responseTainting,d=a.body?a.body.length:null,g=null;if(null==a.body&&["POST","PUT"].includes(a.method)&&(g="0"),null!=d&&(g=O(`${d}`)),null!=g&&a.headersList.append("content-length",g),null!=d&&a.keepalive,a.referrer instanceof URL&&a.headersList.append("referer",O(a.referrer.href)),m(a),v(a),a.headersList.contains("user-agent")||a.headersList.append("user-agent","undefined"==typeof esbuildDetection?"undici":"node"),"default"===a.cache&&(a.headersList.contains("if-modified-since")||a.headersList.contains("if-none-match")||a.headersList.contains("if-unmodified-since")||a.headersList.contains("if-match")||a.headersList.contains("if-range"))&&(a.cache="no-store"),"no-cache"!==a.cache||a.preventNoCacheCacheControlHeaderModification||a.headersList.contains("cache-control")||a.headersList.append("cache-control","max-age=0"),"no-store"!==a.cache&&"reload"!==a.cache||(a.headersList.contains("pragma")||a.headersList.append("pragma","no-cache"),a.headersList.contains("cache-control")||a.headersList.append("cache-control","no-cache")),a.headersList.contains("range")&&a.headersList.append("accept-encoding","identity"),a.headersList.contains("accept-encoding")||(P(y(a))?a.headersList.append("accept-encoding","br, gzip, deflate"):a.headersList.append("accept-encoding","gzip, deflate")),a.headersList.delete("host"),null==l&&(a.cache="no-store"),"no-store"!==a.mode&&a.mode,null==A){if("only-if-cached"===a.mode)return s("only if cached");let e=await eR(i,h,r);!K.has(a.method)&&e.status>=200&&e.status,c&&e.status,null==A&&(A=e)}if(A.urlList=[...a.urlList],a.headersList.contains("range")&&(A.rangeRequested=!0),A.requestIncludesCredentials=h,407===A.status)return"no-window"===n.window?s():T(e)?o(e):s("proxy authentication required");if(421===A.status&&!r&&(null==n.body||null!=n.body.source)){if(T(e))return o(e);e.controller.connection.destroy(),A=await ek(e,t,!0)}return A}async function eR(e,t=!1,n=!1){j(!e.controller.connection||e.controller.connection.destroyed),e.controller.connection={abort:null,destroyed:!1,destroy(e){this.destroyed||(this.destroyed=!0,this.abort?.(e??new X("The operation was aborted.","AbortError")))}};let i=e.request,a=null,c=e.timingInfo;i.cache="no-store",i.mode;let u=null;if(null==i.body&&e.processRequestEndOfBody)queueMicrotask(()=>e.processRequestEndOfBody());else if(null!=i.body){let t=async function*(t){T(e)||(yield t,e.processRequestBodyChunkLength?.(t.byteLength))},r=()=>{!T(e)&&e.processRequestEndOfBody&&e.processRequestEndOfBody()},n=t=>{T(e)||("AbortError"===t.name?e.controller.abort():e.controller.terminate(t))};u=async function*(){try{for await(let e of i.body.stream)yield*t(e);r()}catch(e){n(e)}}()}try{let{body:t,status:r,statusText:n,headersList:i,socket:s}=await E({body:u});if(s)a=A({status:r,statusText:n,headersList:i,socket:s});else{let s=t[Symbol.asyncIterator]();e.controller.next=()=>s.next(),a=A({status:r,statusText:n,headersList:i})}}catch(t){if("AbortError"===t.name)return e.controller.connection.destroy(),o(e,t);return s(t)}let d=()=>{e.controller.resume()},g=t=>{e.controller.abort(t)};ef||(ef=r(35356).ReadableStream);let f=new ef({async start(t){e.controller.controller=t},async pull(e){await d(e)},async cancel(e){await g(e)}},{highWaterMark:0,size:()=>1});function p(t){N(e)?(a.aborted=!0,es(f)&&e.controller.controller.error(e.controller.serializedAbortReason)):es(f)&&e.controller.controller.error(TypeError("terminated",{cause:F(t)?t:void 0})),e.controller.connection.destroy()}return a.body={stream:f},e.controller.on("terminated",p),e.controller.resume=async()=>{for(;;){let t,r;try{let{done:r,value:n}=await e.controller.next();if(N(e))break;t=r?void 0:n}catch(n){e.controller.ended&&!c.encodedBodySize?t=void 0:(t=n,r=!0)}if(void 0===t){L(e.controller.controller),ev(e,a);return}if(c.decodedBodySize+=t?.byteLength??0,r){e.controller.terminate(t);return}if(e.controller.controller.enqueue(new Uint8Array(t)),ei(f)){e.controller.terminate();return}if(!e.controller.controller.desiredSize)return}},a;async function E({body:t}){let r=y(i),n=e.controller.dispatcher;return new Promise((s,o)=>n.dispatch({path:r.pathname+r.search,origin:r.origin,method:i.method,body:e.controller.dispatcher.isMockActive?i.body&&(i.body.source||i.body.stream):t,headers:i.headersList.entries,maxRedirections:0,upgrade:"websocket"===i.mode?"websocket":void 0},{body:null,abort:null,onConnect(t){let{connection:r}=e.controller;r.destroyed?t(new X("The operation was aborted.","AbortError")):(e.controller.on("terminated",t),this.abort=r.abort=t)},onHeaders(e,t,r,n){if(e<200)return;let o=[],a="",A=new l;if(Array.isArray(t))for(let e=0;e<t.length;e+=2){let r=t[e+0].toString("latin1"),n=t[e+1].toString("latin1");"content-encoding"===r.toLowerCase()?o=n.toLowerCase().split(",").map(e=>e.trim()):"location"===r.toLowerCase()&&(a=n),A[Z].append(r,n)}else for(let e of Object.keys(t)){let r=t[e];"content-encoding"===e.toLowerCase()?o=r.toLowerCase().split(",").map(e=>e.trim()).reverse():"location"===e.toLowerCase()&&(a=r),A[Z].append(e,r)}this.body=new et({read:r});let c=[],u="follow"===i.redirect&&a&&W.has(e);if("HEAD"!==i.method&&"CONNECT"!==i.method&&!q.includes(e)&&!u)for(let e of o)if("x-gzip"===e||"gzip"===e)c.push(h.createGunzip({flush:h.constants.Z_SYNC_FLUSH,finishFlush:h.constants.Z_SYNC_FLUSH}));else if("deflate"===e)c.push(h.createInflate());else if("br"===e)c.push(h.createBrotliDecompress());else{c.length=0;break}return s({status:e,statusText:n,headersList:A[Z],body:c.length?er(this.body,...c,()=>{}):this.body.on("error",()=>{})}),!0},onData(t){if(e.controller.dump)return;let r=t;return c.encodedBodySize+=r.byteLength,this.body.push(r)},onComplete(){this.abort&&e.controller.off("terminated",this.abort),e.controller.ended=!0,this.body.push(null)},onError(t){this.abort&&e.controller.off("terminated",this.abort),this.body?.destroy(t),e.controller.terminate(t),o(t)},onUpgrade(e,t,r){if(101!==e)return;let n=new l;for(let e=0;e<t.length;e+=2){let r=t[e+0].toString("latin1"),i=t[e+1].toString("latin1");n[Z].append(r,i)}return s({status:e,statusText:ed[e],headersList:n[Z],socket:r}),!0}}))}}e.exports={fetch:eE,Fetch:ep,fetching:eI,finalizeAndReportTiming:em}},50646:(e,t,r)=>{"use strict";let{extractBody:n,mixinBody:i,cloneBody:s}=r(53107),{Headers:o,fill:a,HeadersList:A}=r(85887),{FinalizationRegistry:l}=r(39149)(),c=r(55909),{isValidHTTPToken:u,sameOrigin:h,normalizeMethod:d,makePolicyContainer:g,normalizeMethodRecord:f}=r(53854),{forbiddenMethodsSet:p,corsSafeListedMethodsSet:E,referrerPolicy:m,requestRedirect:C,requestMode:y,requestCredentials:I,requestCache:B,requestDuplex:Q}=r(19089),{kEnumerableProperty:v}=c,{kHeaders:w,kSignal:b,kState:S,kGuard:k,kRealm:R}=r(40952),{webidl:D}=r(533),{getGlobalOrigin:_}=r(17901),{URLSerializer:T}=r(93804),{kHeadersList:N,kConstruct:F}=r(44466),M=r(39491),{getMaxListeners:L,setMaxListeners:O,getEventListeners:x,defaultMaxListeners:U}=r(82361),P=globalThis.TransformStream,J=Symbol("abortController"),V=new l(({signal:e,abort:t})=>{e.removeEventListener("abort",t)});class H{constructor(e,t={}){let i;if(e===F)return;D.argumentLengthCheck(arguments,1,{header:"Request constructor"}),e=D.converters.RequestInfo(e),t=D.converters.RequestInit(t),this[R]={settingsObject:{baseUrl:_(),get origin(){return this.baseUrl?.origin},policyContainer:g()}};let s=null,l=null,m=this[R].settingsObject.baseUrl,C=null;if("string"==typeof e){let t;try{t=new URL(e,m)}catch(t){throw TypeError("Failed to parse URL from "+e,{cause:t})}if(t.username||t.password)throw TypeError("Request cannot be constructed from a URL that includes credentials: "+e);s=G({urlList:[t]}),l="cors"}else M(e instanceof H),s=e[S],C=e[b];let y=this[R].settingsObject.origin,I="client";if(s.window?.constructor?.name==="EnvironmentSettingsObject"&&h(s.window,y)&&(I=s.window),null!=t.window)throw TypeError(`'window' option '${I}' must be null`);"window"in t&&(I="no-window"),s=G({method:s.method,headersList:s.headersList,unsafeRequest:s.unsafeRequest,client:this[R].settingsObject,window:I,priority:s.priority,origin:s.origin,referrer:s.referrer,referrerPolicy:s.referrerPolicy,mode:s.mode,credentials:s.credentials,cache:s.cache,redirect:s.redirect,integrity:s.integrity,keepalive:s.keepalive,reloadNavigation:s.reloadNavigation,historyNavigation:s.historyNavigation,urlList:[...s.urlList]});let B=0!==Object.keys(t).length;if(B&&("navigate"===s.mode&&(s.mode="same-origin"),s.reloadNavigation=!1,s.historyNavigation=!1,s.origin="client",s.referrer="client",s.referrerPolicy="",s.url=s.urlList[s.urlList.length-1],s.urlList=[s.url]),void 0!==t.referrer){let e=t.referrer;if(""===e)s.referrer="no-referrer";else{let t;try{t=new URL(e,m)}catch(t){throw TypeError(`Referrer "${e}" is not a valid URL.`,{cause:t})}"about:"===t.protocol&&"client"===t.hostname||y&&!h(t,this[R].settingsObject.baseUrl)?s.referrer="client":s.referrer=t}}if(void 0!==t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),"navigate"===(i=void 0!==t.mode?t.mode:l))throw D.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(null!=i&&(s.mode=i),void 0!==t.credentials&&(s.credentials=t.credentials),void 0!==t.cache&&(s.cache=t.cache),"only-if-cached"===s.cache&&"same-origin"!==s.mode)throw TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(void 0!==t.redirect&&(s.redirect=t.redirect),null!=t.integrity&&(s.integrity=String(t.integrity)),void 0!==t.keepalive&&(s.keepalive=!!t.keepalive),void 0!==t.method){let e=t.method;if(!u(e))throw TypeError(`'${e}' is not a valid HTTP method.`);if(p.has(e.toUpperCase()))throw TypeError(`'${e}' HTTP method is unsupported.`);e=f[e]??d(e),s.method=e}void 0!==t.signal&&(C=t.signal),this[S]=s;let Q=new AbortController;if(this[b]=Q.signal,this[b][R]=this[R],null!=C){if(!C||"boolean"!=typeof C.aborted||"function"!=typeof C.addEventListener)throw TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(C.aborted)Q.abort(C.reason);else{this[J]=Q;let e=new WeakRef(Q),t=function(){let t=e.deref();void 0!==t&&t.abort(this.reason)};try{"function"==typeof L&&L(C)===U?O(100,C):x(C,"abort").length>=U&&O(100,C)}catch{}c.addAbortListener(C,t),V.register(Q,{signal:C,abort:t})}}if(this[w]=new o(F),this[w][N]=s.headersList,this[w][k]="request",this[w][R]=this[R],"no-cors"===i){if(!E.has(s.method))throw TypeError(`'${s.method} is unsupported in no-cors mode.`);this[w][k]="request-no-cors"}if(B){let e=this[w][N],r=void 0!==t.headers?t.headers:new A(e);if(e.clear(),r instanceof A){for(let[t,n]of r)e.append(t,n);e.cookies=r.cookies}else a(this[w],r)}let v=e instanceof H?e[S].body:null;if((null!=t.body||null!=v)&&("GET"===s.method||"HEAD"===s.method))throw TypeError("Request with GET/HEAD method cannot have body.");let T=null;if(null!=t.body){let[e,r]=n(t.body,s.keepalive);T=e,r&&!this[w][N].contains("content-type")&&this[w].append("content-type",r)}let j=T??v;if(null!=j&&null==j.source){if(null!=T&&null==t.duplex)throw TypeError("RequestInit: duplex option is required when sending a body.");if("same-origin"!==s.mode&&"cors"!==s.mode)throw TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');s.useCORSPreflightFlag=!0}let Y=j;if(null==T&&null!=v){if(c.isDisturbed(v.stream)||v.stream.locked)throw TypeError("Cannot construct a Request with a Request object that has already been used.");P||(P=r(35356).TransformStream);let e=new P;v.stream.pipeThrough(e),Y={source:v.source,length:v.length,stream:e.readable}}this[S].body=Y}get method(){return D.brandCheck(this,H),this[S].method}get url(){return D.brandCheck(this,H),T(this[S].url)}get headers(){return D.brandCheck(this,H),this[w]}get destination(){return D.brandCheck(this,H),this[S].destination}get referrer(){return(D.brandCheck(this,H),"no-referrer"===this[S].referrer)?"":"client"===this[S].referrer?"about:client":this[S].referrer.toString()}get referrerPolicy(){return D.brandCheck(this,H),this[S].referrerPolicy}get mode(){return D.brandCheck(this,H),this[S].mode}get credentials(){return this[S].credentials}get cache(){return D.brandCheck(this,H),this[S].cache}get redirect(){return D.brandCheck(this,H),this[S].redirect}get integrity(){return D.brandCheck(this,H),this[S].integrity}get keepalive(){return D.brandCheck(this,H),this[S].keepalive}get isReloadNavigation(){return D.brandCheck(this,H),this[S].reloadNavigation}get isHistoryNavigation(){return D.brandCheck(this,H),this[S].historyNavigation}get signal(){return D.brandCheck(this,H),this[b]}get body(){return D.brandCheck(this,H),this[S].body?this[S].body.stream:null}get bodyUsed(){return D.brandCheck(this,H),!!this[S].body&&c.isDisturbed(this[S].body.stream)}get duplex(){return D.brandCheck(this,H),"half"}clone(){if(D.brandCheck(this,H),this.bodyUsed||this.body?.locked)throw TypeError("unusable");let e=j(this[S]),t=new H(F);t[S]=e,t[R]=this[R],t[w]=new o(F),t[w][N]=e.headersList,t[w][k]=this[w][k],t[w][R]=this[w][R];let r=new AbortController;return this.signal.aborted?r.abort(this.signal.reason):c.addAbortListener(this.signal,()=>{r.abort(this.signal.reason)}),t[b]=r.signal,t}}function G(e){let t={method:"GET",localURLsOnly:!1,unsafeRequest:!1,body:null,client:null,reservedClient:null,replacesClientId:"",window:"client",keepalive:!1,serviceWorkers:"all",initiator:"",destination:"",priority:null,origin:"client",policyContainer:"client",referrer:"client",referrerPolicy:"",mode:"no-cors",useCORSPreflightFlag:!1,credentials:"same-origin",useCredentials:!1,cache:"default",redirect:"follow",integrity:"",cryptoGraphicsNonceMetadata:"",parserMetadata:"",reloadNavigation:!1,historyNavigation:!1,userActivation:!1,taintedOrigin:!1,redirectCount:0,responseTainting:"basic",preventNoCacheCacheControlHeaderModification:!1,done:!1,timingAllowFailed:!1,...e,headersList:e.headersList?new A(e.headersList):new A};return t.url=t.urlList[0],t}function j(e){let t=G({...e,body:null});return null!=e.body&&(t.body=s(e.body)),t}i(H),Object.defineProperties(H.prototype,{method:v,url:v,headers:v,redirect:v,clone:v,signal:v,duplex:v,destination:v,body:v,bodyUsed:v,isHistoryNavigation:v,isReloadNavigation:v,keepalive:v,integrity:v,cache:v,credentials:v,attribute:v,referrerPolicy:v,referrer:v,mode:v,[Symbol.toStringTag]:{value:"Request",configurable:!0}}),D.converters.Request=D.interfaceConverter(H),D.converters.RequestInfo=function(e){return"string"==typeof e?D.converters.USVString(e):e instanceof H?D.converters.Request(e):D.converters.USVString(e)},D.converters.AbortSignal=D.interfaceConverter(AbortSignal),D.converters.RequestInit=D.dictionaryConverter([{key:"method",converter:D.converters.ByteString},{key:"headers",converter:D.converters.HeadersInit},{key:"body",converter:D.nullableConverter(D.converters.BodyInit)},{key:"referrer",converter:D.converters.USVString},{key:"referrerPolicy",converter:D.converters.DOMString,allowedValues:m},{key:"mode",converter:D.converters.DOMString,allowedValues:y},{key:"credentials",converter:D.converters.DOMString,allowedValues:I},{key:"cache",converter:D.converters.DOMString,allowedValues:B},{key:"redirect",converter:D.converters.DOMString,allowedValues:C},{key:"integrity",converter:D.converters.DOMString},{key:"keepalive",converter:D.converters.boolean},{key:"signal",converter:D.nullableConverter(e=>D.converters.AbortSignal(e,{strict:!1}))},{key:"window",converter:D.converters.any},{key:"duplex",converter:D.converters.DOMString,allowedValues:Q}]),e.exports={Request:H,makeRequest:G}},83748:(e,t,r)=>{"use strict";let{Headers:n,HeadersList:i,fill:s}=r(85887),{extractBody:o,cloneBody:a,mixinBody:A}=r(53107),l=r(55909),{kEnumerableProperty:c}=l,{isValidReasonPhrase:u,isCancelled:h,isAborted:d,isBlobLike:g,serializeJavascriptValueToJSONString:f,isErrorLike:p,isomorphicEncode:E}=r(53854),{redirectStatusSet:m,nullBodyStatus:C,DOMException:y}=r(19089),{kState:I,kHeaders:B,kGuard:Q,kRealm:v}=r(40952),{webidl:w}=r(533),{FormData:b}=r(35217),{getGlobalOrigin:S}=r(17901),{URLSerializer:k}=r(93804),{kHeadersList:R,kConstruct:D}=r(44466),_=r(39491),{types:T}=r(73837),N=globalThis.ReadableStream||r(35356).ReadableStream,F=new TextEncoder("utf-8");class M{static error(){let e={settingsObject:{}},t=new M;return t[I]=x(),t[v]=e,t[B][R]=t[I].headersList,t[B][Q]="immutable",t[B][v]=e,t}static json(e,t={}){w.argumentLengthCheck(arguments,1,{header:"Response.json"}),null!==t&&(t=w.converters.ResponseInit(t));let r=o(F.encode(f(e))),n={settingsObject:{}},i=new M;return i[v]=n,i[B][Q]="response",i[B][v]=n,V(i,t,{body:r[0],type:"application/json"}),i}static redirect(e,t=302){let r;let n={settingsObject:{}};w.argumentLengthCheck(arguments,1,{header:"Response.redirect"}),e=w.converters.USVString(e),t=w.converters["unsigned short"](t);try{r=new URL(e,S())}catch(t){throw Object.assign(TypeError("Failed to parse URL from "+e),{cause:t})}if(!m.has(t))throw RangeError("Invalid status code "+t);let i=new M;i[v]=n,i[B][Q]="immutable",i[B][v]=n,i[I].status=t;let s=E(k(r));return i[I].headersList.append("location",s),i}constructor(e=null,t={}){null!==e&&(e=w.converters.BodyInit(e)),t=w.converters.ResponseInit(t),this[v]={settingsObject:{}},this[I]=O({}),this[B]=new n(D),this[B][Q]="response",this[B][R]=this[I].headersList,this[B][v]=this[v];let r=null;if(null!=e){let[t,n]=o(e);r={body:t,type:n}}V(this,t,r)}get type(){return w.brandCheck(this,M),this[I].type}get url(){w.brandCheck(this,M);let e=this[I].urlList,t=e[e.length-1]??null;return null===t?"":k(t,!0)}get redirected(){return w.brandCheck(this,M),this[I].urlList.length>1}get status(){return w.brandCheck(this,M),this[I].status}get ok(){return w.brandCheck(this,M),this[I].status>=200&&this[I].status<=299}get statusText(){return w.brandCheck(this,M),this[I].statusText}get headers(){return w.brandCheck(this,M),this[B]}get body(){return w.brandCheck(this,M),this[I].body?this[I].body.stream:null}get bodyUsed(){return w.brandCheck(this,M),!!this[I].body&&l.isDisturbed(this[I].body.stream)}clone(){if(w.brandCheck(this,M),this.bodyUsed||this.body&&this.body.locked)throw w.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let e=L(this[I]),t=new M;return t[I]=e,t[v]=this[v],t[B][R]=e.headersList,t[B][Q]=this[B][Q],t[B][v]=this[B][v],t}}function L(e){if(e.internalResponse)return P(L(e.internalResponse),e.type);let t=O({...e,body:null});return null!=e.body&&(t.body=a(e.body)),t}function O(e){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...e,headersList:e.headersList?new i(e.headersList):new i,urlList:e.urlList?[...e.urlList]:[]}}function x(e){return O({type:"error",status:0,error:p(e)?e:Error(e?String(e):e),aborted:e&&"AbortError"===e.name})}function U(e,t){return t={internalResponse:e,...t},new Proxy(e,{get:(e,r)=>r in t?t[r]:e[r],set:(e,r,n)=>(_(!(r in t)),e[r]=n,!0)})}function P(e,t){return"basic"===t?U(e,{type:"basic",headersList:e.headersList}):"cors"===t?U(e,{type:"cors",headersList:e.headersList}):"opaque"===t?U(e,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null}):"opaqueredirect"===t?U(e,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null}):void _(!1)}function J(e,t=null){return _(h(e)),d(e)?x(Object.assign(new y("The operation was aborted.","AbortError"),{cause:t})):x(Object.assign(new y("Request was cancelled."),{cause:t}))}function V(e,t,r){if(null!==t.status&&(t.status<200||t.status>599))throw RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in t&&null!=t.statusText&&!u(String(t.statusText)))throw TypeError("Invalid statusText");if("status"in t&&null!=t.status&&(e[I].status=t.status),"statusText"in t&&null!=t.statusText&&(e[I].statusText=t.statusText),"headers"in t&&null!=t.headers&&s(e[B],t.headers),r){if(C.includes(e.status))throw w.errors.exception({header:"Response constructor",message:"Invalid response status code "+e.status});e[I].body=r.body,null==r.type||e[I].headersList.contains("Content-Type")||e[I].headersList.append("content-type",r.type)}}A(M),Object.defineProperties(M.prototype,{type:c,url:c,status:c,ok:c,redirected:c,statusText:c,headers:c,clone:c,body:c,bodyUsed:c,[Symbol.toStringTag]:{value:"Response",configurable:!0}}),Object.defineProperties(M,{json:c,redirect:c,error:c}),w.converters.ReadableStream=w.interfaceConverter(N),w.converters.FormData=w.interfaceConverter(b),w.converters.URLSearchParams=w.interfaceConverter(URLSearchParams),w.converters.XMLHttpRequestBodyInit=function(e){return"string"==typeof e?w.converters.USVString(e):g(e)?w.converters.Blob(e,{strict:!1}):T.isArrayBuffer(e)||T.isTypedArray(e)||T.isDataView(e)?w.converters.BufferSource(e):l.isFormDataLike(e)?w.converters.FormData(e,{strict:!1}):e instanceof URLSearchParams?w.converters.URLSearchParams(e):w.converters.DOMString(e)},w.converters.BodyInit=function(e){return e instanceof N?w.converters.ReadableStream(e):e?.[Symbol.asyncIterator]?e:w.converters.XMLHttpRequestBodyInit(e)},w.converters.ResponseInit=w.dictionaryConverter([{key:"status",converter:w.converters["unsigned short"],defaultValue:200},{key:"statusText",converter:w.converters.ByteString,defaultValue:""},{key:"headers",converter:w.converters.HeadersInit}]),e.exports={makeNetworkError:x,makeResponse:O,makeAppropriateNetworkError:J,filterResponse:P,Response:M,cloneResponse:L}},40952:e=>{"use strict";e.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kGuard:Symbol("guard"),kRealm:Symbol("realm")}},53854:(e,t,r)=>{"use strict";let n;let{redirectStatusSet:i,referrerPolicySet:s,badPortsSet:o}=r(19089),{getGlobalOrigin:a}=r(17901),{performance:A}=r(4074),{isBlobLike:l,toUSVString:c,ReadableStreamFrom:u}=r(55909),h=r(39491),{isUint8Array:d}=r(29830);try{n=r(6113)}catch{}function g(e){let t=e.urlList,r=t.length;return 0===r?null:t[r-1].toString()}function f(e,t){if(!i.has(e.status))return null;let r=e.headersList.get("location");return null!==r&&Q(r)&&(r=new URL(r,g(e))),r&&!r.hash&&(r.hash=t),r}function p(e){return e.urlList[e.urlList.length-1]}function E(e){let t=p(e);return ea(t)&&o.has(t.port)?"blocked":"allowed"}function m(e){return e instanceof Error||e?.constructor?.name==="Error"||e?.constructor?.name==="DOMException"}function C(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(!(9===r||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}function y(e){switch(e){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return e>=33&&e<=126}}function I(e){if(0===e.length)return!1;for(let t=0;t<e.length;++t)if(!y(e.charCodeAt(t)))return!1;return!0}function B(e){return I(e)}function Q(e){return!(e.startsWith("	")||e.startsWith(" ")||e.endsWith("	")||e.endsWith(" ")||e.includes("\x00")||e.includes("\r")||e.includes("\n"))}function v(e,t){let{headersList:r}=t,n=(r.get("referrer-policy")??"").split(","),i="";if(n.length>0)for(let e=n.length;0!==e;e--){let t=n[e-1].trim();if(s.has(t)){i=t;break}}""!==i&&(e.referrerPolicy=i)}function w(){return"allowed"}function b(){return"success"}function S(){return"success"}function k(e){let t=null;t=e.mode,e.headersList.set("sec-fetch-mode",t)}function R(e){let t=e.origin;if("cors"===e.responseTainting||"websocket"===e.mode)t&&e.headersList.append("origin",t);else if("GET"!==e.method&&"HEAD"!==e.method){switch(e.referrerPolicy){case"no-referrer":t=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":e.origin&&eo(e.origin)&&!eo(p(e))&&(t=null);break;case"same-origin":J(e,p(e))||(t=null)}t&&e.headersList.append("origin",t)}}function D(e){return A.now()}function _(e){return{startTime:e.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:e.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function T(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function N(e){return{referrerPolicy:e.referrerPolicy}}function F(e){let t=e.referrerPolicy;h(t);let r=null;if("client"===e.referrer){let e=a();if(!e||"null"===e.origin)return"no-referrer";r=new URL(e)}else e.referrer instanceof URL&&(r=e.referrer);let n=M(r),i=M(r,!0);n.toString().length>4096&&(n=i);let s=J(e,n),o=L(n)&&!L(e.url);switch(t){case"origin":return null!=i?i:M(r,!0);case"unsafe-url":return n;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?n:i;case"strict-origin-when-cross-origin":{let t=p(e);if(J(n,t))return n;if(L(n)&&!L(t))return"no-referrer";return i}default:return o?"no-referrer":i}}function M(e,t){return(h(e instanceof URL),"file:"===e.protocol||"about:"===e.protocol||"blank:"===e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}function L(e){if(!(e instanceof URL))return!1;if("about:blank"===e.href||"about:srcdoc"===e.href||"data:"===e.protocol||"file:"===e.protocol)return!0;return t(e.origin);function t(e){if(null==e||"null"===e)return!1;let t=new URL(e);return!!("https:"===t.protocol||"wss:"===t.protocol||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(t.hostname)||"localhost"===t.hostname||t.hostname.includes("localhost.")||t.hostname.endsWith(".localhost"))}}function O(e,t){if(void 0===n)return!0;let r=U(t);if("no metadata"===r||0===r.length)return!0;let i=r.sort((e,t)=>t.algo.localeCompare(e.algo)),s=i[0].algo;for(let t of i.filter(e=>e.algo===s)){let r=t.algo,i=t.hash;i.endsWith("==")&&(i=i.slice(0,-2));let s=n.createHash(r).update(e).digest("base64");if(s.endsWith("==")&&(s=s.slice(0,-2)),s===i)return!0;let o=n.createHash(r).update(e).digest("base64url");if(o.endsWith("==")&&(o=o.slice(0,-2)),o===i)return!0}return!1}let x=/((?<algo>sha256|sha384|sha512)-(?<hash>[A-z0-9+/]{1}.*={0,2}))( +[\x21-\x7e]?)?/i;function U(e){let t=[],r=!0,i=n.getHashes();for(let n of e.split(" ")){r=!1;let e=x.exec(n);if(null===e||void 0===e.groups)continue;let s=e.groups.algo;i.includes(s.toLowerCase())&&t.push(e.groups)}return!0===r?"no metadata":t}function P(e){}function J(e,t){return e.origin===t.origin&&"null"===e.origin||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}function V(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}function H(e){return"aborted"===e.controller.state}function G(e){return"aborted"===e.controller.state||"terminated"===e.controller.state}let j={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"};function Y(e){return j[e.toLowerCase()]??e}function W(e){let t=JSON.stringify(e);if(void 0===t)throw TypeError("Value is not JSON serializable");return h("string"==typeof t),t}Object.setPrototypeOf(j,null);let q=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function K(e,t,r){let n={index:0,kind:r,target:e},i={next(){if(Object.getPrototypeOf(this)!==i)throw TypeError(`'next' called on an object that does not implement interface ${t} Iterator.`);let{index:e,kind:r,target:s}=n,o=s();if(e>=o.length)return{value:void 0,done:!0};let a=o[e];return n.index=e+1,z(a,r)},[Symbol.toStringTag]:`${t} Iterator`};return Object.setPrototypeOf(i,q),Object.setPrototypeOf({},i)}function z(e,t){let r;switch(t){case"key":r=e[0];break;case"value":r=e[1];break;case"key+value":r=e}return{value:r,done:!1}}async function $(e,t,r){let n;let i=t,s=r;try{n=e.stream.getReader()}catch(e){s(e);return}try{let e=await ei(n);i(e)}catch(e){s(e)}}let X=globalThis.ReadableStream;function Z(e){return X||(X=r(35356).ReadableStream),e instanceof X||"ReadableStream"===e[Symbol.toStringTag]&&"function"==typeof e.tee}let ee=65535;function et(e){return e.length<ee?String.fromCharCode(...e):e.reduce((e,t)=>e+String.fromCharCode(t),"")}function er(e){try{e.close()}catch(e){if(!e.message.includes("Controller is already closed"))throw e}}function en(e){for(let t=0;t<e.length;t++)h(255>=e.charCodeAt(t));return e}async function ei(e){let t=[],r=0;for(;;){let{done:n,value:i}=await e.read();if(n)return Buffer.concat(t,r);if(!d(i))throw TypeError("Received non-Uint8Array chunk");t.push(i),r+=i.length}}function es(e){h("protocol"in e);let t=e.protocol;return"about:"===t||"blob:"===t||"data:"===t}function eo(e){return"string"==typeof e?e.startsWith("https:"):"https:"===e.protocol}function ea(e){h("protocol"in e);let t=e.protocol;return"http:"===t||"https:"===t}let eA=Object.hasOwn||((e,t)=>Object.prototype.hasOwnProperty.call(e,t));e.exports={isAborted:H,isCancelled:G,createDeferredPromise:V,ReadableStreamFrom:u,toUSVString:c,tryUpgradeRequestToAPotentiallyTrustworthyURL:P,coarsenedSharedCurrentTime:D,determineRequestsReferrer:F,makePolicyContainer:T,clonePolicyContainer:N,appendFetchMetadata:k,appendRequestOriginHeader:R,TAOCheck:S,corsCheck:b,crossOriginResourcePolicyCheck:w,createOpaqueTimingInfo:_,setRequestReferrerPolicyOnRedirect:v,isValidHTTPToken:I,requestBadPort:E,requestCurrentURL:p,responseURL:g,responseLocationURL:f,isBlobLike:l,isURLPotentiallyTrustworthy:L,isValidReasonPhrase:C,sameOrigin:J,normalizeMethod:Y,serializeJavascriptValueToJSONString:W,makeIterator:K,isValidHeaderName:B,isValidHeaderValue:Q,hasOwn:eA,isErrorLike:m,fullyReadBody:$,bytesMatch:O,isReadableStreamLike:Z,readableStreamClose:er,isomorphicEncode:en,isomorphicDecode:et,urlIsLocal:es,urlHasHttpsScheme:eo,urlIsHttpHttpsScheme:ea,readAllBytes:ei,normalizeMethodRecord:j}},533:(e,t,r)=>{"use strict";let{types:n}=r(73837),{hasOwn:i,toUSVString:s}=r(53854),o={};o.converters={},o.util={},o.errors={},o.errors.exception=function(e){return TypeError(`${e.header}: ${e.message}`)},o.errors.conversionFailed=function(e){let t=1===e.types.length?"":" one of",r=`${e.argument} could not be converted to${t}: ${e.types.join(", ")}.`;return o.errors.exception({header:e.prefix,message:r})},o.errors.invalidArgument=function(e){return o.errors.exception({header:e.prefix,message:`"${e.value}" is an invalid ${e.type}.`})},o.brandCheck=function(e,t,r){if(r?.strict===!1||e instanceof t)return e?.[Symbol.toStringTag]===t.prototype[Symbol.toStringTag];throw TypeError("Illegal invocation")},o.argumentLengthCheck=function({length:e},t,r){if(e<t)throw o.errors.exception({message:`${t} argument${1!==t?"s":""} required, but${e?" only":""} ${e} found.`,...r})},o.illegalConstructor=function(){throw o.errors.exception({header:"TypeError",message:"Illegal constructor"})},o.util.Type=function(e){switch(typeof e){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":if(null===e)return"Null";return"Object"}},o.util.ConvertToInt=function(e,t,r,n={}){let i,s;64===t?(i=9007199254740991,s="unsigned"===r?0:-9007199254740991):"unsigned"===r?(s=0,i=Math.pow(2,t)-1):(s=Math.pow(-2,t)-1,i=Math.pow(2,t-1)-1);let a=Number(e);if(0===a&&(a=0),!0===n.enforceRange){if(Number.isNaN(a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)throw o.errors.exception({header:"Integer conversion",message:`Could not convert ${e} to an integer.`});if((a=o.util.IntegerPart(a))<s||a>i)throw o.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${a}.`});return a}return Number.isNaN(a)||!0!==n.clamp?Number.isNaN(a)||0===a&&Object.is(0,a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY?0:(a=o.util.IntegerPart(a)%Math.pow(2,t),"signed"===r&&a>=Math.pow(2,t)-1)?a-Math.pow(2,t):a:a=Math.floor(a=Math.min(Math.max(a,s),i))%2==0?Math.floor(a):Math.ceil(a)},o.util.IntegerPart=function(e){let t=Math.floor(Math.abs(e));return e<0?-1*t:t},o.sequenceConverter=function(e){return t=>{if("Object"!==o.util.Type(t))throw o.errors.exception({header:"Sequence",message:`Value of type ${o.util.Type(t)} is not an Object.`});let r=t?.[Symbol.iterator]?.(),n=[];if(void 0===r||"function"!=typeof r.next)throw o.errors.exception({header:"Sequence",message:"Object is not an iterator."});for(;;){let{done:t,value:i}=r.next();if(t)break;n.push(e(i))}return n}},o.recordConverter=function(e,t){return r=>{if("Object"!==o.util.Type(r))throw o.errors.exception({header:"Record",message:`Value of type ${o.util.Type(r)} is not an Object.`});let i={};if(!n.isProxy(r)){for(let n of Object.keys(r)){let s=e(n),o=t(r[n]);i[s]=o}return i}for(let n of Reflect.ownKeys(r)){let s=Reflect.getOwnPropertyDescriptor(r,n);if(s?.enumerable){let s=e(n),o=t(r[n]);i[s]=o}}return i}},o.interfaceConverter=function(e){return(t,r={})=>{if(!1!==r.strict&&!(t instanceof e))throw o.errors.exception({header:e.name,message:`Expected ${t} to be an instance of ${e.name}.`});return t}},o.dictionaryConverter=function(e){return t=>{let r=o.util.Type(t),n={};if("Null"===r||"Undefined"===r)return n;if("Object"!==r)throw o.errors.exception({header:"Dictionary",message:`Expected ${t} to be one of: Null, Undefined, Object.`});for(let r of e){let{key:e,defaultValue:s,required:a,converter:A}=r;if(!0===a&&!i(t,e))throw o.errors.exception({header:"Dictionary",message:`Missing required key "${e}".`});let l=t[e],c=i(r,"defaultValue");if(c&&null!==l&&(l=l??s),a||c||void 0!==l){if(l=A(l),r.allowedValues&&!r.allowedValues.includes(l))throw o.errors.exception({header:"Dictionary",message:`${l} is not an accepted type. Expected one of ${r.allowedValues.join(", ")}.`});n[e]=l}}return n}},o.nullableConverter=function(e){return t=>null===t?t:e(t)},o.converters.DOMString=function(e,t={}){if(null===e&&t.legacyNullToEmptyString)return"";if("symbol"==typeof e)throw TypeError("Could not convert argument of type symbol to string.");return String(e)},o.converters.ByteString=function(e){let t=o.converters.DOMString(e);for(let e=0;e<t.length;e++)if(t.charCodeAt(e)>255)throw TypeError(`Cannot convert argument to a ByteString because the character at index ${e} has a value of ${t.charCodeAt(e)} which is greater than 255.`);return t},o.converters.USVString=s,o.converters.boolean=function(e){return!!e},o.converters.any=function(e){return e},o.converters["long long"]=function(e){return o.util.ConvertToInt(e,64,"signed")},o.converters["unsigned long long"]=function(e){return o.util.ConvertToInt(e,64,"unsigned")},o.converters["unsigned long"]=function(e){return o.util.ConvertToInt(e,32,"unsigned")},o.converters["unsigned short"]=function(e,t){return o.util.ConvertToInt(e,16,"unsigned",t)},o.converters.ArrayBuffer=function(e,t={}){if("Object"!==o.util.Type(e)||!n.isAnyArrayBuffer(e))throw o.errors.conversionFailed({prefix:`${e}`,argument:`${e}`,types:["ArrayBuffer"]});if(!1===t.allowShared&&n.isSharedArrayBuffer(e))throw o.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return e},o.converters.TypedArray=function(e,t,r={}){if("Object"!==o.util.Type(e)||!n.isTypedArray(e)||e.constructor.name!==t.name)throw o.errors.conversionFailed({prefix:`${t.name}`,argument:`${e}`,types:[t.name]});if(!1===r.allowShared&&n.isSharedArrayBuffer(e.buffer))throw o.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return e},o.converters.DataView=function(e,t={}){if("Object"!==o.util.Type(e)||!n.isDataView(e))throw o.errors.exception({header:"DataView",message:"Object is not a DataView."});if(!1===t.allowShared&&n.isSharedArrayBuffer(e.buffer))throw o.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return e},o.converters.BufferSource=function(e,t={}){if(n.isAnyArrayBuffer(e))return o.converters.ArrayBuffer(e,t);if(n.isTypedArray(e))return o.converters.TypedArray(e,e.constructor);if(n.isDataView(e))return o.converters.DataView(e,t);throw TypeError(`Could not convert ${e} to a BufferSource.`)},o.converters["sequence<ByteString>"]=o.sequenceConverter(o.converters.ByteString),o.converters["sequence<sequence<ByteString>>"]=o.sequenceConverter(o.converters["sequence<ByteString>"]),o.converters["record<ByteString, ByteString>"]=o.recordConverter(o.converters.ByteString,o.converters.ByteString),e.exports={webidl:o}},13078:e=>{"use strict";function t(e){if(!e)return"failure";switch(e.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}e.exports={getEncoding:t}},29009:(e,t,r)=>{"use strict";let{staticPropertyDescriptors:n,readOperation:i,fireAProgressEvent:s}=r(85491),{kState:o,kError:a,kResult:A,kEvents:l,kAborted:c}=r(70559),{webidl:u}=r(533),{kEnumerableProperty:h}=r(55909);class d extends EventTarget{constructor(){super(),this[o]="empty",this[A]=null,this[a]=null,this[l]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(e){u.brandCheck(this,d),u.argumentLengthCheck(arguments,1,{header:"FileReader.readAsArrayBuffer"}),i(this,e=u.converters.Blob(e,{strict:!1}),"ArrayBuffer")}readAsBinaryString(e){u.brandCheck(this,d),u.argumentLengthCheck(arguments,1,{header:"FileReader.readAsBinaryString"}),i(this,e=u.converters.Blob(e,{strict:!1}),"BinaryString")}readAsText(e,t){u.brandCheck(this,d),u.argumentLengthCheck(arguments,1,{header:"FileReader.readAsText"}),e=u.converters.Blob(e,{strict:!1}),void 0!==t&&(t=u.converters.DOMString(t)),i(this,e,"Text",t)}readAsDataURL(e){u.brandCheck(this,d),u.argumentLengthCheck(arguments,1,{header:"FileReader.readAsDataURL"}),i(this,e=u.converters.Blob(e,{strict:!1}),"DataURL")}abort(){if("empty"===this[o]||"done"===this[o]){this[A]=null;return}"loading"===this[o]&&(this[o]="done",this[A]=null),this[c]=!0,s("abort",this),"loading"!==this[o]&&s("loadend",this)}get readyState(){switch(u.brandCheck(this,d),this[o]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return u.brandCheck(this,d),this[A]}get error(){return u.brandCheck(this,d),this[a]}get onloadend(){return u.brandCheck(this,d),this[l].loadend}set onloadend(e){u.brandCheck(this,d),this[l].loadend&&this.removeEventListener("loadend",this[l].loadend),"function"==typeof e?(this[l].loadend=e,this.addEventListener("loadend",e)):this[l].loadend=null}get onerror(){return u.brandCheck(this,d),this[l].error}set onerror(e){u.brandCheck(this,d),this[l].error&&this.removeEventListener("error",this[l].error),"function"==typeof e?(this[l].error=e,this.addEventListener("error",e)):this[l].error=null}get onloadstart(){return u.brandCheck(this,d),this[l].loadstart}set onloadstart(e){u.brandCheck(this,d),this[l].loadstart&&this.removeEventListener("loadstart",this[l].loadstart),"function"==typeof e?(this[l].loadstart=e,this.addEventListener("loadstart",e)):this[l].loadstart=null}get onprogress(){return u.brandCheck(this,d),this[l].progress}set onprogress(e){u.brandCheck(this,d),this[l].progress&&this.removeEventListener("progress",this[l].progress),"function"==typeof e?(this[l].progress=e,this.addEventListener("progress",e)):this[l].progress=null}get onload(){return u.brandCheck(this,d),this[l].load}set onload(e){u.brandCheck(this,d),this[l].load&&this.removeEventListener("load",this[l].load),"function"==typeof e?(this[l].load=e,this.addEventListener("load",e)):this[l].load=null}get onabort(){return u.brandCheck(this,d),this[l].abort}set onabort(e){u.brandCheck(this,d),this[l].abort&&this.removeEventListener("abort",this[l].abort),"function"==typeof e?(this[l].abort=e,this.addEventListener("abort",e)):this[l].abort=null}}d.EMPTY=d.prototype.EMPTY=0,d.LOADING=d.prototype.LOADING=1,d.DONE=d.prototype.DONE=2,Object.defineProperties(d.prototype,{EMPTY:n,LOADING:n,DONE:n,readAsArrayBuffer:h,readAsBinaryString:h,readAsText:h,readAsDataURL:h,abort:h,readyState:h,result:h,error:h,onloadstart:h,onprogress:h,onload:h,onabort:h,onerror:h,onloadend:h,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}}),Object.defineProperties(d,{EMPTY:n,LOADING:n,DONE:n}),e.exports={FileReader:d}},79741:(e,t,r)=>{"use strict";let{webidl:n}=r(533),i=Symbol("ProgressEvent state");class s extends Event{constructor(e,t={}){super(e=n.converters.DOMString(e),t=n.converters.ProgressEventInit(t??{})),this[i]={lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}get lengthComputable(){return n.brandCheck(this,s),this[i].lengthComputable}get loaded(){return n.brandCheck(this,s),this[i].loaded}get total(){return n.brandCheck(this,s),this[i].total}}n.converters.ProgressEventInit=n.dictionaryConverter([{key:"lengthComputable",converter:n.converters.boolean,defaultValue:!1},{key:"loaded",converter:n.converters["unsigned long long"],defaultValue:0},{key:"total",converter:n.converters["unsigned long long"],defaultValue:0},{key:"bubbles",converter:n.converters.boolean,defaultValue:!1},{key:"cancelable",converter:n.converters.boolean,defaultValue:!1},{key:"composed",converter:n.converters.boolean,defaultValue:!1}]),e.exports={ProgressEvent:s}},70559:e=>{"use strict";e.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}},85491:(e,t,r)=>{"use strict";let{kState:n,kError:i,kResult:s,kAborted:o,kLastProgressEventFired:a}=r(70559),{ProgressEvent:A}=r(79741),{getEncoding:l}=r(13078),{DOMException:c}=r(19089),{serializeAMimeType:u,parseMIMEType:h}=r(93804),{types:d}=r(73837),{StringDecoder:g}=r(71576),{btoa:f}=r(14300),p={enumerable:!0,writable:!1,configurable:!1};function E(e,t,r,A){if("loading"===e[n])throw new c("Invalid state","InvalidStateError");e[n]="loading",e[s]=null,e[i]=null;let l=t.stream().getReader(),u=[],h=l.read(),g=!0;(async()=>{for(;!e[o];)try{let{done:c,value:f}=await h;if(g&&!e[o]&&queueMicrotask(()=>{m("loadstart",e)}),g=!1,!c&&d.isUint8Array(f))u.push(f),(void 0===e[a]||Date.now()-e[a]>=50)&&!e[o]&&(e[a]=Date.now(),queueMicrotask(()=>{m("progress",e)})),h=l.read();else if(c){queueMicrotask(()=>{e[n]="done";try{let n=C(u,r,t.type,A);if(e[o])return;e[s]=n,m("load",e)}catch(t){e[i]=t,m("error",e)}"loading"!==e[n]&&m("loadend",e)});break}}catch(t){if(e[o])return;queueMicrotask(()=>{e[n]="done",e[i]=t,m("error",e),"loading"!==e[n]&&m("loadend",e)});break}})()}function m(e,t){let r=new A(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(r)}function C(e,t,r,n){switch(t){case"DataURL":{let t="data:",n=h(r||"application/octet-stream");"failure"!==n&&(t+=u(n)),t+=";base64,";let i=new g("latin1");for(let r of e)t+=f(i.write(r));return t+f(i.end())}case"Text":{let t="failure";if(n&&(t=l(n)),"failure"===t&&r){let e=h(r);"failure"!==e&&(t=l(e.parameters.get("charset")))}return"failure"===t&&(t="UTF-8"),y(e,t)}case"ArrayBuffer":return B(e).buffer;case"BinaryString":{let t="",r=new g("latin1");for(let n of e)t+=r.write(n);return t+r.end()}}}function y(e,t){let r=B(e),n=I(r),i=0;null!==n&&(t=n,i="UTF-8"===n?3:2);let s=r.slice(i);return new TextDecoder(t).decode(s)}function I(e){let[t,r,n]=e;return 239===t&&187===r&&191===n?"UTF-8":254===t&&255===r?"UTF-16BE":255===t&&254===r?"UTF-16LE":null}function B(e){let t=e.reduce((e,t)=>e+t.byteLength,0),r=0;return e.reduce((e,t)=>(e.set(t,r),r+=t.byteLength,e),new Uint8Array(t))}e.exports={staticPropertyDescriptors:p,readOperation:E,fireAProgressEvent:m}},50585:(e,t,r)=>{"use strict";let n=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:i}=r(29615),s=r(71453);function o(e){if(!e||"function"!=typeof e.dispatch)throw new i("Argument agent must implement Agent");Object.defineProperty(globalThis,n,{value:e,writable:!0,enumerable:!1,configurable:!1})}function a(){return globalThis[n]}void 0===a()&&o(new s),e.exports={setGlobalDispatcher:o,getGlobalDispatcher:a}},37755:e=>{"use strict";e.exports=class{constructor(e){this.handler=e}onConnect(...e){return this.handler.onConnect(...e)}onError(...e){return this.handler.onError(...e)}onUpgrade(...e){return this.handler.onUpgrade(...e)}onHeaders(...e){return this.handler.onHeaders(...e)}onData(...e){return this.handler.onData(...e)}onComplete(...e){return this.handler.onComplete(...e)}onBodySent(...e){return this.handler.onBodySent(...e)}}},58493:(e,t,r)=>{"use strict";let n=r(55909),{kBodyUsed:i}=r(44466),s=r(39491),{InvalidArgumentError:o}=r(29615),a=r(82361),A=[300,301,302,303,307,308],l=Symbol("body");class c{constructor(e){this[l]=e,this[i]=!1}async *[Symbol.asyncIterator](){s(!this[i],"disturbed"),this[i]=!0,yield*this[l]}}class u{constructor(e,t,r,A){if(null!=t&&(!Number.isInteger(t)||t<0))throw new o("maxRedirections must be a positive number");n.validateHandler(A,r.method,r.upgrade),this.dispatch=e,this.location=null,this.abort=null,this.opts={...r,maxRedirections:0},this.maxRedirections=t,this.handler=A,this.history=[],n.isStream(this.opts.body)?(0===n.bodyLength(this.opts.body)&&this.opts.body.on("data",function(){s(!1)}),"boolean"!=typeof this.opts.body.readableDidRead&&(this.opts.body[i]=!1,a.prototype.on.call(this.opts.body,"data",function(){this[i]=!0}))):this.opts.body&&"function"==typeof this.opts.body.pipeTo?this.opts.body=new c(this.opts.body):this.opts.body&&"string"!=typeof this.opts.body&&!ArrayBuffer.isView(this.opts.body)&&n.isIterable(this.opts.body)&&(this.opts.body=new c(this.opts.body))}onConnect(e){this.abort=e,this.handler.onConnect(e,{history:this.history})}onUpgrade(e,t,r){this.handler.onUpgrade(e,t,r)}onError(e){this.handler.onError(e)}onHeaders(e,t,r,i){if(this.location=this.history.length>=this.maxRedirections||n.isDisturbed(this.opts.body)?null:h(e,t),this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(e,t,r,i);let{origin:s,pathname:o,search:a}=n.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),A=a?`${o}${a}`:o;this.opts.headers=g(this.opts.headers,303===e,this.opts.origin!==s),this.opts.path=A,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,303===e&&"HEAD"!==this.opts.method&&(this.opts.method="GET",this.opts.body=null)}onData(e){if(!this.location)return this.handler.onData(e)}onComplete(e){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(e)}onBodySent(e){this.handler.onBodySent&&this.handler.onBodySent(e)}}function h(e,t){if(-1===A.indexOf(e))return null;for(let e=0;e<t.length;e+=2)if("location"===t[e].toString().toLowerCase())return t[e+1]}function d(e,t,r){return 4===e.length&&"host"===e.toString().toLowerCase()||t&&0===e.toString().toLowerCase().indexOf("content-")||r&&13===e.length&&"authorization"===e.toString().toLowerCase()||r&&6===e.length&&"cookie"===e.toString().toLowerCase()}function g(e,t,r){let n=[];if(Array.isArray(e))for(let i=0;i<e.length;i+=2)d(e[i],t,r)||n.push(e[i],e[i+1]);else if(e&&"object"==typeof e)for(let i of Object.keys(e))d(i,t,r)||n.push(i,e[i]);else s(null==e,"headers must be an object or an array");return n}e.exports=u},13399:(e,t,r)=>{"use strict";let n=r(39491),{kRetryHandlerDefaultRetry:i}=r(44466),{RequestRetryError:s}=r(29615),{isDisturbed:o,parseHeaders:a,parseRangeHeader:A}=r(55909);function l(e){let t=Date.now();return new Date(e).getTime()-t}class c{constructor(e,t){let{retryOptions:r,...n}=e,{retry:s,maxRetries:o,maxTimeout:a,minTimeout:A,timeoutFactor:l,methods:u,errorCodes:h,retryAfter:d,statusCodes:g}=r??{};this.dispatch=t.dispatch,this.handler=t.handler,this.opts=n,this.abort=null,this.aborted=!1,this.retryOpts={retry:s??c[i],retryAfter:d??!0,maxTimeout:a??3e4,timeout:A??500,timeoutFactor:l??2,maxRetries:o??5,methods:u??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:g??[500,502,503,504,429],errorCodes:h??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE"]},this.retryCount=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(e=>{this.aborted=!0,this.abort?this.abort(e):this.reason=e})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(e,t,r){this.handler.onUpgrade&&this.handler.onUpgrade(e,t,r)}onConnect(e){this.aborted?e(this.reason):this.abort=e}onBodySent(e){if(this.handler.onBodySent)return this.handler.onBodySent(e)}static[i](e,{state:t,opts:r},n){let{statusCode:i,code:s,headers:o}=e,{method:a,retryOptions:A}=r,{maxRetries:c,timeout:u,maxTimeout:h,timeoutFactor:d,statusCodes:g,errorCodes:f,methods:p}=A,{counter:E,currentTimeout:m}=t;if(m=null!=m&&m>0?m:u,s&&"UND_ERR_REQ_RETRY"!==s&&"UND_ERR_SOCKET"!==s&&!f.includes(s)||Array.isArray(p)&&!p.includes(a)||null!=i&&Array.isArray(g)&&!g.includes(i)||E>c){n(e);return}let C=null!=o&&o["retry-after"];C&&(C=isNaN(C=Number(C))?l(C):1e3*C);let y=C>0?Math.min(C,h):Math.min(m*d**E,h);t.currentTimeout=y,setTimeout(()=>n(null),y)}onHeaders(e,t,r,i){let o=a(t);if(this.retryCount+=1,e>=300)return this.abort(new s("Request failed",e,{headers:o,count:this.retryCount})),!1;if(null!=this.resume){if(this.resume=null,206!==e)return!0;let t=A(o["content-range"]);if(!t)return this.abort(new s("Content-Range mismatch",e,{headers:o,count:this.retryCount})),!1;if(null!=this.etag&&this.etag!==o.etag)return this.abort(new s("ETag mismatch",e,{headers:o,count:this.retryCount})),!1;let{start:i,size:a,end:l=a}=t;return n(this.start===i,"content-range mismatch"),n(null==this.end||this.end===l,"content-range mismatch"),this.resume=r,!0}if(null==this.end){if(206===e){let s=A(o["content-range"]);if(null==s)return this.handler.onHeaders(e,t,r,i);let{start:a,size:l,end:c=l}=s;n(null!=a&&Number.isFinite(a)&&this.start!==a,"content-range mismatch"),n(Number.isFinite(a)),n(null!=c&&Number.isFinite(c)&&this.end!==c,"invalid content-length"),this.start=a,this.end=c}if(null==this.end){let e=o["content-length"];this.end=null!=e?Number(e):null}return n(Number.isFinite(this.start)),n(null==this.end||Number.isFinite(this.end),"invalid content-length"),this.resume=r,this.etag=null!=o.etag?o.etag:null,this.handler.onHeaders(e,t,r,i)}let l=new s("Request failed",e,{headers:o,count:this.retryCount});return this.abort(l),!1}onData(e){return this.start+=e.length,this.handler.onData(e)}onComplete(e){return this.retryCount=0,this.handler.onComplete(e)}onError(e){if(this.aborted||o(this.opts.body))return this.handler.onError(e);function t(e){if(null!=e||this.aborted||o(this.opts.body))return this.handler.onError(e);0!==this.start&&(this.opts={...this.opts,headers:{...this.opts.headers,range:`bytes=${this.start}-${this.end??""}`}});try{this.dispatch(this.opts,this)}catch(e){this.handler.onError(e)}}this.retryOpts.retry(e,{state:{counter:this.retryCount++,currentTimeout:this.retryAfter},opts:{retryOptions:this.retryOpts,...this.opts}},t.bind(this))}}e.exports=c},10970:(e,t,r)=>{"use strict";let n=r(58493);function i({maxRedirections:e}){return t=>function(r,i){let{maxRedirections:s=e}=r;if(!s)return t(r,i);let o=new n(t,s,r,i);return t(r={...r,maxRedirections:0},o)}}e.exports=i},48515:(e,t,r)=>{"use strict";var n,i,s,o,a,A,l;Object.defineProperty(t,"__esModule",{value:!0}),t.SPECIAL_HEADERS=t.HEADER_STATE=t.MINOR=t.MAJOR=t.CONNECTION_TOKEN_CHARS=t.HEADER_CHARS=t.TOKEN=t.STRICT_TOKEN=t.HEX=t.URL_CHAR=t.STRICT_URL_CHAR=t.USERINFO_CHARS=t.MARK=t.ALPHANUM=t.NUM=t.HEX_MAP=t.NUM_MAP=t.ALPHA=t.FINISH=t.H_METHOD_MAP=t.METHOD_MAP=t.METHODS_RTSP=t.METHODS_ICE=t.METHODS_HTTP=t.METHODS=t.LENIENT_FLAGS=t.FLAGS=t.TYPE=t.ERROR=void 0;let c=r(33593);(function(e){e[e.OK=0]="OK",e[e.INTERNAL=1]="INTERNAL",e[e.STRICT=2]="STRICT",e[e.LF_EXPECTED=3]="LF_EXPECTED",e[e.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",e[e.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",e[e.INVALID_METHOD=6]="INVALID_METHOD",e[e.INVALID_URL=7]="INVALID_URL",e[e.INVALID_CONSTANT=8]="INVALID_CONSTANT",e[e.INVALID_VERSION=9]="INVALID_VERSION",e[e.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",e[e.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",e[e.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",e[e.INVALID_STATUS=13]="INVALID_STATUS",e[e.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",e[e.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",e[e.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",e[e.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",e[e.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",e[e.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",e[e.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",e[e.PAUSED=21]="PAUSED",e[e.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",e[e.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",e[e.USER=24]="USER"})(n=t.ERROR||(t.ERROR={})),function(e){e[e.BOTH=0]="BOTH",e[e.REQUEST=1]="REQUEST",e[e.RESPONSE=2]="RESPONSE"}(i=t.TYPE||(t.TYPE={})),function(e){e[e.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",e[e.CHUNKED=8]="CHUNKED",e[e.UPGRADE=16]="UPGRADE",e[e.CONTENT_LENGTH=32]="CONTENT_LENGTH",e[e.SKIPBODY=64]="SKIPBODY",e[e.TRAILING=128]="TRAILING",e[e.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"}(s=t.FLAGS||(t.FLAGS={})),function(e){e[e.HEADERS=1]="HEADERS",e[e.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",e[e.KEEP_ALIVE=4]="KEEP_ALIVE"}(o=t.LENIENT_FLAGS||(t.LENIENT_FLAGS={})),function(e){e[e.DELETE=0]="DELETE",e[e.GET=1]="GET",e[e.HEAD=2]="HEAD",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.CONNECT=5]="CONNECT",e[e.OPTIONS=6]="OPTIONS",e[e.TRACE=7]="TRACE",e[e.COPY=8]="COPY",e[e.LOCK=9]="LOCK",e[e.MKCOL=10]="MKCOL",e[e.MOVE=11]="MOVE",e[e.PROPFIND=12]="PROPFIND",e[e.PROPPATCH=13]="PROPPATCH",e[e.SEARCH=14]="SEARCH",e[e.UNLOCK=15]="UNLOCK",e[e.BIND=16]="BIND",e[e.REBIND=17]="REBIND",e[e.UNBIND=18]="UNBIND",e[e.ACL=19]="ACL",e[e.REPORT=20]="REPORT",e[e.MKACTIVITY=21]="MKACTIVITY",e[e.CHECKOUT=22]="CHECKOUT",e[e.MERGE=23]="MERGE",e[e["M-SEARCH"]=24]="M-SEARCH",e[e.NOTIFY=25]="NOTIFY",e[e.SUBSCRIBE=26]="SUBSCRIBE",e[e.UNSUBSCRIBE=27]="UNSUBSCRIBE",e[e.PATCH=28]="PATCH",e[e.PURGE=29]="PURGE",e[e.MKCALENDAR=30]="MKCALENDAR",e[e.LINK=31]="LINK",e[e.UNLINK=32]="UNLINK",e[e.SOURCE=33]="SOURCE",e[e.PRI=34]="PRI",e[e.DESCRIBE=35]="DESCRIBE",e[e.ANNOUNCE=36]="ANNOUNCE",e[e.SETUP=37]="SETUP",e[e.PLAY=38]="PLAY",e[e.PAUSE=39]="PAUSE",e[e.TEARDOWN=40]="TEARDOWN",e[e.GET_PARAMETER=41]="GET_PARAMETER",e[e.SET_PARAMETER=42]="SET_PARAMETER",e[e.REDIRECT=43]="REDIRECT",e[e.RECORD=44]="RECORD",e[e.FLUSH=45]="FLUSH"}(a=t.METHODS||(t.METHODS={})),t.METHODS_HTTP=[a.DELETE,a.GET,a.HEAD,a.POST,a.PUT,a.CONNECT,a.OPTIONS,a.TRACE,a.COPY,a.LOCK,a.MKCOL,a.MOVE,a.PROPFIND,a.PROPPATCH,a.SEARCH,a.UNLOCK,a.BIND,a.REBIND,a.UNBIND,a.ACL,a.REPORT,a.MKACTIVITY,a.CHECKOUT,a.MERGE,a["M-SEARCH"],a.NOTIFY,a.SUBSCRIBE,a.UNSUBSCRIBE,a.PATCH,a.PURGE,a.MKCALENDAR,a.LINK,a.UNLINK,a.PRI,a.SOURCE],t.METHODS_ICE=[a.SOURCE],t.METHODS_RTSP=[a.OPTIONS,a.DESCRIBE,a.ANNOUNCE,a.SETUP,a.PLAY,a.PAUSE,a.TEARDOWN,a.GET_PARAMETER,a.SET_PARAMETER,a.REDIRECT,a.RECORD,a.FLUSH,a.GET,a.POST],t.METHOD_MAP=c.enumToMap(a),t.H_METHOD_MAP={},Object.keys(t.METHOD_MAP).forEach(e=>{/^H/.test(e)&&(t.H_METHOD_MAP[e]=t.METHOD_MAP[e])}),function(e){e[e.SAFE=0]="SAFE",e[e.SAFE_WITH_CB=1]="SAFE_WITH_CB",e[e.UNSAFE=2]="UNSAFE"}(A=t.FINISH||(t.FINISH={})),t.ALPHA=[];for(let e=65;e<=90;e++)t.ALPHA.push(String.fromCharCode(e)),t.ALPHA.push(String.fromCharCode(e+32));t.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},t.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},t.NUM=["0","1","2","3","4","5","6","7","8","9"],t.ALPHANUM=t.ALPHA.concat(t.NUM),t.MARK=["-","_",".","!","~","*","'","(",")"],t.USERINFO_CHARS=t.ALPHANUM.concat(t.MARK).concat(["%",";",":","&","=","+","$",","]),t.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(t.ALPHANUM),t.URL_CHAR=t.STRICT_URL_CHAR.concat(["	","\f"]);for(let e=128;e<=255;e++)t.URL_CHAR.push(e);t.HEX=t.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]),t.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(t.ALPHANUM),t.TOKEN=t.STRICT_TOKEN.concat([" "]),t.HEADER_CHARS=["	"];for(let e=32;e<=255;e++)127!==e&&t.HEADER_CHARS.push(e);t.CONNECTION_TOKEN_CHARS=t.HEADER_CHARS.filter(e=>44!==e),t.MAJOR=t.NUM_MAP,t.MINOR=t.MAJOR,function(e){e[e.GENERAL=0]="GENERAL",e[e.CONNECTION=1]="CONNECTION",e[e.CONTENT_LENGTH=2]="CONTENT_LENGTH",e[e.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",e[e.UPGRADE=4]="UPGRADE",e[e.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",e[e.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"}(l=t.HEADER_STATE||(t.HEADER_STATE={})),t.SPECIAL_HEADERS={connection:l.CONNECTION,"content-length":l.CONTENT_LENGTH,"proxy-connection":l.CONNECTION,"transfer-encoding":l.TRANSFER_ENCODING,upgrade:l.UPGRADE}},32137:e=>{"use strict";e.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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ADcDACAAQShqQgA3AwAgAEEgakIANwMAIABBEGpCADcDACAAQQhqQgA3AwAgAEHdATYCHEEAC3sBAX8CQCAAKAIMIgMNAAJAIAAoAgRFDQAgACABNgIECwJAIAAgASACEMSAgIAAIgMNACAAKAIMDwsgACADNgIcQQAhAyAAKAIEIgFFDQAgACABIAIgACgCCBGBgICAAAAiAUUNACAAIAI2AhQgACABNgIMIAEhAwsgAwvk8wEDDn8DfgR/I4CAgIAAQRBrIgMkgICAgAAgASEEIAEhBSABIQYgASEHIAEhCCABIQkgASEKIAEhCyABIQwgASENIAEhDiABIQ8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgACgCHCIQQX9qDt0B2gEB2QECAwQFBgcICQoLDA0O2AEPENcBERLWARMUFRYXGBkaG+AB3wEcHR7VAR8gISIjJCXUASYnKCkqKyzTAdIBLS7RAdABLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVG2wFHSElKzwHOAUvNAUzMAU1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+f4ABgQGCAYMBhAGFAYYBhwGIAYkB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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FCAAIBA2AgxBACEQDLIBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxNCyAAQdMANgIcIAAgATYCFCAAIBA2AgxBACEQDLEBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxRCyAAQeUANgIcIAAgATYCFCAAIBA2AgxBACEQDLABCyAAQQA2AhwgACABNgIUIABBxoqAgAA2AhAgAEEHNgIMQQAhEAyvAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHSADYCHCAAIAE2AhQgACAQNgIMQQAhEAyuAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHTADYCHCAAIAE2AhQgACAQNgIMQQAhEAytAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMTQsgAEHlADYCHCAAIAE2AhQgACAQNgIMQQAhEAysAQsgAEEANgIcIAAgATYCFCAAQdyIgIAANgIQIABBBzYCDEEAIRAMqwELIBBBP0cNASABQQFqIQELQQUhEAyQAQtBACEQIABBADYCHCAAIAE2AhQgAEH9koCAADYCECAAQQc2AgwMqAELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0gA2AhwgACABNgIUIAAgEDYCDEEAIRAMpwELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0wA2AhwgACABNgIUIAAgEDYCDEEAIRAMpgELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEYLIABB5QA2AhwgACABNgIUIAAgEDYCDEEAIRAMpQELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0gA2AhwgACAUNgIUIAAgATYCDEEAIRAMpAELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0wA2AhwgACAUNgIUIAAgATYCDEEAIRAMowELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDEMLIABB5QA2AhwgACAU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YWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABEdXBsaWNhdGUgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyIGluIHVybCBwYXRoAENvbnRlbnQtTGVuZ3RoIGNhbid0IGJlIHByZXNlbnQgd2l0aCBUcmFuc2Zlci1FbmNvZGluZwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBzaXplAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX3ZhbHVlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgdmFsdWUATWlzc2luZyBleHBlY3RlZCBMRiBhZnRlciBoZWFkZXIgdmFsdWUASW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fbmFtZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIG5hbWUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAXhMAACYTAAAwEAAA8BcAAJ0TAAAVEgAAORcAAPASAAAKEAAAdRIAAK0SAACCEwAATxQAAH8QAACgFQAAIxQAAIkSAACLFAAATRUAANQRAADPFAAAEBgAAMkWAADcFgAAwREAAOAXAAC7FAAAdBQAAHwVAADlFAAACBcAAB8QAABlFQAAoxQAACgVAAACFQAAmRUAACwQAACLGQAATw8AANQOAABqEAAAzhAAAAIXAACJDgAAbhMAABwTAABmFAAAVhcAAMETAADNEwAAbBMAAGgXAABmFwAAXxcAACITAADODwAAaQ4AANgOAABjFgAAyxMAAKoOAAAoFwAAJhcAAMUTAABdFgAA6BEAAGcTAABlEwAA8hYAAHMTAAAdFwAA+RYAAPMRAADPDgAAzhUAAAwSAACzEQAApREAAGEQAAAyFwAAuxMAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIDAgICAgIAAAICAAICAAICAgICAgICAgIABAAAAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAACAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbG9zZWVlcC1hbGl2ZQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AAAAAAAAAAAAAAAAAAAByYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AAAAAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQIAAQMAAAAAAAAAAAAAAAAAAAAAAAAEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAAAAQAAAgAAAAAAAAAAAAAAAAAAAAAAAAMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAIAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOT1VOQ0VFQ0tPVVRORUNURVRFQ1JJQkVMVVNIRVRFQURTRUFSQ0hSR0VDVElWSVRZTEVOREFSVkVPVElGWVBUSU9OU0NIU0VBWVNUQVRDSEdFT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8="},89683:e=>{"use strict";e.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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IAH9CwMAIABBMGogAf0LAwAgAEEgaiAB/QsDACAAQd0BNgIcQQALewEBfwJAIAAoAgwiAw0AAkAgACgCBEUNACAAIAE2AgQLAkAgACABIAIQxICAgAAiAw0AIAAoAgwPCyAAIAM2AhxBACEDIAAoAgQiAUUNACAAIAEgAiAAKAIIEYGAgIAAACIBRQ0AIAAgAjYCFCAAIAE2AgwgASEDCyADC+TzAQMOfwN+BH8jgICAgABBEGsiAySAgICAACABIQQgASEFIAEhBiABIQcgASEIIAEhCSABIQogASELIAEhDCABIQ0gASEOIAEhDwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIcIhBBf2oO3QHaAQHZAQIDBAUGBwgJCgsMDQ7YAQ8Q1wEREtYBExQVFhcYGRob4AHfARwdHtUBHyAhIiMkJdQBJicoKSorLNMB0gEtLtEB0AEvMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUbbAUdISUrPAc4BS80BTMwBTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AcsBygG4AckBuQHIAboBuwG8Ab0BvgG/AcABwQHCAcMBxAHFAcYBANwBC0EAIRAMxgELQQ4hEAzFAQtBDSEQDMQBC0EPIRAMwwELQRAhEAzCAQtBEyEQDMEBC0EUIRAMwAELQRUhEAy/AQtBFiEQDL4BC0EXIRAMvQELQRghEAy8AQtBGSEQDLsBC0EaIRAMugELQRshEAy5AQtBHCEQDLgBC0EIIRAMtwELQR0hEAy2AQtBICEQDLUBC0EfIRAMtAELQQchEAyzAQtBISEQDLIBC0EiIRAMsQELQR4hEAywAQtBIyEQDK8BC0ESIRAMrgELQREhEAytAQtBJCEQDKwBC0ElIRAMqwELQSYhEAyqAQtBJyEQDKkBC0HDASEQDKgBC0EpIRAMpwELQSshEAymAQtBLCEQDKUBC0EtIRAMpAELQS4hEAyjAQtBLyEQDKIBC0HEASEQDKEBC0EwIRAMoAELQTQhEAyfAQtBDCEQDJ4BC0ExIRAMnQELQTIhEAycAQtBMyEQDJsBC0E5IRAMmgELQTUhEAyZAQtBxQEhEAyYAQtBCyEQDJcBC0E6IRAMlgELQTYhEAyVAQtBCiEQDJQBC0E3IRAMkwELQTghEAySAQtBPCEQDJEBC0E7IRAMkAELQT0hEAyPAQtBCSEQDI4BC0EoIRAMjQELQT4hEAyMAQtBPyEQDIsBC0HAACEQDIoBC0HBACEQDIkBC0HCACEQDIgBC0HDACEQDIcBC0HEACEQDIYBC0HFACEQDIUBC0HGACEQDIQBC0EqIRAMgwELQccAIRAMggELQcgAIRAMgQELQckAIRAMgAELQcoAIRAMfwtBywAhEAx+C0HNACEQDH0LQcwAIRAMfAtBzgAhEAx7C0HPACEQDHoLQdAAIRAMeQtB0QAhEAx4C0HSACEQDHcLQdMAIRAMdgtB1AAhEAx1C0HWACEQDHQLQdUAIRAMcwtBBiEQDHILQdcAIRAMcQtBBSEQDHALQdgAIRAMbwtBBCEQDG4LQdkAIRAMbQtB2gAhEAxsC0HbACEQDGsLQdwAIRAMagtBAyEQDGkLQd0AIRAMaAtB3gAhEAxnC0HfACEQDGYLQeEAIRAMZQtB4AAhEAxkC0HiACEQDGMLQeMAIRAMYgtBAiEQDGELQeQAIRAMYAtB5QAhEAxfC0HmACEQDF4LQecAIRAMXQtB6AAhEAxcC0HpACEQDFsLQeoAIRAMWgtB6wAhEAxZC0HsACEQDFgLQe0AIRAMVwtB7gAhEAxWC0HvACEQDFULQfAAIRAMVAtB8QAhEAxTC0HyACEQDFILQfMAIRAMUQtB9AAhEAxQC0H1ACEQDE8LQfYAIRAMTgtB9wAhEAxNC0H4ACEQDEwLQfkAIRAMSwtB+gAhEAxKC0H7ACEQDEkLQfwAIRAMSAtB/QAhEAxHC0H+ACEQDEYLQf8AIRAMRQtBgAEhEAxEC0GBASEQDEMLQYIBIRAMQgtBgwEhEAxBC0GEASEQDEALQYUBIRAMPwtBhgEhEAw+C0GHASEQDD0LQYgBIRAMPAtBiQEhEAw7C0GKASEQDDoLQYsBIRAMOQtBjAEhEAw4C0GNASEQDDcLQY4BIRAMNgtBjwEhEAw1C0GQASEQDDQLQZEBIRAMMwtBkgEhEAwyC0GTASEQDDELQZQBIRAMMAtBlQEhEAwvC0GWASEQDC4LQZcBIRAMLQtBmAEhEAwsC0GZASEQDCsLQZoBIRAMKgtBmwEhEAwpC0GcASEQDCgLQZ0BIRAMJwtBngEhEAwmC0GfASEQDCULQaABIRAMJAtBoQEhEAwjC0GiASEQDCILQaMBIRAMIQtBpAEhEAwgC0GlASEQDB8LQaYBIRAMHgtBpwEhEAwdC0GoASEQDBwLQakBIRAMGwtBqgEhEAwaC0GrASEQDBkLQawBIRAMGAtBrQEhEAwXC0GuASEQDBYLQQEhEAwVC0GvASEQDBQLQbABIRAMEwtBsQEhEAwSC0GzASEQDBELQbIBIRAMEAtBtAEhEAwPC0G1ASEQDA4LQbYBIRAMDQtBtwEhEAwMC0G4ASEQDAsLQbkBIRAMCgtBugEhEAwJC0G7ASEQDAgLQcYBIRAMBwtBvAEhEAwGC0G9ASEQDAULQb4BIRAMBAtBvwEhEAwDC0HAASEQDAILQcIBIRAMAQtBwQEhEAsDQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIBAOxwEAAQID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YWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsb3NlZWVwLWFsaXZlAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgAAAAAAAAAAAAAAAAAAAHJhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KDQpTTQ0KDQpUVFAvQ0UvVFNQLwAAAAAAAAAAAAAAAAECAAEDAAAAAAAAAAAAAAAAAAAAAAAABAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAABAAACAAAAAAAAAAAAAAAAAAAAAAAAAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAgAAAAACAAAAAAAAAAAAAAAAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw=="},33593:(e,t)=>{"use strict";function r(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];"number"==typeof n&&(t[r]=n)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.enumToMap=void 0,t.enumToMap=r},50958:(e,t,r)=>{"use strict";let{kClients:n}=r(44466),i=r(71453),{kAgent:s,kMockAgentSet:o,kMockAgentGet:a,kDispatches:A,kIsMockActive:l,kNetConnect:c,kGetNetConnect:u,kOptions:h,kFactory:d}=r(42670),g=r(107),f=r(54397),{matchValue:p,buildMockOptions:E}=r(63975),{InvalidArgumentError:m,UndiciError:C}=r(29615),y=r(71161),I=r(10043),B=r(75305);class Q{constructor(e){this.value=e}deref(){return this.value}}class v extends y{constructor(e){if(super(e),this[c]=!0,this[l]=!0,e&&e.agent&&"function"!=typeof e.agent.dispatch)throw new m("Argument opts.agent must implement Agent");let t=e&&e.agent?e.agent:new i(e);this[s]=t,this[n]=t[n],this[h]=E(e)}get(e){let t=this[a](e);return t||(t=this[d](e),this[o](e,t)),t}dispatch(e,t){return this.get(e.origin),this[s].dispatch(e,t)}async close(){await this[s].close(),this[n].clear()}deactivate(){this[l]=!1}activate(){this[l]=!0}enableNetConnect(e){if("string"==typeof e||"function"==typeof e||e instanceof RegExp)Array.isArray(this[c])?this[c].push(e):this[c]=[e];else if(void 0===e)this[c]=!0;else throw new m("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[c]=!1}get isMockActive(){return this[l]}[o](e,t){this[n].set(e,new Q(t))}[d](e){let t=Object.assign({agent:this},this[h]);return this[h]&&1===this[h].connections?new g(e,t):new f(e,t)}[a](e){let t=this[n].get(e);if(t)return t.deref();if("string"!=typeof e){let t=this[d]("http://localhost:9999");return this[o](e,t),t}for(let[t,r]of Array.from(this[n])){let n=r.deref();if(n&&"string"!=typeof t&&p(t,e)){let t=this[d](e);return this[o](e,t),t[A]=n[A],t}}}[u](){return this[c]}pendingInterceptors(){return Array.from(this[n].entries()).flatMap(([e,t])=>t.deref()[A].map(t=>({...t,origin:e}))).filter(({pending:e})=>e)}assertNoPendingInterceptors({pendingInterceptorsFormatter:e=new B}={}){let t=this.pendingInterceptors();if(0===t.length)return;let r=new I("interceptor","interceptors").pluralize(t.length);throw new C(`
${r.count} ${r.noun} ${r.is} pending:

${e.format(t)}
`.trim())}}e.exports=v},107:(e,t,r)=>{"use strict";let{promisify:n}=r(73837),i=r(12148),{buildMockDispatch:s}=r(63975),{kDispatches:o,kMockAgent:a,kClose:A,kOriginalClose:l,kOrigin:c,kOriginalDispatch:u,kConnected:h}=r(42670),{MockInterceptor:d}=r(5407),g=r(44466),{InvalidArgumentError:f}=r(29615);class p extends i{constructor(e,t){if(super(e,t),!t||!t.agent||"function"!=typeof t.agent.dispatch)throw new f("Argument opts.agent must implement Agent");this[a]=t.agent,this[c]=e,this[o]=[],this[h]=1,this[u]=this.dispatch,this[l]=this.close.bind(this),this.dispatch=s.call(this),this.close=this[A]}get[g.kConnected](){return this[h]}intercept(e){return new d(e,this[o])}async [A](){await n(this[l])(),this[h]=0,this[a][g.kClients].delete(this[c])}}e.exports=p},19164:(e,t,r)=>{"use strict";let{UndiciError:n}=r(29615);class i extends n{constructor(e){super(e),Error.captureStackTrace(this,i),this.name="MockNotMatchedError",this.message=e||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}}e.exports={MockNotMatchedError:i}},5407:(e,t,r)=>{"use strict";let{getResponseData:n,buildKey:i,addMockDispatch:s}=r(63975),{kDispatches:o,kDispatchKey:a,kDefaultHeaders:A,kDefaultTrailers:l,kContentLength:c,kMockDispatch:u}=r(42670),{InvalidArgumentError:h}=r(29615),{buildURL:d}=r(55909);class g{constructor(e){this[u]=e}delay(e){if("number"!=typeof e||!Number.isInteger(e)||e<=0)throw new h("waitInMs must be a valid integer > 0");return this[u].delay=e,this}persist(){return this[u].persist=!0,this}times(e){if("number"!=typeof e||!Number.isInteger(e)||e<=0)throw new h("repeatTimes must be a valid integer > 0");return this[u].times=e,this}}class f{constructor(e,t){if("object"!=typeof e)throw new h("opts must be an object");if(void 0===e.path)throw new h("opts.path must be defined");if(void 0===e.method&&(e.method="GET"),"string"==typeof e.path){if(e.query)e.path=d(e.path,e.query);else{let t=new URL(e.path,"data://");e.path=t.pathname+t.search}}"string"==typeof e.method&&(e.method=e.method.toUpperCase()),this[a]=i(e),this[o]=t,this[A]={},this[l]={},this[c]=!1}createMockScopeDispatchData(e,t,r={}){let i=n(t),s=this[c]?{"content-length":i.length}:{};return{statusCode:e,data:t,headers:{...this[A],...s,...r.headers},trailers:{...this[l],...r.trailers}}}validateReplyParameters(e,t,r){if(void 0===e)throw new h("statusCode must be defined");if(void 0===t)throw new h("data must be defined");if("object"!=typeof r)throw new h("responseOptions must be an object")}reply(e){if("function"==typeof e){let t=t=>{let r=e(t);if("object"!=typeof r)throw new h("reply options callback must return an object");let{statusCode:n,data:i="",responseOptions:s={}}=r;return this.validateReplyParameters(n,i,s),{...this.createMockScopeDispatchData(n,i,s)}};return new g(s(this[o],this[a],t))}let[t,r="",n={}]=[...arguments];this.validateReplyParameters(t,r,n);let i=this.createMockScopeDispatchData(t,r,n);return new g(s(this[o],this[a],i))}replyWithError(e){if(void 0===e)throw new h("error must be defined");return new g(s(this[o],this[a],{error:e}))}defaultReplyHeaders(e){if(void 0===e)throw new h("headers must be defined");return this[A]=e,this}defaultReplyTrailers(e){if(void 0===e)throw new h("trailers must be defined");return this[l]=e,this}replyContentLength(){return this[c]=!0,this}}e.exports.MockInterceptor=f,e.exports.MockScope=g},54397:(e,t,r)=>{"use strict";let{promisify:n}=r(73837),i=r(45557),{buildMockDispatch:s}=r(63975),{kDispatches:o,kMockAgent:a,kClose:A,kOriginalClose:l,kOrigin:c,kOriginalDispatch:u,kConnected:h}=r(42670),{MockInterceptor:d}=r(5407),g=r(44466),{InvalidArgumentError:f}=r(29615);class p extends i{constructor(e,t){if(super(e,t),!t||!t.agent||"function"!=typeof t.agent.dispatch)throw new f("Argument opts.agent must implement Agent");this[a]=t.agent,this[c]=e,this[o]=[],this[h]=1,this[u]=this.dispatch,this[l]=this.close.bind(this),this.dispatch=s.call(this),this.close=this[A]}get[g.kConnected](){return this[h]}intercept(e){return new d(e,this[o])}async [A](){await n(this[l])(),this[h]=0,this[a][g.kClients].delete(this[c])}}e.exports=p},42670:e=>{"use strict";e.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}},63975:(e,t,r)=>{"use strict";let{MockNotMatchedError:n}=r(19164),{kDispatches:i,kMockAgent:s,kOriginalDispatch:o,kOrigin:a,kGetNetConnect:A}=r(42670),{buildURL:l,nop:c}=r(55909),{STATUS_CODES:u}=r(13685),{types:{isPromise:h}}=r(73837);function d(e,t){return"string"==typeof e?e===t:e instanceof RegExp?e.test(t):"function"==typeof e&&!0===e(t)}function g(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e.toLocaleLowerCase(),t]))}function f(e,t){if(Array.isArray(e)){for(let r=0;r<e.length;r+=2)if(e[r].toLocaleLowerCase()===t.toLocaleLowerCase())return e[r+1];return}return"function"==typeof e.get?e.get(t):g(e)[t.toLocaleLowerCase()]}function p(e){let t=e.slice(),r=[];for(let e=0;e<t.length;e+=2)r.push([t[e],t[e+1]]);return Object.fromEntries(r)}function E(e,t){if("function"==typeof e.headers)return Array.isArray(t)&&(t=p(t)),e.headers(t?g(t):{});if(void 0===e.headers)return!0;if("object"!=typeof t||"object"!=typeof e.headers)return!1;for(let[r,n]of Object.entries(e.headers))if(!d(n,f(t,r)))return!1;return!0}function m(e){if("string"!=typeof e)return e;let t=e.split("?");if(2!==t.length)return e;let r=new URLSearchParams(t.pop());return r.sort(),[...t,r.toString()].join("?")}function C(e,{path:t,method:r,body:n,headers:i}){let s=d(e.path,t),o=d(e.method,r),a=void 0===e.body||d(e.body,n),A=E(e,i);return s&&o&&a&&A}function y(e){return Buffer.isBuffer(e)?e:"object"==typeof e?JSON.stringify(e):e.toString()}function I(e,t){let r=t.query?l(t.path,t.query):t.path,i="string"==typeof r?m(r):r,s=e.filter(({consumed:e})=>!e).filter(({path:e})=>d(m(e),i));if(0===s.length)throw new n(`Mock dispatch not matched for path '${i}'`);if(0===(s=s.filter(({method:e})=>d(e,t.method))).length)throw new n(`Mock dispatch not matched for method '${t.method}'`);if(0===(s=s.filter(({body:e})=>void 0===e||d(e,t.body))).length)throw new n(`Mock dispatch not matched for body '${t.body}'`);if(0===(s=s.filter(e=>E(e,t.headers))).length)throw new n(`Mock dispatch not matched for headers '${"object"==typeof t.headers?JSON.stringify(t.headers):t.headers}'`);return s[0]}function B(e,t,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},i="function"==typeof r?{callback:r}:{...r},s={...n,...t,pending:!0,data:{error:null,...i}};return e.push(s),s}function Q(e,t){let r=e.findIndex(e=>!!e.consumed&&C(e,t));-1!==r&&e.splice(r,1)}function v(e){let{path:t,method:r,body:n,headers:i,query:s}=e;return{path:t,method:r,body:n,headers:i,query:s}}function w(e){return Object.entries(e).reduce((e,[t,r])=>[...e,Buffer.from(`${t}`),Array.isArray(r)?r.map(e=>Buffer.from(`${e}`)):Buffer.from(`${r}`)],[])}function b(e){return u[e]||"unknown"}async function S(e){let t=[];for await(let r of e)t.push(r);return Buffer.concat(t).toString("utf8")}function k(e,t){let r=v(e),n=I(this[i],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(e)});let{data:{statusCode:s,data:o,headers:a,trailers:A,error:l},delay:u,persist:d}=n,{timesInvoked:g,times:f}=n;if(n.consumed=!d&&g>=f,n.pending=g<f,null!==l)return Q(this[i],r),t.onError(l),!0;function E(n,i=o){let l=Array.isArray(e.headers)?p(e.headers):e.headers,u="function"==typeof i?i({...e,headers:l}):i;if(h(u)){u.then(e=>E(n,e));return}let d=y(u),g=w(a),f=w(A);t.abort=c,t.onHeaders(s,g,m,b(s)),t.onData(Buffer.from(d)),t.onComplete(f),Q(n,r)}function m(){}return"number"==typeof u&&u>0?setTimeout(()=>{E(this[i])},u):E(this[i]),!0}function R(){let e=this[s],t=this[a],r=this[o];return function(i,s){if(e.isMockActive)try{k.call(this,i,s)}catch(o){if(o instanceof n){let a=e[A]();if(!1===a)throw new n(`${o.message}: subsequent request to origin ${t} was not allowed (net.connect disabled)`);if(D(a,t))r.call(this,i,s);else throw new n(`${o.message}: subsequent request to origin ${t} was not allowed (net.connect is not enabled for this origin)`)}else throw o}else r.call(this,i,s)}}function D(e,t){let r=new URL(t);return!0===e||!!(Array.isArray(e)&&e.some(e=>d(e,r.host)))}function _(e){if(e){let{agent:t,...r}=e;return r}}e.exports={getResponseData:y,getMockDispatch:I,addMockDispatch:B,deleteMockDispatch:Q,buildKey:v,generateKeyValues:w,matchValue:d,getResponse:S,getStatusText:b,mockDispatch:k,buildMockDispatch:R,checkNetConnect:D,buildMockOptions:_,getHeaderByName:f}},75305:(e,t,r)=>{"use strict";let{Transform:n}=r(12781),{Console:i}=r(96206);e.exports=class{constructor({disableColors:e}={}){this.transform=new n({transform(e,t,r){r(null,e)}}),this.logger=new i({stdout:this.transform,inspectOptions:{colors:!e&&!process.env.CI}})}format(e){let t=e.map(({method:e,path:t,data:{statusCode:r},persist:n,times:i,timesInvoked:s,origin:o})=>({Method:e,Origin:o,Path:t,"Status code":r,Persistent:n?"✅":"❌",Invocations:s,Remaining:n?1/0:i-s}));return this.logger.table(t),this.transform.read().toString()}}},10043:e=>{"use strict";let t={pronoun:"it",is:"is",was:"was",this:"this"},r={pronoun:"they",is:"are",was:"were",this:"these"};e.exports=class{constructor(e,t){this.singular=e,this.plural=t}pluralize(e){let n=1===e,i=n?t:r,s=n?this.singular:this.plural;return{...i,count:e,noun:s}}}},48:e=>{"use strict";let t=2048,r=2047;class n{constructor(){this.bottom=0,this.top=0,this.list=Array(t),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&r)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&r}shift(){let e=this.list[this.bottom];return void 0===e?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&r,e)}}e.exports=class{constructor(){this.head=this.tail=new n}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new n),this.head.push(e)}shift(){let e=this.tail,t=e.shift();return e.isEmpty()&&null!==e.next&&(this.tail=e.next),t}}},9953:(e,t,r)=>{"use strict";let n=r(59515),i=r(48),{kConnected:s,kSize:o,kRunning:a,kPending:A,kQueued:l,kBusy:c,kFree:u,kUrl:h,kClose:d,kDestroy:g,kDispatch:f}=r(44466),p=r(71599),E=Symbol("clients"),m=Symbol("needDrain"),C=Symbol("queue"),y=Symbol("closed resolve"),I=Symbol("onDrain"),B=Symbol("onConnect"),Q=Symbol("onDisconnect"),v=Symbol("onConnectionError"),w=Symbol("get dispatcher"),b=Symbol("add client"),S=Symbol("remove client"),k=Symbol("stats");class R extends n{constructor(){super(),this[C]=new i,this[E]=[],this[l]=0;let e=this;this[I]=function(t,r){let n=e[C],i=!1;for(;!i;){let t=n.shift();if(!t)break;e[l]--,i=!this.dispatch(t.opts,t.handler)}this[m]=i,!this[m]&&e[m]&&(e[m]=!1,e.emit("drain",t,[e,...r])),e[y]&&n.isEmpty()&&Promise.all(e[E].map(e=>e.close())).then(e[y])},this[B]=(t,r)=>{e.emit("connect",t,[e,...r])},this[Q]=(t,r,n)=>{e.emit("disconnect",t,[e,...r],n)},this[v]=(t,r,n)=>{e.emit("connectionError",t,[e,...r],n)},this[k]=new p(this)}get[c](){return this[m]}get[s](){return this[E].filter(e=>e[s]).length}get[u](){return this[E].filter(e=>e[s]&&!e[m]).length}get[A](){let e=this[l];for(let{[A]:t}of this[E])e+=t;return e}get[a](){let e=0;for(let{[a]:t}of this[E])e+=t;return e}get[o](){let e=this[l];for(let{[o]:t}of this[E])e+=t;return e}get stats(){return this[k]}async [d](){return this[C].isEmpty()?Promise.all(this[E].map(e=>e.close())):new Promise(e=>{this[y]=e})}async [g](e){for(;;){let t=this[C].shift();if(!t)break;t.handler.onError(e)}return Promise.all(this[E].map(t=>t.destroy(e)))}[f](e,t){let r=this[w]();return r?r.dispatch(e,t)||(r[m]=!0,this[m]=!this[w]()):(this[m]=!0,this[C].push({opts:e,handler:t}),this[l]++),!this[m]}[b](e){return e.on("drain",this[I]).on("connect",this[B]).on("disconnect",this[Q]).on("connectionError",this[v]),this[E].push(e),this[m]&&process.nextTick(()=>{this[m]&&this[I](e[h],[this,e])}),this}[S](e){e.close(()=>{let t=this[E].indexOf(e);-1!==t&&this[E].splice(t,1)}),this[m]=this[E].some(e=>!e[m]&&!0!==e.closed&&!0!==e.destroyed)}}e.exports={PoolBase:R,kClients:E,kNeedDrain:m,kAddClient:b,kRemoveClient:S,kGetDispatcher:w}},71599:(e,t,r)=>{"use strict";let{kFree:n,kConnected:i,kPending:s,kQueued:o,kRunning:a,kSize:A}=r(44466),l=Symbol("pool");class c{constructor(e){this[l]=e}get connected(){return this[l][i]}get free(){return this[l][n]}get pending(){return this[l][s]}get queued(){return this[l][o]}get running(){return this[l][a]}get size(){return this[l][A]}}e.exports=c},45557:(e,t,r)=>{"use strict";let{PoolBase:n,kClients:i,kNeedDrain:s,kAddClient:o,kGetDispatcher:a}=r(9953),A=r(12148),{InvalidArgumentError:l}=r(29615),c=r(55909),{kUrl:u,kInterceptors:h}=r(44466),d=r(67301),g=Symbol("options"),f=Symbol("connections"),p=Symbol("factory");function E(e,t){return new A(e,t)}class m extends n{constructor(e,{connections:t,factory:r=E,connect:n,connectTimeout:i,tls:s,maxCachedSessions:o,socketPath:a,autoSelectFamily:A,autoSelectFamilyAttemptTimeout:m,allowH2:C,...y}={}){if(super(),null!=t&&(!Number.isFinite(t)||t<0))throw new l("invalid connections");if("function"!=typeof r)throw new l("factory must be a function.");if(null!=n&&"function"!=typeof n&&"object"!=typeof n)throw new l("connect must be a function or an object");"function"!=typeof n&&(n=d({...s,maxCachedSessions:o,allowH2:C,socketPath:a,timeout:i,...c.nodeHasAutoSelectFamily&&A?{autoSelectFamily:A,autoSelectFamilyAttemptTimeout:m}:void 0,...n})),this[h]=y.interceptors&&y.interceptors.Pool&&Array.isArray(y.interceptors.Pool)?y.interceptors.Pool:[],this[f]=t||null,this[u]=c.parseOrigin(e),this[g]={...c.deepClone(y),connect:n,allowH2:C},this[g].interceptors=y.interceptors?{...y.interceptors}:void 0,this[p]=r}[a](){let e=this[i].find(e=>!e[s]);return e||(!this[f]||this[i].length<this[f])&&(e=this[p](this[u],this[g]),this[o](e)),e}}e.exports=m},84319:(e,t,r)=>{"use strict";let{kProxy:n,kClose:i,kDestroy:s,kInterceptors:o}=r(44466),{URL:a}=r(57310),A=r(71453),l=r(45557),c=r(59515),{InvalidArgumentError:u,RequestAbortedError:h}=r(29615),d=r(67301),g=Symbol("proxy agent"),f=Symbol("proxy client"),p=Symbol("proxy headers"),E=Symbol("request tls settings"),m=Symbol("proxy tls settings"),C=Symbol("connect endpoint function");function y(e){return"https:"===e?443:80}function I(e){if("string"==typeof e&&(e={uri:e}),!e||!e.uri)throw new u("Proxy opts.uri is mandatory");return{uri:e.uri,protocol:e.protocol||"https"}}function B(e,t){return new l(e,t)}class Q extends c{constructor(e){if(super(e),this[n]=I(e),this[g]=new A(e),this[o]=e.interceptors&&e.interceptors.ProxyAgent&&Array.isArray(e.interceptors.ProxyAgent)?e.interceptors.ProxyAgent:[],"string"==typeof e&&(e={uri:e}),!e||!e.uri)throw new u("Proxy opts.uri is mandatory");let{clientFactory:t=B}=e;if("function"!=typeof t)throw new u("Proxy opts.clientFactory must be a function.");this[E]=e.requestTls,this[m]=e.proxyTls,this[p]=e.headers||{};let r=new a(e.uri),{origin:i,port:s,host:l,username:c,password:Q}=r;if(e.auth&&e.token)throw new u("opts.auth cannot be used in combination with opts.token");e.auth?this[p]["proxy-authorization"]=`Basic ${e.auth}`:e.token?this[p]["proxy-authorization"]=e.token:c&&Q&&(this[p]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(c)}:${decodeURIComponent(Q)}`).toString("base64")}`);let v=d({...e.proxyTls});this[C]=d({...e.requestTls}),this[f]=t(r,{connect:v}),this[g]=new A({...e,connect:async(e,t)=>{let r=e.host;e.port||(r+=`:${y(e.protocol)}`);try{let n;let{socket:o,statusCode:a}=await this[f].connect({origin:i,port:s,path:r,signal:e.signal,headers:{...this[p],host:l}});if(200!==a&&(o.on("error",()=>{}).destroy(),t(new h(`Proxy response (${a}) !== 200 when HTTP Tunneling`))),"https:"!==e.protocol){t(null,o);return}n=this[E]?this[E].servername:e.servername,this[C]({...e,servername:n,httpSocket:o},t)}catch(e){t(e)}}})}dispatch(e,t){let{host:r}=new a(e.origin),n=v(e.headers);return w(n),this[g].dispatch({...e,headers:{...n,host:r}},t)}async [i](){await this[g].close(),await this[f].close()}async [s](){await this[g].destroy(),await this[f].destroy()}}function v(e){if(Array.isArray(e)){let t={};for(let r=0;r<e.length;r+=2)t[e[r]]=e[r+1];return t}return e}function w(e){if(e&&Object.keys(e).find(e=>"proxy-authorization"===e.toLowerCase()))throw new u("Proxy-Authorization should be sent in ProxyAgent constructor")}e.exports=Q},93161:e=>{"use strict";let t;let r=Date.now(),n=[];function i(){r=Date.now();let e=n.length,t=0;for(;t<e;){let i=n[t];0===i.state?i.state=r+i.delay:i.state>0&&r>=i.state&&(i.state=-1,i.callback(i.opaque)),-1===i.state?(i.state=-2,t!==e-1?n[t]=n.pop():n.pop(),e-=1):t+=1}n.length>0&&s()}function s(){t&&t.refresh?t.refresh():(clearTimeout(t),(t=setTimeout(i,1e3)).unref&&t.unref())}class o{constructor(e,t,r){this.callback=e,this.delay=t,this.opaque=r,this.state=-2,this.refresh()}refresh(){-2!==this.state||(n.push(this),t&&1!==n.length||s()),this.state=0}clear(){this.state=-1}}e.exports={setTimeout:(e,t,r)=>t<1e3?setTimeout(e,t,r):new o(e,t,r),clearTimeout(e){e instanceof o?e.clear():clearTimeout(e)}}},39699:(e,t,r)=>{"use strict";let n;let i=r(67643),{uid:s,states:o}=r(82125),{kReadyState:a,kSentClose:A,kByteParser:l,kReceivedClose:c}=r(77274),{fireEvent:u,failWebsocketConnection:h}=r(60836),{CloseEvent:d}=r(68516),{makeRequest:g}=r(50646),{fetching:f}=r(14713),{Headers:p}=r(85887),{getGlobalDispatcher:E}=r(50585),{kHeadersList:m}=r(44466),C={};C.open=i.channel("undici:websocket:open"),C.close=i.channel("undici:websocket:close"),C.socketError=i.channel("undici:websocket:socket_error");try{n=r(6113)}catch{}function y(e,t,r,i,o){let a=e;a.protocol="ws:"===e.protocol?"http:":"https:";let A=g({urlList:[a],serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(o.headers){let e=new p(o.headers)[m];A.headersList=e}let l=n.randomBytes(16).toString("base64");for(let e of(A.headersList.append("sec-websocket-key",l),A.headersList.append("sec-websocket-version","13"),t))A.headersList.append("sec-websocket-protocol",e);let c="";return f({request:A,useParallelQueue:!0,dispatcher:o.dispatcher??E(),processResponse(e){if("error"===e.type||101!==e.status){h(r,"Received network error or non-101 status code.");return}if(0!==t.length&&!e.headersList.get("Sec-WebSocket-Protocol")){h(r,"Server did not respond with sent protocols.");return}if(e.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){h(r,'Server did not set Upgrade header to "websocket".');return}if(e.headersList.get("Connection")?.toLowerCase()!=="upgrade"){h(r,'Server did not set Connection header to "upgrade".');return}if(e.headersList.get("Sec-WebSocket-Accept")!==n.createHash("sha1").update(l+s).digest("base64")){h(r,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let o=e.headersList.get("Sec-WebSocket-Extensions");if(null!==o&&o!==c){h(r,"Received different permessage-deflate than the one set.");return}let a=e.headersList.get("Sec-WebSocket-Protocol");if(null!==a&&a!==A.headersList.get("Sec-WebSocket-Protocol")){h(r,"Protocol was not set in the opening handshake.");return}e.socket.on("data",I),e.socket.on("close",B),e.socket.on("error",Q),C.open.hasSubscribers&&C.open.publish({address:e.socket.address(),protocol:a,extensions:o}),i(e)}})}function I(e){this.ws[l].write(e)||this.pause()}function B(){let{ws:e}=this,t=e[A]&&e[c],r=1005,n="",i=e[l].closingInfo;i?(r=i.code??1005,n=i.reason):e[A]||(r=1006),e[a]=o.CLOSED,u("close",e,d,{wasClean:t,code:r,reason:n}),C.close.hasSubscribers&&C.close.publish({websocket:e,code:r,reason:n})}function Q(e){let{ws:t}=this;t[a]=o.CLOSING,C.socketError.hasSubscribers&&C.socketError.publish(e),this.destroy()}e.exports={establishWebSocketConnection:y}},82125:e=>{"use strict";let t="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",r={enumerable:!0,writable:!1,configurable:!1},n={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},i={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},s=65535,o={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},a=Buffer.allocUnsafe(0);e.exports={uid:t,staticPropertyDescriptors:r,states:n,opcodes:i,maxUnsigned16Bit:s,parserStates:o,emptyBuffer:a}},68516:(e,t,r)=>{"use strict";let{webidl:n}=r(533),{kEnumerableProperty:i}=r(55909),{MessagePort:s}=r(71267);class o extends Event{#C;constructor(e,t={}){n.argumentLengthCheck(arguments,1,{header:"MessageEvent constructor"}),super(e=n.converters.DOMString(e),t=n.converters.MessageEventInit(t)),this.#C=t}get data(){return n.brandCheck(this,o),this.#C.data}get origin(){return n.brandCheck(this,o),this.#C.origin}get lastEventId(){return n.brandCheck(this,o),this.#C.lastEventId}get source(){return n.brandCheck(this,o),this.#C.source}get ports(){return n.brandCheck(this,o),Object.isFrozen(this.#C.ports)||Object.freeze(this.#C.ports),this.#C.ports}initMessageEvent(e,t=!1,r=!1,i=null,s="",a="",A=null,l=[]){return n.brandCheck(this,o),n.argumentLengthCheck(arguments,1,{header:"MessageEvent.initMessageEvent"}),new o(e,{bubbles:t,cancelable:r,data:i,origin:s,lastEventId:a,source:A,ports:l})}}class a extends Event{#C;constructor(e,t={}){n.argumentLengthCheck(arguments,1,{header:"CloseEvent constructor"}),super(e=n.converters.DOMString(e),t=n.converters.CloseEventInit(t)),this.#C=t}get wasClean(){return n.brandCheck(this,a),this.#C.wasClean}get code(){return n.brandCheck(this,a),this.#C.code}get reason(){return n.brandCheck(this,a),this.#C.reason}}class A extends Event{#C;constructor(e,t){n.argumentLengthCheck(arguments,1,{header:"ErrorEvent constructor"}),super(e,t),e=n.converters.DOMString(e),t=n.converters.ErrorEventInit(t??{}),this.#C=t}get message(){return n.brandCheck(this,A),this.#C.message}get filename(){return n.brandCheck(this,A),this.#C.filename}get lineno(){return n.brandCheck(this,A),this.#C.lineno}get colno(){return n.brandCheck(this,A),this.#C.colno}get error(){return n.brandCheck(this,A),this.#C.error}}Object.defineProperties(o.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:i,origin:i,lastEventId:i,source:i,ports:i,initMessageEvent:i}),Object.defineProperties(a.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:i,code:i,wasClean:i}),Object.defineProperties(A.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:i,filename:i,lineno:i,colno:i,error:i}),n.converters.MessagePort=n.interfaceConverter(s),n.converters["sequence<MessagePort>"]=n.sequenceConverter(n.converters.MessagePort);let l=[{key:"bubbles",converter:n.converters.boolean,defaultValue:!1},{key:"cancelable",converter:n.converters.boolean,defaultValue:!1},{key:"composed",converter:n.converters.boolean,defaultValue:!1}];n.converters.MessageEventInit=n.dictionaryConverter([...l,{key:"data",converter:n.converters.any,defaultValue:null},{key:"origin",converter:n.converters.USVString,defaultValue:""},{key:"lastEventId",converter:n.converters.DOMString,defaultValue:""},{key:"source",converter:n.nullableConverter(n.converters.MessagePort),defaultValue:null},{key:"ports",converter:n.converters["sequence<MessagePort>"],get defaultValue(){return[]}}]),n.converters.CloseEventInit=n.dictionaryConverter([...l,{key:"wasClean",converter:n.converters.boolean,defaultValue:!1},{key:"code",converter:n.converters["unsigned short"],defaultValue:0},{key:"reason",converter:n.converters.USVString,defaultValue:""}]),n.converters.ErrorEventInit=n.dictionaryConverter([...l,{key:"message",converter:n.converters.DOMString,defaultValue:""},{key:"filename",converter:n.converters.USVString,defaultValue:""},{key:"lineno",converter:n.converters["unsigned long"],defaultValue:0},{key:"colno",converter:n.converters["unsigned long"],defaultValue:0},{key:"error",converter:n.converters.any}]),e.exports={MessageEvent:o,CloseEvent:a,ErrorEvent:A}},21218:(e,t,r)=>{"use strict";let n;let{maxUnsigned16Bit:i}=r(82125);try{n=r(6113)}catch{}class s{constructor(e){this.frameData=e,this.maskKey=n.randomBytes(4)}createFrame(e){let t=this.frameData?.byteLength??0,r=t,n=6;t>i?(n+=8,r=127):t>125&&(n+=2,r=126);let s=Buffer.allocUnsafe(t+n);s[0]=s[1]=0,s[0]|=128,s[0]=(240&s[0])+e,/*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> */s[n-4]=this.maskKey[0],s[n-3]=this.maskKey[1],s[n-2]=this.maskKey[2],s[n-1]=this.maskKey[3],s[1]=r,126===r?s.writeUInt16BE(t,2):127===r&&(s[2]=s[3]=0,s.writeUIntBE(t,4,6)),s[1]|=128;for(let e=0;e<t;e++)s[n+e]=this.frameData[e]^this.maskKey[e%4];return s}}e.exports={WebsocketFrameSend:s}},55296:(e,t,r)=>{"use strict";let{Writable:n}=r(12781),i=r(67643),{parserStates:s,opcodes:o,states:a,emptyBuffer:A}=r(82125),{kReadyState:l,kSentClose:c,kResponse:u,kReceivedClose:h}=r(77274),{isValidStatusCode:d,failWebsocketConnection:g,websocketMessageReceived:f}=r(60836),{WebsocketFrameSend:p}=r(21218),E={};E.ping=i.channel("undici:websocket:ping"),E.pong=i.channel("undici:websocket:pong");class m extends n{#y;#I;#B;#Q;#v;constructor(e){super(),this.#y=[],this.#I=0,this.#B=s.INFO,this.#Q={},this.#v=[],this.ws=e}_write(e,t,r){this.#y.push(e),this.#I+=e.length,this.run(r)}run(e){for(;;){if(this.#B===s.INFO){if(this.#I<2)return e();let t=this.consume(2);if(this.#Q.fin=(128&t[0])!=0,this.#Q.opcode=15&t[0],this.#Q.originalOpcode??=this.#Q.opcode,this.#Q.fragmented=!this.#Q.fin&&this.#Q.opcode!==o.CONTINUATION,this.#Q.fragmented&&this.#Q.opcode!==o.BINARY&&this.#Q.opcode!==o.TEXT){g(this.ws,"Invalid frame type was fragmented.");return}let r=127&t[1];if(r<=125?(this.#Q.payloadLength=r,this.#B=s.READ_DATA):126===r?this.#B=s.PAYLOADLENGTH_16:127===r&&(this.#B=s.PAYLOADLENGTH_64),this.#Q.fragmented&&r>125){g(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((this.#Q.opcode===o.PING||this.#Q.opcode===o.PONG||this.#Q.opcode===o.CLOSE)&&r>125){g(this.ws,"Payload length for control frame exceeded 125 bytes.");return}if(this.#Q.opcode===o.CLOSE){if(1===r){g(this.ws,"Received close frame with a 1-byte body.");return}let e=this.consume(r);if(this.#Q.closeInfo=this.parseCloseBody(!1,e),!this.ws[c]){let e=Buffer.allocUnsafe(2);e.writeUInt16BE(this.#Q.closeInfo.code,0);let t=new p(e);this.ws[u].socket.write(t.createFrame(o.CLOSE),e=>{e||(this.ws[c]=!0)})}this.ws[l]=a.CLOSING,this.ws[h]=!0,this.end();return}if(this.#Q.opcode===o.PING){let t=this.consume(r);if(!this.ws[h]){let e=new p(t);this.ws[u].socket.write(e.createFrame(o.PONG)),E.ping.hasSubscribers&&E.ping.publish({payload:t})}if(this.#B=s.INFO,this.#I>0)continue;e();return}else if(this.#Q.opcode===o.PONG){let t=this.consume(r);if(E.pong.hasSubscribers&&E.pong.publish({payload:t}),this.#I>0)continue;e();return}}else if(this.#B===s.PAYLOADLENGTH_16){if(this.#I<2)return e();let t=this.consume(2);this.#Q.payloadLength=t.readUInt16BE(0),this.#B=s.READ_DATA}else if(this.#B===s.PAYLOADLENGTH_64){if(this.#I<8)return e();let t=this.consume(8),r=t.readUInt32BE(0);if(r>2147483648-1){g(this.ws,"Received payload length > 2^31 bytes.");return}let n=t.readUInt32BE(4);this.#Q.payloadLength=(r<<8)+n,this.#B=s.READ_DATA}else if(this.#B===s.READ_DATA){if(this.#I<this.#Q.payloadLength)return e();if(this.#I>=this.#Q.payloadLength){let e=this.consume(this.#Q.payloadLength);if(this.#v.push(e),!this.#Q.fragmented||this.#Q.fin&&this.#Q.opcode===o.CONTINUATION){let e=Buffer.concat(this.#v);f(this.ws,this.#Q.originalOpcode,e),this.#Q={},this.#v.length=0}this.#B=s.INFO}}if(!(this.#I>0)){e();break}}}consume(e){if(e>this.#I)return null;if(0===e)return A;if(this.#y[0].length===e)return this.#I-=this.#y[0].length,this.#y.shift();let t=Buffer.allocUnsafe(e),r=0;for(;r!==e;){let n=this.#y[0],{length:i}=n;if(i+r===e){t.set(this.#y.shift(),r);break}if(i+r>e){t.set(n.subarray(0,e-r),r),this.#y[0]=n.subarray(e-r);break}t.set(this.#y.shift(),r),r+=n.length}return this.#I-=e,t}parseCloseBody(e,t){let r;if(t.length>=2&&(r=t.readUInt16BE(0)),e)return d(r)?{code:r}:null;let n=t.subarray(2);if(239===n[0]&&187===n[1]&&191===n[2]&&(n=n.subarray(3)),void 0!==r&&!d(r))return null;try{n=new TextDecoder("utf-8",{fatal:!0}).decode(n)}catch{return null}return{code:r,reason:n}}get closingInfo(){return this.#Q.closeInfo}}e.exports={ByteParser:m}},77274:e=>{"use strict";e.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}},60836:(e,t,r)=>{"use strict";let{kReadyState:n,kController:i,kResponse:s,kBinaryType:o,kWebSocketURL:a}=r(77274),{states:A,opcodes:l}=r(82125),{MessageEvent:c,ErrorEvent:u}=r(68516);function h(e){return e[n]===A.OPEN}function d(e){return e[n]===A.CLOSING}function g(e){return e[n]===A.CLOSED}function f(e,t,r=Event,n){let i=new r(e,n);t.dispatchEvent(i)}function p(e,t,r){let i;if(e[n]===A.OPEN){if(t===l.TEXT)try{i=new TextDecoder("utf-8",{fatal:!0}).decode(r)}catch{C(e,"Received invalid UTF-8 in text frame.");return}else t===l.BINARY&&(i="blob"===e[o]?new Blob([r]):new Uint8Array(r).buffer);f("message",e,c,{origin:e[a].origin,data:i})}}function E(e){if(0===e.length)return!1;for(let t of e){let e=t.charCodeAt(0);if(e<33||e>126||"("===t||")"===t||"<"===t||">"===t||"@"===t||","===t||";"===t||":"===t||"\\"===t||'"'===t||"/"===t||"["===t||"]"===t||"?"===t||"="===t||"{"===t||"}"===t||32===e||9===e)return!1}return!0}function m(e){return e>=1e3&&e<1015?1004!==e&&1005!==e&&1006!==e:e>=3e3&&e<=4999}function C(e,t){let{[i]:r,[s]:n}=e;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),t&&f("error",e,u,{error:Error(t)})}e.exports={isEstablished:h,isClosing:d,isClosed:g,fireEvent:f,isValidSubprotocol:E,isValidStatusCode:m,failWebsocketConnection:C,websocketMessageReceived:p}},87696:(e,t,r)=>{"use strict";let{webidl:n}=r(533),{DOMException:i}=r(19089),{URLSerializer:s}=r(93804),{getGlobalOrigin:o}=r(17901),{staticPropertyDescriptors:a,states:A,opcodes:l,emptyBuffer:c}=r(82125),{kWebSocketURL:u,kReadyState:h,kController:d,kBinaryType:g,kResponse:f,kSentClose:p,kByteParser:E}=r(77274),{isEstablished:m,isClosing:C,isValidSubprotocol:y,failWebsocketConnection:I,fireEvent:B}=r(60836),{establishWebSocketConnection:Q}=r(39699),{WebsocketFrameSend:v}=r(21218),{ByteParser:w}=r(55296),{kEnumerableProperty:b,isBlobLike:S}=r(55909),{getGlobalDispatcher:k}=r(50585),{types:R}=r(73837),D=!1;class _ extends EventTarget{#w;#b;#S;#k;constructor(e,t=[]){let r;super(),this.#w={open:null,error:null,close:null,message:null},this.#b=0,this.#S="",this.#k="",n.argumentLengthCheck(arguments,1,{header:"WebSocket constructor"}),D||(D=!0,process.emitWarning("WebSockets are experimental, expect them to change at any time.",{code:"UNDICI-WS"}));let s=n.converters["DOMString or sequence<DOMString> or WebSocketInit"](t);e=n.converters.USVString(e),t=s.protocols;let a=o();try{r=new URL(e,a)}catch(e){throw new i(e,"SyntaxError")}if("http:"===r.protocol?r.protocol="ws:":"https:"===r.protocol&&(r.protocol="wss:"),"ws:"!==r.protocol&&"wss:"!==r.protocol)throw new i(`Expected a ws: or wss: protocol, got ${r.protocol}`,"SyntaxError");if(r.hash||r.href.endsWith("#"))throw new i("Got fragment","SyntaxError");if("string"==typeof t&&(t=[t]),t.length!==new Set(t.map(e=>e.toLowerCase())).size||t.length>0&&!t.every(e=>y(e)))throw new i("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[u]=new URL(r.href),this[d]=Q(r,t,this,e=>this.#R(e),s),this[h]=_.CONNECTING,this[g]="blob"}close(e,t){if(n.brandCheck(this,_),void 0!==e&&(e=n.converters["unsigned short"](e,{clamp:!0})),void 0!==t&&(t=n.converters.USVString(t)),void 0!==e&&1e3!==e&&(e<3e3||e>4999))throw new i("invalid code","InvalidAccessError");let r=0;if(void 0!==t&&(r=Buffer.byteLength(t))>123)throw new i(`Reason must be less than 123 bytes; received ${r}`,"SyntaxError");if(this[h]===_.CLOSING||this[h]===_.CLOSED);else if(m(this)){if(C(this))this[h]=_.CLOSING;else{let n=new v;void 0!==e&&void 0===t?(n.frameData=Buffer.allocUnsafe(2),n.frameData.writeUInt16BE(e,0)):void 0!==e&&void 0!==t?(n.frameData=Buffer.allocUnsafe(2+r),n.frameData.writeUInt16BE(e,0),n.frameData.write(t,2,"utf-8")):n.frameData=c,this[f].socket.write(n.createFrame(l.CLOSE),e=>{e||(this[p]=!0)}),this[h]=A.CLOSING}}else I(this,"Connection was closed before it was established."),this[h]=_.CLOSING}send(e){if(n.brandCheck(this,_),n.argumentLengthCheck(arguments,1,{header:"WebSocket.send"}),e=n.converters.WebSocketSendData(e),this[h]===_.CONNECTING)throw new i("Sent before connected.","InvalidStateError");if(!m(this)||C(this))return;let t=this[f].socket;if("string"==typeof e){let r=Buffer.from(e),n=new v(r).createFrame(l.TEXT);this.#b+=r.byteLength,t.write(n,()=>{this.#b-=r.byteLength})}else if(R.isArrayBuffer(e)){let r=Buffer.from(e),n=new v(r).createFrame(l.BINARY);this.#b+=r.byteLength,t.write(n,()=>{this.#b-=r.byteLength})}else if(ArrayBuffer.isView(e)){let r=Buffer.from(e,e.byteOffset,e.byteLength),n=new v(r).createFrame(l.BINARY);this.#b+=r.byteLength,t.write(n,()=>{this.#b-=r.byteLength})}else if(S(e)){let r=new v;e.arrayBuffer().then(e=>{let n=Buffer.from(e);r.frameData=n;let i=r.createFrame(l.BINARY);this.#b+=n.byteLength,t.write(i,()=>{this.#b-=n.byteLength})})}}get readyState(){return n.brandCheck(this,_),this[h]}get bufferedAmount(){return n.brandCheck(this,_),this.#b}get url(){return n.brandCheck(this,_),s(this[u])}get extensions(){return n.brandCheck(this,_),this.#k}get protocol(){return n.brandCheck(this,_),this.#S}get onopen(){return n.brandCheck(this,_),this.#w.open}set onopen(e){n.brandCheck(this,_),this.#w.open&&this.removeEventListener("open",this.#w.open),"function"==typeof e?(this.#w.open=e,this.addEventListener("open",e)):this.#w.open=null}get onerror(){return n.brandCheck(this,_),this.#w.error}set onerror(e){n.brandCheck(this,_),this.#w.error&&this.removeEventListener("error",this.#w.error),"function"==typeof e?(this.#w.error=e,this.addEventListener("error",e)):this.#w.error=null}get onclose(){return n.brandCheck(this,_),this.#w.close}set onclose(e){n.brandCheck(this,_),this.#w.close&&this.removeEventListener("close",this.#w.close),"function"==typeof e?(this.#w.close=e,this.addEventListener("close",e)):this.#w.close=null}get onmessage(){return n.brandCheck(this,_),this.#w.message}set onmessage(e){n.brandCheck(this,_),this.#w.message&&this.removeEventListener("message",this.#w.message),"function"==typeof e?(this.#w.message=e,this.addEventListener("message",e)):this.#w.message=null}get binaryType(){return n.brandCheck(this,_),this[g]}set binaryType(e){n.brandCheck(this,_),"blob"!==e&&"arraybuffer"!==e?this[g]="blob":this[g]=e}#R(e){this[f]=e;let t=new w(this);t.on("drain",function(){this.ws[f].socket.resume()}),e.socket.ws=this,this[E]=t,this[h]=A.OPEN;let r=e.headersList.get("sec-websocket-extensions");null!==r&&(this.#k=r);let n=e.headersList.get("sec-websocket-protocol");null!==n&&(this.#S=n),B("open",this)}}_.CONNECTING=_.prototype.CONNECTING=A.CONNECTING,_.OPEN=_.prototype.OPEN=A.OPEN,_.CLOSING=_.prototype.CLOSING=A.CLOSING,_.CLOSED=_.prototype.CLOSED=A.CLOSED,Object.defineProperties(_.prototype,{CONNECTING:a,OPEN:a,CLOSING:a,CLOSED:a,url:b,readyState:b,bufferedAmount:b,onopen:b,onerror:b,onclose:b,close:b,onmessage:b,binaryType:b,send:b,extensions:b,protocol:b,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}}),Object.defineProperties(_,{CONNECTING:a,OPEN:a,CLOSING:a,CLOSED:a}),n.converters["sequence<DOMString>"]=n.sequenceConverter(n.converters.DOMString),n.converters["DOMString or sequence<DOMString>"]=function(e){return"Object"===n.util.Type(e)&&Symbol.iterator in e?n.converters["sequence<DOMString>"](e):n.converters.DOMString(e)},n.converters.WebSocketInit=n.dictionaryConverter([{key:"protocols",converter:n.converters["DOMString or sequence<DOMString>"],get defaultValue(){return[]}},{key:"dispatcher",converter:e=>e,get defaultValue(){return k()}},{key:"headers",converter:n.nullableConverter(n.converters.HeadersInit)}]),n.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(e){return"Object"!==n.util.Type(e)||Symbol.iterator in e?{protocols:n.converters["DOMString or sequence<DOMString>"](e)}:n.converters.WebSocketInit(e)},n.converters.WebSocketSendData=function(e){if("Object"===n.util.Type(e)){if(S(e))return n.converters.Blob(e,{strict:!1});if(ArrayBuffer.isView(e)||R.isAnyArrayBuffer(e))return n.converters.BufferSource(e)}return n.converters.USVString(e)},e.exports={WebSocket:_}},74733:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},50826:(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function s(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;null!==s&&i<e;i++)s=s.next;for(;null!==s&&i<t;i++,s=s.next)r.push(s.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;null!==s&&i>t;i--)s=s.prev;for(;null!==s&&i>e;i--,s=s.prev)r.push(s.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;for(var o=[],n=0;s&&n<t;n++)o.push(s.value),s=this.removeNode(s);null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=i(this,s,r[n]);return o},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(74733)(n)}catch(e){}},97967:e=>{"use strict";function t(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2756:e=>{"use strict";function t(e,t,r,n,i,s,o){try{var a=e[s](o),A=a.value}catch(e){r(e);return}a.done?t(A):Promise.resolve(A).then(n,i)}function r(e){return function(){var r=this,n=arguments;return new Promise(function(i,s){var o=e.apply(r,n);function a(e){t(o,i,s,a,A,"next",e)}function A(e){t(o,i,s,a,A,"throw",e)}a(void 0)})}}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},58121:e=>{"use strict";function t(e,t){return t.get?t.get.call(e):t.value}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},87841:e=>{"use strict";function t(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},30984:e=>{"use strict";function t(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},35183:e=>{"use strict";function t(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},28117:(e,t,r)=>{"use strict";var n=r(58121),i=r(35183);function s(e,t){var r=i(e,t,"get");return n(e,r)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},59706:(e,t,r)=>{"use strict";var n=r(87841),i=r(35183);function s(e,t,r){var s=i(e,t,"set");return n(e,s,r),r}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},68006:(e,t,r)=>{"use strict";var n=r(87848),i=r(99753);function s(e,t,r){if(i())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,t);var o=new(e.bind.apply(e,s));return r&&n(o,r.prototype),o}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},43490:(e,t,r)=>{"use strict";var n=r(11298);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}function s(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},74300:(e,t,r)=>{"use strict";var n=r(11298);function i(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},40066:e=>{"use strict";function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},16829:e=>{"use strict";function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},76847:(e,t,r)=>{"use strict";var n=r(87848);function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},12272:e=>{"use strict";function t(e){return e&&e.__esModule?e:{default:e}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},55014:e=>{"use strict";function t(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},99753:e=>{"use strict";function t(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(e.exports=t=function(){return!!r},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7079:(e,t,r)=>{"use strict";var n=r(54331).default,i=r(97967);function s(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return i(e)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},82831:(e,t,r)=>{"use strict";var n=r(54331).default;function i(){e.exports=i=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var t,r={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},A="function"==typeof Symbol?Symbol:{},l=A.iterator||"@@iterator",c=A.asyncIterator||"@@asyncIterator",u=A.toStringTag||"@@toStringTag";function h(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(e){h=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var i=Object.create((t&&t.prototype instanceof y?t:y).prototype);return a(i,"_invoke",{value:R(e,r,new N(n||[]))}),i}function g(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=d;var f="suspendedStart",p="suspendedYield",E="executing",m="completed",C={};function y(){}function I(){}function B(){}var Q={};h(Q,l,function(){return this});var v=Object.getPrototypeOf,w=v&&v(v(F([])));w&&w!==s&&o.call(w,l)&&(Q=w);var b=B.prototype=y.prototype=Object.create(Q);function S(e){["next","throw","return"].forEach(function(t){h(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;function i(r,s,a,A){var l=g(e[r],e,s);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==n(u)&&o.call(u,"__await")?t.resolve(u.__await).then(function(e){i("next",e,a,A)},function(e){i("throw",e,a,A)}):t.resolve(u).then(function(e){c.value=e,a(c)},function(e){return i("throw",e,a,A)})}A(l.arg)}a(this,"_invoke",{value:function(e,n){function s(){return new t(function(t,r){i(e,n,t,r)})}return r=r?r.then(s,s):s()}})}function R(e,r,n){var i=f;return function(s,o){if(i===E)throw Error("Generator is already running");if(i===m){if("throw"===s)throw o;return{value:t,done:!0}}for(n.method=s,n.arg=o;;){var a=n.delegate;if(a){var A=D(a,n);if(A){if(A===C)continue;return A}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=E;var l=g(e,r,n);if("normal"===l.type){if(i=n.done?m:p,l.arg===C)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=m,n.method="throw",n.arg=l.arg)}}}function D(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,D(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),C;var s=g(i,e.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,C;var o=s.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,C):o:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,C)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function F(e){if(e||""===e){var r=e[l];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function r(){for(;++i<e.length;)if(o.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}throw TypeError(n(e)+" is not iterable")}return I.prototype=B,a(b,"constructor",{value:B,configurable:!0}),a(B,"constructor",{value:I,configurable:!0}),I.displayName=h(B,u,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===I||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,B):(e.__proto__=B,h(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},r.awrap=function(e){return{__await:e}},S(k.prototype),h(k.prototype,c,function(){return this}),r.AsyncIterator=k,r.async=function(e,t,n,i,s){void 0===s&&(s=Promise);var o=new k(d(e,t,n,i),s);return r.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},S(b),h(b,u,"Generator"),h(b,l,function(){return this}),h(b,"toString",function(){return"[object Generator]"}),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=F,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,i){return a.type="throw",a.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var A=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(A&&l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(A){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,C):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),C},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),C}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:F(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),C}},r}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},87848:e=>{"use strict";function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},72077:(e,t,r)=>{"use strict";var n=r(54331).default;function i(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},11298:(e,t,r)=>{"use strict";var n=r(54331).default,i=r(72077);function s(e){var t=i(e,"string");return"symbol"==n(t)?t:String(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},54331:e=>{"use strict";function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},81044:(e,t,r)=>{"use strict";var n=r(16829),i=r(87848),s=r(55014),o=r(68006);function a(t){var r="function"==typeof Map?new Map:void 0;return e.exports=a=function(e){if(null===e||!s(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return o(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,a(t)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},50075:(e,t,r)=>{"use strict";var n=r(82831)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},95817:(e,t,r)=>{"use strict";let n=r(84492).Writable,i=r(47261).inherits,s=r(77037),o=r(33997),a=r(20304),A=45,l=Buffer.from("-"),c=Buffer.from("\r\n"),u=function(){};function h(e){if(!(this instanceof h))return new h(e);if(n.call(this,e),!e||!e.headerFirst&&"string"!=typeof e.boundary)throw TypeError("Boundary required");"string"==typeof e.boundary?this.setBoundary(e.boundary):this._bparser=void 0,this._headerFirst=e.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:e.partHwm},this._pause=!1;let t=this;this._hparser=new a(e),this._hparser.on("header",function(e){t._inHeader=!1,t._part.emit("header",e)})}i(h,n),h.prototype.emit=function(e){if("finish"!==e||this._realFinish)n.prototype.emit.apply(this,arguments);else if(!this._finished){let e=this;process.nextTick(function(){if(e.emit("error",Error("Unexpected end of multipart data")),e._part&&!e._ignoreData){let t=e._isPreamble?"Preamble":"Part";e._part.emit("error",Error(t+" terminated early due to unexpected end of multipart data")),e._part.push(null),process.nextTick(function(){e._realFinish=!0,e.emit("finish"),e._realFinish=!1});return}e._realFinish=!0,e.emit("finish"),e._realFinish=!1})}},h.prototype._write=function(e,t,r){if(!this._hparser&&!this._bparser)return r();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new o(this._partOpts),0!==this.listenerCount("preamble")?this.emit("preamble",this._part):this._ignore());let t=this._hparser.push(e);if(this._inHeader||void 0===t||!(t<e.length))return r();e=e.slice(t)}this._firstWrite&&(this._bparser.push(c),this._firstWrite=!1),this._bparser.push(e),this._pause?this._cb=r:r()},h.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0},h.prototype.setBoundary=function(e){let t=this;this._bparser=new s("\r\n--"+e),this._bparser.on("info",function(e,r,n,i){t._oninfo(e,r,n,i)})},h.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on("error",u),this._part.resume())},h.prototype._oninfo=function(e,t,r,n){let i,s;let a=this,c=0,u=!0;if(!this._part&&this._justMatched&&t){for(;this._dashes<2&&r+c<n;)if(t[r+c]===A)++c,++this._dashes;else{this._dashes&&(i=l),this._dashes=0;break}if(2===this._dashes&&(r+c<n&&0!==this.listenerCount("trailer")&&this.emit("trailer",t.slice(r+c,n)),this.reset(),this._finished=!0,0===a._parts&&(a._realFinish=!0,a.emit("finish"),a._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new o(this._partOpts),this._part._read=function(e){a._unpause()},this._isPreamble&&0!==this.listenerCount("preamble")?this.emit("preamble",this._part):!0!==this._isPreamble&&0!==this.listenerCount("part")?this.emit("part",this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),!t||!(r<n)||this._ignoreData||(this._isPreamble||!this._inHeader?(i&&(u=this._part.push(i)),(u=this._part.push(t.slice(r,n)))||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(i&&this._hparser.push(i),s=this._hparser.push(t.slice(r,n)),!this._inHeader&&void 0!==s&&s<n&&this._oninfo(!1,t,r+s,n))),e&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:r!==n&&(++this._parts,this._part.on("end",function(){0==--a._parts&&(a._finished?(a._realFinish=!0,a.emit("finish"),a._realFinish=!1):a._unpause())})),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)},h.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){let e=this._cb;this._cb=void 0,e()}},e.exports=h},20304:(e,t,r)=>{"use strict";let n=r(15673).EventEmitter,i=r(47261).inherits,s=r(5966),o=r(77037),a=Buffer.from("\r\n\r\n"),A=/\r\n/g,l=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function c(e){n.call(this),e=e||{};let t=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=s(e,"maxHeaderPairs",2e3),this.maxHeaderSize=s(e,"maxHeaderSize",81920),this.buffer="",this.header={},this.finished=!1,this.ss=new o(a),this.ss.on("info",function(e,r,n,i){r&&!t.maxed&&(t.nread+i-n>=t.maxHeaderSize?(i=t.maxHeaderSize-t.nread+n,t.nread=t.maxHeaderSize,t.maxed=!0):t.nread+=i-n,t.buffer+=r.toString("binary",n,i)),e&&t._finish()})}i(c,n),c.prototype.push=function(e){let t=this.ss.push(e);if(this.finished)return t},c.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()},c.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;let e=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",e)},c.prototype._parseHeader=function(){let e,t;if(this.npairs===this.maxHeaderPairs)return;let r=this.buffer.split(A),n=r.length;for(var i=0;i<n;++i){if(0===r[i].length)continue;if(("	"===r[i][0]||" "===r[i][0])&&t){this.header[t][this.header[t].length-1]+=r[i];continue}let n=r[i].indexOf(":");if(-1===n||0===n)return;if(t=(e=l.exec(r[i]))[1].toLowerCase(),this.header[t]=this.header[t]||[],this.header[t].push(e[2]||""),++this.npairs===this.maxHeaderPairs)break}},e.exports=c},33997:(e,t,r)=>{"use strict";let n=r(47261).inherits,i=r(84492).Readable;function s(e){i.call(this,e)}n(s,i),s.prototype._read=function(e){},e.exports=s},77037:(e,t,r)=>{"use strict";let n=r(15673).EventEmitter;function i(e){if("string"==typeof e&&(e=Buffer.from(e)),!Buffer.isBuffer(e))throw TypeError("The needle has to be a String or a Buffer.");let t=e.length;if(0===t)throw Error("The needle cannot be an empty String/Buffer.");if(t>256)throw Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=Array(256).fill(t),this._lookbehind_size=0,this._needle=e,this._bufpos=0,this._lookbehind=Buffer.alloc(t);for(var r=0;r<t-1;++r)this._occ[e[r]]=t-1-r}(0,r(47261).inherits)(i,n),i.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0},i.prototype.push=function(e,t){let r;Buffer.isBuffer(e)||(e=Buffer.from(e,"binary"));let n=e.length;for(this._bufpos=t||0;r!==n&&this.matches<this.maxMatches;)r=this._sbmh_feed(e);return r},i.prototype._sbmh_feed=function(e){let t;let r=e.length,n=this._needle,i=n.length,s=n[i-1],o=-this._lookbehind_size;if(o<0){for(;o<0&&o<=r-i;){if((t=this._sbmh_lookup_char(e,o+i-1))===s&&this._sbmh_memcmp(e,o,i-1))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=o+i;o+=this._occ[t]}if(o<0)for(;o<0&&!this._sbmh_memcmp(e,o,r-o);)++o;if(o>=0)this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{let t=this._lookbehind_size+o;return t>0&&this.emit("info",!1,this._lookbehind,0,t),this._lookbehind.copy(this._lookbehind,0,t,this._lookbehind_size-t),this._lookbehind_size-=t,e.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=r,this._bufpos=r,r}}if(o+=(o>=0)*this._bufpos,-1!==e.indexOf(n,o))return o=e.indexOf(n,o),++this.matches,o>0?this.emit("info",!0,e,this._bufpos,o):this.emit("info",!0),this._bufpos=o+i;for(o=r-i;o<r&&(e[o]!==n[0]||0!==Buffer.compare(e.subarray(o,o+r-o),n.subarray(0,r-o)));)++o;return o<r&&(e.copy(this._lookbehind,0,o,o+(r-o)),this._lookbehind_size=r-o),o>0&&this.emit("info",!1,e,this._bufpos,o<r?o:r),this._bufpos=r,r},i.prototype._sbmh_lookup_char=function(e,t){return t<0?this._lookbehind[this._lookbehind_size+t]:e[t]},i.prototype._sbmh_memcmp=function(e,t,r){for(var n=0;n<r;++n)if(this._sbmh_lookup_char(e,t+n)!==this._needle[n])return!1;return!0},e.exports=i},1464:(e,t,r)=>{"use strict";let n=r(84492).Writable,{inherits:i}=r(47261),s=r(95817),o=r(45571),a=r(27303),A=r(69447);function l(e){if(!(this instanceof l))return new l(e);if("object"!=typeof e)throw TypeError("Busboy expected an options-Object.");if("object"!=typeof e.headers)throw TypeError("Busboy expected an options-Object with headers-attribute.");if("string"!=typeof e.headers["content-type"])throw TypeError("Missing Content-Type-header.");let{headers:t,...r}=e;this.opts={autoDestroy:!1,...r},n.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(t),this._finished=!1}i(l,n),l.prototype.emit=function(e){if("finish"===e){if(this._done){if(this._finished)return}else{this._parser?.end();return}this._finished=!0}n.prototype.emit.apply(this,arguments)},l.prototype.getParserByHeaders=function(e){let t=A(e["content-type"]),r={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:e,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:t,preservePath:this.opts.preservePath};if(o.detect.test(t[0]))return new o(this,r);if(a.detect.test(t[0]))return new a(this,r);throw Error("Unsupported Content-Type.")},l.prototype._write=function(e,t,r){this._parser.write(e,r)},e.exports=l,e.exports.default=l,e.exports.Busboy=l,e.exports.Dicer=s},45571:(e,t,r)=>{"use strict";let{Readable:n}=r(84492),{inherits:i}=r(47261),s=r(95817),o=r(69447),a=r(85723),A=r(15746),l=r(5966),c=/^boundary$/i,u=/^form-data$/i,h=/^charset$/i,d=/^filename$/i,g=/^name$/i;function f(e,t){let r,n,i,f,m;let C=this,y=t.limits,I=t.isPartAFile||((e,t,r)=>"application/octet-stream"===t||void 0!==r),B=t.parsedConType||[],Q=t.defCharset||"utf8",v=t.preservePath,w={highWaterMark:t.fileHwm};for(r=0,n=B.length;r<n;++r)if(Array.isArray(B[r])&&c.test(B[r][0])){i=B[r][1];break}function b(){0===L&&O&&!e._done&&(O=!1,C.end())}if("string"!=typeof i)throw Error("Multipart: Boundary not found");let S=l(y,"fieldSize",1048576),k=l(y,"fileSize",1/0),R=l(y,"files",1/0),D=l(y,"fields",1/0),_=l(y,"parts",1/0),T=l(y,"headerPairs",2e3),N=l(y,"headerSize",81920),F=0,M=0,L=0,O=!1;this._needDrain=!1,this._pause=!1,this._cb=void 0,this._nparts=0,this._boy=e;let x={boundary:i,maxHeaderPairs:T,maxHeaderSize:N,partHwm:w.highWaterMark,highWaterMark:t.highWaterMark};this.parser=new s(x),this.parser.on("drain",function(){if(C._needDrain=!1,C._cb&&!C._pause){let e=C._cb;C._cb=void 0,e()}}).on("part",function t(i){if(++C._nparts>_)return C.parser.removeListener("part",t),C.parser.on("part",p),e.hitPartsLimit=!0,e.emit("partsLimit"),p(i);if(m){let e=m;e.emit("end"),e.removeAllListeners("end")}i.on("header",function(t){let s,l,c,y,B,_,T,N;let O=0;if(t["content-type"]&&(c=o(t["content-type"][0]))[0]){for(r=0,s=c[0].toLowerCase(),n=c.length;r<n;++r)if(h.test(c[r][0])){y=c[r][1].toLowerCase();break}}if(void 0===s&&(s="text/plain"),void 0===y&&(y=Q),!t["content-disposition"]||(c=o(t["content-disposition"][0]),!u.test(c[0])))return p(i);for(r=0,n=c.length;r<n;++r)g.test(c[r][0])?l=c[r][1]:d.test(c[r][0])&&(_=c[r][1],v||(_=A(_)));if(B=t["content-transfer-encoding"]?t["content-transfer-encoding"][0].toLowerCase():"7bit",I(l,s,_)){if(F===R)return e.hitFilesLimit||(e.hitFilesLimit=!0,e.emit("filesLimit")),p(i);if(++F,0===e.listenerCount("file")){C.parser._ignore();return}++L;let t=new E(w);f=t,t.on("end",function(){if(--L,C._pause=!1,b(),C._cb&&!C._needDrain){let e=C._cb;C._cb=void 0,e()}}),t._read=function(e){if(C._pause&&(C._pause=!1,C._cb&&!C._needDrain)){let e=C._cb;C._cb=void 0,e()}},e.emit("file",l,t,_,B,s),T=function(e){if((O+=e.length)>k){let r=k-O+e.length;r>0&&t.push(e.slice(0,r)),t.truncated=!0,t.bytesRead=k,i.removeAllListeners("data"),t.emit("limit");return}t.push(e)||(C._pause=!0),t.bytesRead=O},N=function(){f=void 0,t.push(null)}}else{if(M===D)return e.hitFieldsLimit||(e.hitFieldsLimit=!0,e.emit("fieldsLimit")),p(i);++M,++L;let t="",r=!1;m=i,T=function(e){if((O+=e.length)>S){let n=S-(O-e.length);t+=e.toString("binary",0,n),r=!0,i.removeAllListeners("data")}else t+=e.toString("binary")},N=function(){m=void 0,t.length&&(t=a(t,"binary",y)),e.emit("field",l,t,!1,r,B,s),--L,b()}}i._readableState.sync=!1,i.on("data",T),i.on("end",N)}).on("error",function(e){f&&f.emit("error",e)})}).on("error",function(t){e.emit("error",t)}).on("finish",function(){O=!0,b()})}function p(e){e.resume()}function E(e){n.call(this,e),this.bytesRead=0,this.truncated=!1}f.detect=/^multipart\/form-data/i,f.prototype.write=function(e,t){let r=this.parser.write(e);r&&!this._pause?t():(this._needDrain=!r,this._cb=t)},f.prototype.end=function(){let e=this;e.parser.writable?e.parser.end():e._boy._done||process.nextTick(function(){e._boy._done=!0,e._boy.emit("finish")})},i(E,n),E.prototype._read=function(e){},e.exports=f},27303:(e,t,r)=>{"use strict";let n=r(16875),i=r(85723),s=r(5966),o=/^charset$/i;function a(e,t){let r;let i=t.limits,a=t.parsedConType;this.boy=e,this.fieldSizeLimit=s(i,"fieldSize",1048576),this.fieldNameSizeLimit=s(i,"fieldNameSize",100),this.fieldsLimit=s(i,"fields",1/0);for(var A=0,l=a.length;A<l;++A)if(Array.isArray(a[A])&&o.test(a[A][0])){r=a[A][1].toLowerCase();break}void 0===r&&(r=t.defCharset||"utf8"),this.decoder=new n,this.charset=r,this._fields=0,this._state="key",this._checkingBytes=!0,this._bytesKey=0,this._bytesVal=0,this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._hitLimit=!1}a.detect=/^application\/x-www-form-urlencoded/i,a.prototype.write=function(e,t){let r,n,s;if(this._fields===this.fieldsLimit)return this.boy.hitFieldsLimit||(this.boy.hitFieldsLimit=!0,this.boy.emit("fieldsLimit")),t();let o=0,a=e.length;for(;o<a;)if("key"===this._state){for(r=n=void 0,s=o;s<a;++s){if(!this._checkingBytes&&++o,61===e[s]){r=s;break}if(38===e[s]){n=s;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=!0;break}this._checkingBytes&&++this._bytesKey}if(void 0!==r)r>o&&(this._key+=this.decoder.write(e.toString("binary",o,r))),this._state="val",this._hitLimit=!1,this._checkingBytes=!0,this._val="",this._bytesVal=0,this._valTrunc=!1,this.decoder.reset(),o=r+1;else if(void 0!==n){let r;++this._fields;let s=this._keyTrunc;if(r=n>o?this._key+=this.decoder.write(e.toString("binary",o,n)):this._key,this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),r.length&&this.boy.emit("field",i(r,"binary",this.charset),"",s,!1),o=n+1,this._fields===this.fieldsLimit)return t()}else this._hitLimit?(s>o&&(this._key+=this.decoder.write(e.toString("binary",o,s))),o=s,(this._bytesKey=this._key.length)===this.fieldNameSizeLimit&&(this._checkingBytes=!1,this._keyTrunc=!0)):(o<a&&(this._key+=this.decoder.write(e.toString("binary",o))),o=a)}else{for(n=void 0,s=o;s<a;++s){if(!this._checkingBytes&&++o,38===e[s]){n=s;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=!0;break}this._checkingBytes&&++this._bytesVal}if(void 0!==n){if(++this._fields,n>o&&(this._val+=this.decoder.write(e.toString("binary",o,n))),this.boy.emit("field",i(this._key,"binary",this.charset),i(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this._state="key",this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),o=n+1,this._fields===this.fieldsLimit)return t()}else this._hitLimit?(s>o&&(this._val+=this.decoder.write(e.toString("binary",o,s))),o=s,(""===this._val&&0===this.fieldSizeLimit||(this._bytesVal=this._val.length)===this.fieldSizeLimit)&&(this._checkingBytes=!1,this._valTrunc=!0)):(o<a&&(this._val+=this.decoder.write(e.toString("binary",o))),o=a)}t()},a.prototype.end=function(){this.boy._done||("key"===this._state&&this._key.length>0?this.boy.emit("field",i(this._key,"binary",this.charset),"",this._keyTrunc,!1):"val"===this._state&&this.boy.emit("field",i(this._key,"binary",this.charset),i(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this.boy._done=!0,this.boy.emit("finish"))},e.exports=a},16875:e=>{"use strict";let t=/\+/g,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function n(){this.buffer=void 0}n.prototype.write=function(e){e=e.replace(t," ");let n="",i=0,s=0,o=e.length;for(;i<o;++i)void 0!==this.buffer?r[e.charCodeAt(i)]?(this.buffer+=e[i],++s,2===this.buffer.length&&(n+=String.fromCharCode(parseInt(this.buffer,16)),this.buffer=void 0)):(n+="%"+this.buffer,this.buffer=void 0,--i):"%"===e[i]&&(i>s&&(n+=e.substring(s,i),s=i),this.buffer="",++s);return s<o&&void 0===this.buffer&&(n+=e.substring(s)),n},n.prototype.reset=function(){this.buffer=void 0},e.exports=n},15746:e=>{"use strict";e.exports=function(e){if("string"!=typeof e)return"";for(var t=e.length-1;t>=0;--t)switch(e.charCodeAt(t)){case 47:case 92:return".."===(e=e.slice(t+1))||"."===e?"":e}return".."===e||"."===e?"":e}},85723:e=>{"use strict";let t=new TextDecoder("utf-8"),r=new Map([["utf-8",t],["utf8",t]]);function n(e){let t;for(;;)switch(e){case"utf-8":case"utf8":return i.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return i.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return i.utf16le;case"base64":return i.base64;default:if(void 0===t){t=!0,e=e.toLowerCase();continue}return i.other.bind(e)}}let i={utf8:(e,t)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,t)),e.utf8Slice(0,e.length)),latin1:(e,t)=>0===e.length?"":"string"==typeof e?e:e.latin1Slice(0,e.length),utf16le:(e,t)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,t)),e.ucs2Slice(0,e.length)),base64:(e,t)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,t)),e.base64Slice(0,e.length)),other:(e,t)=>{if(0===e.length)return"";if("string"==typeof e&&(e=Buffer.from(e,t)),r.has((void 0).toString()))try{return r.get(void 0).decode(e)}catch{}return"string"==typeof e?e:e.toString()}};function s(e,t,r){return e?n(r)(e,t):e}e.exports=s},5966:e=>{"use strict";e.exports=function(e,t,r){if(!e||void 0===e[t]||null===e[t])return r;if("number"!=typeof e[t]||isNaN(e[t]))throw TypeError("Limit "+t+" is not a valid number");return e[t]}},69447:(e,t,r)=>{"use strict";let n=r(85723),i=/%[a-fA-F0-9][a-fA-F0-9]/g,s={"%00":"\x00","%01":"\x01","%02":"\x02","%03":"\x03","%04":"\x04","%05":"\x05","%06":"\x06","%07":"\x07","%08":"\b","%09":"	","%0a":"\n","%0A":"\n","%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"\x0e","%0E":"\x0e","%0f":"\x0f","%0F":"\x0f","%10":"\x10","%11":"\x11","%12":"\x12","%13":"\x13","%14":"\x14","%15":"\x15","%16":"\x16","%17":"\x17","%18":"\x18","%19":"\x19","%1a":"\x1a","%1A":"\x1a","%1b":"\x1b","%1B":"\x1b","%1c":"\x1c","%1C":"\x1c","%1d":"\x1d","%1D":"\x1d","%1e":"\x1e","%1E":"\x1e","%1f":"\x1f","%1F":"\x1f","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"\x7f","%7F":"\x7f","%80":"\x80","%81":"\x81","%82":"\x82","%83":"\x83","%84":"\x84","%85":"\x85","%86":"\x86","%87":"\x87","%88":"\x88","%89":"\x89","%8a":"\x8a","%8A":"\x8a","%8b":"\x8b","%8B":"\x8b","%8c":"\x8c","%8C":"\x8c","%8d":"\x8d","%8D":"\x8d","%8e":"\x8e","%8E":"\x8e","%8f":"\x8f","%8F":"\x8f","%90":"\x90","%91":"\x91","%92":"\x92","%93":"\x93","%94":"\x94","%95":"\x95","%96":"\x96","%97":"\x97","%98":"\x98","%99":"\x99","%9a":"\x9a","%9A":"\x9a","%9b":"\x9b","%9B":"\x9b","%9c":"\x9c","%9C":"\x9c","%9d":"\x9d","%9D":"\x9d","%9e":"\x9e","%9E":"\x9e","%9f":"\x9f","%9F":"\x9f","%a0":"\xa0","%A0":"\xa0","%a1":"\xa1","%A1":"\xa1","%a2":"\xa2","%A2":"\xa2","%a3":"\xa3","%A3":"\xa3","%a4":"\xa4","%A4":"\xa4","%a5":"\xa5","%A5":"\xa5","%a6":"\xa6","%A6":"\xa6","%a7":"\xa7","%A7":"\xa7","%a8":"\xa8","%A8":"\xa8","%a9":"\xa9","%A9":"\xa9","%aa":"\xaa","%Aa":"\xaa","%aA":"\xaa","%AA":"\xaa","%ab":"\xab","%Ab":"\xab","%aB":"\xab","%AB":"\xab","%ac":"\xac","%Ac":"\xac","%aC":"\xac","%AC":"\xac","%ad":"\xad","%Ad":"\xad","%aD":"\xad","%AD":"\xad","%ae":"\xae","%Ae":"\xae","%aE":"\xae","%AE":"\xae","%af":"\xaf","%Af":"\xaf","%aF":"\xaf","%AF":"\xaf","%b0":"\xb0","%B0":"\xb0","%b1":"\xb1","%B1":"\xb1","%b2":"\xb2","%B2":"\xb2","%b3":"\xb3","%B3":"\xb3","%b4":"\xb4","%B4":"\xb4","%b5":"\xb5","%B5":"\xb5","%b6":"\xb6","%B6":"\xb6","%b7":"\xb7","%B7":"\xb7","%b8":"\xb8","%B8":"\xb8","%b9":"\xb9","%B9":"\xb9","%ba":"\xba","%Ba":"\xba","%bA":"\xba","%BA":"\xba","%bb":"\xbb","%Bb":"\xbb","%bB":"\xbb","%BB":"\xbb","%bc":"\xbc","%Bc":"\xbc","%bC":"\xbc","%BC":"\xbc","%bd":"\xbd","%Bd":"\xbd","%bD":"\xbd","%BD":"\xbd","%be":"\xbe","%Be":"\xbe","%bE":"\xbe","%BE":"\xbe","%bf":"\xbf","%Bf":"\xbf","%bF":"\xbf","%BF":"\xbf","%c0":"\xc0","%C0":"\xc0","%c1":"\xc1","%C1":"\xc1","%c2":"\xc2","%C2":"\xc2","%c3":"\xc3","%C3":"\xc3","%c4":"\xc4","%C4":"\xc4","%c5":"\xc5","%C5":"\xc5","%c6":"\xc6","%C6":"\xc6","%c7":"\xc7","%C7":"\xc7","%c8":"\xc8","%C8":"\xc8","%c9":"\xc9","%C9":"\xc9","%ca":"\xca","%Ca":"\xca","%cA":"\xca","%CA":"\xca","%cb":"\xcb","%Cb":"\xcb","%cB":"\xcb","%CB":"\xcb","%cc":"\xcc","%Cc":"\xcc","%cC":"\xcc","%CC":"\xcc","%cd":"\xcd","%Cd":"\xcd","%cD":"\xcd","%CD":"\xcd","%ce":"\xce","%Ce":"\xce","%cE":"\xce","%CE":"\xce","%cf":"\xcf","%Cf":"\xcf","%cF":"\xcf","%CF":"\xcf","%d0":"\xd0","%D0":"\xd0","%d1":"\xd1","%D1":"\xd1","%d2":"\xd2","%D2":"\xd2","%d3":"\xd3","%D3":"\xd3","%d4":"\xd4","%D4":"\xd4","%d5":"\xd5","%D5":"\xd5","%d6":"\xd6","%D6":"\xd6","%d7":"\xd7","%D7":"\xd7","%d8":"\xd8","%D8":"\xd8","%d9":"\xd9","%D9":"\xd9","%da":"\xda","%Da":"\xda","%dA":"\xda","%DA":"\xda","%db":"\xdb","%Db":"\xdb","%dB":"\xdb","%DB":"\xdb","%dc":"\xdc","%Dc":"\xdc","%dC":"\xdc","%DC":"\xdc","%dd":"\xdd","%Dd":"\xdd","%dD":"\xdd","%DD":"\xdd","%de":"\xde","%De":"\xde","%dE":"\xde","%DE":"\xde","%df":"\xdf","%Df":"\xdf","%dF":"\xdf","%DF":"\xdf","%e0":"\xe0","%E0":"\xe0","%e1":"\xe1","%E1":"\xe1","%e2":"\xe2","%E2":"\xe2","%e3":"\xe3","%E3":"\xe3","%e4":"\xe4","%E4":"\xe4","%e5":"\xe5","%E5":"\xe5","%e6":"\xe6","%E6":"\xe6","%e7":"\xe7","%E7":"\xe7","%e8":"\xe8","%E8":"\xe8","%e9":"\xe9","%E9":"\xe9","%ea":"\xea","%Ea":"\xea","%eA":"\xea","%EA":"\xea","%eb":"\xeb","%Eb":"\xeb","%eB":"\xeb","%EB":"\xeb","%ec":"\xec","%Ec":"\xec","%eC":"\xec","%EC":"\xec","%ed":"\xed","%Ed":"\xed","%eD":"\xed","%ED":"\xed","%ee":"\xee","%Ee":"\xee","%eE":"\xee","%EE":"\xee","%ef":"\xef","%Ef":"\xef","%eF":"\xef","%EF":"\xef","%f0":"\xf0","%F0":"\xf0","%f1":"\xf1","%F1":"\xf1","%f2":"\xf2","%F2":"\xf2","%f3":"\xf3","%F3":"\xf3","%f4":"\xf4","%F4":"\xf4","%f5":"\xf5","%F5":"\xf5","%f6":"\xf6","%F6":"\xf6","%f7":"\xf7","%F7":"\xf7","%f8":"\xf8","%F8":"\xf8","%f9":"\xf9","%F9":"\xf9","%fa":"\xfa","%Fa":"\xfa","%fA":"\xfa","%FA":"\xfa","%fb":"\xfb","%Fb":"\xfb","%fB":"\xfb","%FB":"\xfb","%fc":"\xfc","%Fc":"\xfc","%fC":"\xfc","%FC":"\xfc","%fd":"\xfd","%Fd":"\xfd","%fD":"\xfd","%FD":"\xfd","%fe":"\xfe","%Fe":"\xfe","%fE":"\xfe","%FE":"\xfe","%ff":"\xff","%Ff":"\xff","%fF":"\xff","%FF":"\xff"};function o(e){return s[e]}let a=0,A=1,l=2,c=3;function u(e){let t=[],r=a,s="",u=!1,h=!1,d=0,g="",f=e.length;for(var p=0;p<f;++p){let f=e[p];if("\\"===f&&u){if(h)h=!1;else{h=!0;continue}}else if('"'===f){if(h)h=!1;else{u?(u=!1,r=a):u=!0;continue}}else{if(h&&u&&(g+="\\"),h=!1,(r===l||r===c)&&"'"===f){r===l?(r=c,s=g.substring(1)):r=A,g="";continue}if(r===a&&("*"===f||"="===f)&&t.length){r="*"===f?l:A,t[d]=[g,void 0],g="";continue}if(u||";"!==f){if(!u&&(" "===f||"	"===f))continue}else{r=a,s?(g.length&&(g=n(g.replace(i,o),"binary",s)),s=""):g.length&&(g=n(g,"binary","utf8")),void 0===t[d]?t[d]=g:t[d][1]=g,g="",++d;continue}}g+=f}return s&&g.length?g=n(g.replace(i,o),"binary",s):g&&(g=n(g,"binary","utf8")),void 0===t[d]?g&&(t[d]=g):t[d][1]=g,t}e.exports=u},15304:(e,t)=>{"use strict";var r,n=function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;/**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   */var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function n(e){return!0===(e&&e.__isLong__)}function i(e){var t=Math.clz32(e&-e);return e?31-t:t}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=n;var s={},o={};function a(e,t){var r,n,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(n=o[e]))?n:(r=l(e,0,!0),i&&(o[e]=r),r):(e|=0,(i=-128<=e&&e<128)&&(n=s[e]))?n:(r=l(e,e<0?-1:0,!1),i&&(s[e]=r),r)}function A(e,t){if(isNaN(e))return t?m:E;if(t){if(e<0)return m;if(e>=g)return Q}else{if(e<=-f)return v;if(e+1>=f)return B}return e<0?A(-e,t).neg():l(e%d|0,e/d|0,t)}function l(e,t,n){return new r(e,t,n)}r.fromInt=a,r.fromNumber=A,r.fromBits=l;var c=Math.pow;function u(e,t,r){if(0===e.length)throw Error("empty string");if("number"==typeof t?(r=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?m:E;if((r=r||10)<2||36<r)throw RangeError("radix");if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return u(e.substring(1),t,r).neg();for(var n,i=A(c(r,8)),s=E,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+a),r);if(a<8){var h=A(c(r,a));s=s.mul(h).add(A(l))}else s=(s=s.mul(i)).add(A(l))}return s.unsigned=t,s}function h(e,t){return"number"==typeof e?A(e,t):"string"==typeof e?u(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=u,r.fromValue=h;var d=4294967296,g=18446744073709552e3,f=0x7fffffffffffffff,p=a(16777216),E=a(0);r.ZERO=E;var m=a(0,!0);r.UZERO=m;var C=a(1);r.ONE=C;var y=a(1,!0);r.UONE=y;var I=a(-1);r.NEG_ONE=I;var B=l(-1,2147483647,!1);r.MAX_VALUE=B;var Q=l(-1,-1,!0);r.MAX_UNSIGNED_VALUE=Q;var v=l(0,-2147483648,!1);r.MIN_VALUE=v;var w=r.prototype;w.toInt=function(){return this.unsigned?this.low>>>0:this.low},w.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},w.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(!this.eq(v))return"-"+this.neg().toString(e);var t=A(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}for(var i=A(c(e,6),this.unsigned),s=this,o="";;){var a=s.div(i),l=(s.sub(a.mul(i)).toInt()>>>0).toString(e);if((s=a).isZero())return l+o;for(;l.length<6;)l="0"+l;o=""+l+o}},w.getHighBits=function(){return this.high},w.getHighBitsUnsigned=function(){return this.high>>>0},w.getLowBits=function(){return this.low},w.getLowBitsUnsigned=function(){return this.low>>>0},w.getNumBitsAbs=function(){if(this.isNegative())return this.eq(v)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&(e&1<<t)==0;t--);return 0!=this.high?t+33:t+1},w.isZero=function(){return 0===this.high&&0===this.low},w.eqz=w.isZero,w.isNegative=function(){return!this.unsigned&&this.high<0},w.isPositive=function(){return this.unsigned||this.high>=0},w.isOdd=function(){return(1&this.low)==1},w.isEven=function(){return(1&this.low)==0},w.equals=function(e){return n(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},w.eq=w.equals,w.notEquals=function(e){return!this.eq(e)},w.neq=w.notEquals,w.ne=w.notEquals,w.lessThan=function(e){return 0>this.comp(e)},w.lt=w.lessThan,w.lessThanOrEqual=function(e){return 0>=this.comp(e)},w.lte=w.lessThanOrEqual,w.le=w.lessThanOrEqual,w.greaterThan=function(e){return this.comp(e)>0},w.gt=w.greaterThan,w.greaterThanOrEqual=function(e){return this.comp(e)>=0},w.gte=w.greaterThanOrEqual,w.ge=w.greaterThanOrEqual,w.compare=function(e){if(n(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},w.comp=w.compare,w.negate=function(){return!this.unsigned&&this.eq(v)?v:this.not().add(C)},w.neg=w.negate,w.add=function(e){n(e)||(e=h(e));var t,r,i=this.high>>>16,s=65535&this.high,o=this.low>>>16,a=65535&this.low,A=e.high>>>16,c=65535&e.high,u=e.low>>>16,d=65535&e.low,g=0,f=0;return t=0+((r=0+(a+d))>>>16),r&=65535,t+=o+u,f+=t>>>16,t&=65535,f+=s+c,g+=f>>>16,f&=65535,g+=i+A,l(t<<16|r,(g&=65535)<<16|f,this.unsigned)},w.subtract=function(e){return n(e)||(e=h(e)),this.add(e.neg())},w.sub=w.subtract,w.multiply=function(e){if(this.isZero())return this;if(n(e)||(e=h(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?m:E;if(this.eq(v))return e.isOdd()?v:E;if(e.eq(v))return this.isOdd()?v:E;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(p)&&e.lt(p))return A(this.toNumber()*e.toNumber(),this.unsigned);var r,i,s=this.high>>>16,o=65535&this.high,a=this.low>>>16,c=65535&this.low,u=e.high>>>16,d=65535&e.high,g=e.low>>>16,f=65535&e.low,C=0,y=0;return r=0+((i=0+c*f)>>>16),i&=65535,r+=a*f,y+=r>>>16,r&=65535,r+=c*g,y+=r>>>16,r&=65535,y+=o*f,C+=y>>>16,y&=65535,y+=a*g,C+=y>>>16,y&=65535,y+=c*d,C+=y>>>16,y&=65535,C+=s*f+o*g+a*d+c*u,l(r<<16|i,(C&=65535)<<16|y,this.unsigned)},w.mul=w.multiply,w.divide=function(e){if(n(e)||(e=h(e)),e.isZero())throw Error("division by zero");if(t){var r,i,s;return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?m:E;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return m;if(e.gt(this.shru(1)))return y;s=m}else{if(this.eq(v))return e.eq(C)||e.eq(I)?v:e.eq(v)?C:(r=this.shr(1).div(e).shl(1)).eq(E)?e.isNegative()?C:I:(i=this.sub(e.mul(r)),s=r.add(i.div(e)));if(e.eq(v))return this.unsigned?m:E;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=E}for(i=this;i.gte(e);){for(var o=Math.ceil(Math.log(r=Math.max(1,Math.floor(i.toNumber()/e.toNumber())))/Math.LN2),a=o<=48?1:c(2,o-48),u=A(r),d=u.mul(e);d.isNegative()||d.gt(i);)r-=a,d=(u=A(r,this.unsigned)).mul(e);u.isZero()&&(u=C),s=s.add(u),i=i.sub(d)}return s},w.div=w.divide,w.modulo=function(e){return(n(e)||(e=h(e)),t)?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},w.mod=w.modulo,w.rem=w.modulo,w.not=function(){return l(~this.low,~this.high,this.unsigned)},w.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},w.clz=w.countLeadingZeros,w.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},w.ctz=w.countTrailingZeros,w.and=function(e){return n(e)||(e=h(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},w.or=function(e){return n(e)||(e=h(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},w.xor=function(e){return n(e)||(e=h(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},w.shiftLeft=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},w.shl=w.shiftLeft,w.shiftRight=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},w.shr=w.shiftRight,w.shiftRightUnsigned=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):32===e?l(this.high,0,this.unsigned):l(this.high>>>e-32,0,this.unsigned)},w.shru=w.shiftRightUnsigned,w.shr_u=w.shiftRightUnsigned,w.rotateLeft=function(e){var t;return(n(e)&&(e=e.toInt()),0==(e&=63))?this:32===e?l(this.high,this.low,this.unsigned):e<32?(t=32-e,l(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(e-=32,t=32-e,l(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},w.rotl=w.rotateLeft,w.rotateRight=function(e){var t;return(n(e)&&(e=e.toInt()),0==(e&=63))?this:32===e?l(this.high,this.low,this.unsigned):e<32?(t=32-e,l(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(e-=32,t=32-e,l(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},w.rotr=w.rotateRight,w.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},w.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},w.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},w.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},w.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var b=r;return e.default=b,"default"in e?e.default:e}({});void 0!==(r=(function(){return n}).apply(t,[]))&&(e.exports=r)},37645:e=>{"use strict";e.exports={i8:"1.9.14"}},87658:e=>{"use strict";e.exports=JSON.parse('{"name":"openid-client","version":"5.6.4","description":"OpenID Connect Relying Party (RP, Client) implementation for Node.js runtime, supports passportjs","keywords":["auth","authentication","basic","certified","client","connect","dynamic","electron","hybrid","identity","implicit","oauth","oauth2","oidc","openid","passport","relying party","strategy"],"homepage":"https://github.com/panva/node-openid-client","repository":"panva/node-openid-client","funding":{"url":"https://github.com/sponsors/panva"},"license":"MIT","author":"Filip Skokan <panva.ip@gmail.com>","exports":{"types":"./types/index.d.ts","import":"./lib/index.mjs","require":"./lib/index.js"},"main":"./lib/index.js","types":"./types/index.d.ts","files":["lib","types/index.d.ts"],"scripts":{"format":"npx prettier --loglevel silent --write ./lib ./test ./certification ./types","test":"mocha test/**/*.test.js"},"dependencies":{"jose":"^4.15.4","lru-cache":"^6.0.0","object-hash":"^2.2.0","oidc-token-hash":"^5.0.3"},"devDependencies":{"@types/node":"^16.18.59","@types/passport":"^1.0.14","base64url":"^3.0.1","chai":"^4.3.10","mocha":"^10.2.0","nock":"^13.3.6","prettier":"^2.8.8","readable-mock-req":"^0.2.2","sinon":"^9.2.4","timekeeper":"^2.3.1"},"standard-version":{"scripts":{"postchangelog":"sed -i \'\' -e \'s/### \\\\[/## [/g\' CHANGELOG.md"},"types":[{"type":"feat","section":"Features"},{"type":"fix","section":"Fixes"},{"type":"chore","hidden":true},{"type":"docs","hidden":true},{"type":"style","hidden":true},{"type":"refactor","section":"Refactor","hidden":false},{"type":"perf","section":"Performance","hidden":false},{"type":"test","hidden":true}]}}')},522:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},24552:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}}}}}}')},97105:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},8730:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')}};var __webpack_require__=require("../../../../webpack-runtime.js");__webpack_require__.C(exports);var __webpack_exec__=e=>__webpack_require__(__webpack_require__.s=e),__webpack_exports__=__webpack_require__.X(0,[638],()=>__webpack_exec__(22079));module.exports=__webpack_exports__})();